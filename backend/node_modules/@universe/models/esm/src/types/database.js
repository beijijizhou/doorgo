import * as Diff from './diffs.js';
import * as Helpers from './helpers.js';
import metadataCreateSQL from '../sql/metadata_create.sql.js';
import metadataGetByIdSQL from '../sql/metadata_get_by_id.sql.js';
import metadataInsertSQL from '../sql/metadata_insert.sql.js';
import metadataUpsertSQL from '../sql/metadata_upsert.sql.js';
import metadataDeleteSQL from '../sql/metadata_delete.sql.js';
import addressCreateSQL from '../sql/address_create.sql.js';
import addressGetByIdSQL from '../sql/address_get_by_id.sql.js';
import addressInsertSQL from '../sql/address_insert.sql.js';
import addressUpsertSQL from '../sql/address_upsert.sql.js';
import addressDeleteSQL from '../sql/address_delete.sql.js';
import turfCreateSQL from '../sql/turf_create.sql.js';
import turfGetByIdSQL from '../sql/turf_get_by_id.sql.js';
import turfInsertSQL from '../sql/turf_insert.sql.js';
import turfUpsertSQL from '../sql/turf_upsert.sql.js';
import turfDeleteSQL from '../sql/turf_delete.sql.js';
import emailCreateSQL from '../sql/email_create.sql.js';
import emailGetByIdSQL from '../sql/email_get_by_id.sql.js';
import emailInsertSQL from '../sql/email_insert.sql.js';
import emailUpsertSQL from '../sql/email_upsert.sql.js';
import emailDeleteSQL from '../sql/email_delete.sql.js';
import phoneCreateSQL from '../sql/phone_create.sql.js';
import phoneGetByIdSQL from '../sql/phone_get_by_id.sql.js';
import phoneInsertSQL from '../sql/phone_insert.sql.js';
import phoneUpsertSQL from '../sql/phone_upsert.sql.js';
import phoneDeleteSQL from '../sql/phone_delete.sql.js';
import personaddressCreateSQL from '../sql/person_address_create.sql.js';
import personaddressGetByIdSQL from '../sql/person_address_get_by_id.sql.js';
import personaddressInsertSQL from '../sql/person_address_insert.sql.js';
import personaddressUpsertSQL from '../sql/person_address_upsert.sql.js';
import personaddressDeleteSQL from '../sql/person_address_delete.sql.js';
import personphoneCreateSQL from '../sql/person_phone_create.sql.js';
import personphoneGetByIdSQL from '../sql/person_phone_get_by_id.sql.js';
import personphoneInsertSQL from '../sql/person_phone_insert.sql.js';
import personphoneUpsertSQL from '../sql/person_phone_upsert.sql.js';
import personphoneDeleteSQL from '../sql/person_phone_delete.sql.js';
import accountCreateSQL from '../sql/account_create.sql.js';
import accountGetByIdSQL from '../sql/account_get_by_id.sql.js';
import accountInsertSQL from '../sql/account_insert.sql.js';
import accountUpsertSQL from '../sql/account_upsert.sql.js';
import accountDeleteSQL from '../sql/account_delete.sql.js';
import experienceCreateSQL from '../sql/experience_create.sql.js';
import experienceGetByIdSQL from '../sql/experience_get_by_id.sql.js';
import experienceInsertSQL from '../sql/experience_insert.sql.js';
import experienceUpsertSQL from '../sql/experience_upsert.sql.js';
import experienceDeleteSQL from '../sql/experience_delete.sql.js';
import campaignCreateSQL from '../sql/campaign_create.sql.js';
import campaignGetByIdSQL from '../sql/campaign_get_by_id.sql.js';
import campaignInsertSQL from '../sql/campaign_insert.sql.js';
import campaignUpsertSQL from '../sql/campaign_upsert.sql.js';
import campaignDeleteSQL from '../sql/campaign_delete.sql.js';
import contestCreateSQL from '../sql/contest_create.sql.js';
import contestGetByIdSQL from '../sql/contest_get_by_id.sql.js';
import contestInsertSQL from '../sql/contest_insert.sql.js';
import contestUpsertSQL from '../sql/contest_upsert.sql.js';
import contestDeleteSQL from '../sql/contest_delete.sql.js';
import electionCreateSQL from '../sql/election_create.sql.js';
import electionGetByIdSQL from '../sql/election_get_by_id.sql.js';
import electionInsertSQL from '../sql/election_insert.sql.js';
import electionUpsertSQL from '../sql/election_upsert.sql.js';
import electionDeleteSQL from '../sql/election_delete.sql.js';
import voteCreateSQL from '../sql/vote_create.sql.js';
import voteGetByIdSQL from '../sql/vote_get_by_id.sql.js';
import voteInsertSQL from '../sql/vote_insert.sql.js';
import voteUpsertSQL from '../sql/vote_upsert.sql.js';
import voteDeleteSQL from '../sql/vote_delete.sql.js';
import returnsCreateSQL from '../sql/returns_create.sql.js';
import returnsGetByIdSQL from '../sql/returns_get_by_id.sql.js';
import returnsInsertSQL from '../sql/returns_insert.sql.js';
import returnsUpsertSQL from '../sql/returns_upsert.sql.js';
import returnsDeleteSQL from '../sql/returns_delete.sql.js';
import scoreCreateSQL from '../sql/score_create.sql.js';
import scoreGetByIdSQL from '../sql/score_get_by_id.sql.js';
import scoreInsertSQL from '../sql/score_insert.sql.js';
import scoreUpsertSQL from '../sql/score_upsert.sql.js';
import scoreDeleteSQL from '../sql/score_delete.sql.js';
import personCreateSQL from '../sql/person_create.sql.js';
import personGetByIdSQL from '../sql/person_get_by_id.sql.js';
import personInsertSQL from '../sql/person_insert.sql.js';
import personUpsertSQL from '../sql/person_upsert.sql.js';
import personDeleteSQL from '../sql/person_delete.sql.js';
import createIndexesSQL from '../sql/create_indexes.sql.js';
import deleteIndexesSQL from '../sql/delete_indexes.sql.js';
export function database(db, onDiff) {
    db.exec(metadataCreateSQL);
    db.exec(addressCreateSQL);
    db.exec(turfCreateSQL);
    db.exec(emailCreateSQL);
    db.exec(phoneCreateSQL);
    db.exec(personaddressCreateSQL);
    db.exec(personphoneCreateSQL);
    db.exec(accountCreateSQL);
    db.exec(experienceCreateSQL);
    db.exec(campaignCreateSQL);
    db.exec(contestCreateSQL);
    db.exec(electionCreateSQL);
    db.exec(voteCreateSQL);
    db.exec(returnsCreateSQL);
    db.exec(scoreCreateSQL);
    db.exec(personCreateSQL);
    db.exec(createIndexesSQL);
    // Metadata
    const MetadataGetById = db.prepare(metadataGetByIdSQL);
    const MetadataInsert = db.prepare(metadataInsertSQL);
    const MetadataUpsert = db.prepare(metadataUpsertSQL);
    const MetadataDelete = db.prepare(metadataDeleteSQL);
    // Address
    const AddressGetById = db.prepare(addressGetByIdSQL);
    const AddressInsert = db.prepare(addressInsertSQL);
    const AddressUpsert = db.prepare(addressUpsertSQL);
    const AddressDelete = db.prepare(addressDeleteSQL);
    // Turf
    const TurfGetById = db.prepare(turfGetByIdSQL);
    const TurfInsert = db.prepare(turfInsertSQL);
    const TurfUpsert = db.prepare(turfUpsertSQL);
    const TurfDelete = db.prepare(turfDeleteSQL);
    // Email
    const EmailGetById = db.prepare(emailGetByIdSQL);
    const EmailInsert = db.prepare(emailInsertSQL);
    const EmailUpsert = db.prepare(emailUpsertSQL);
    const EmailDelete = db.prepare(emailDeleteSQL);
    // Phone
    const PhoneGetById = db.prepare(phoneGetByIdSQL);
    const PhoneInsert = db.prepare(phoneInsertSQL);
    const PhoneUpsert = db.prepare(phoneUpsertSQL);
    const PhoneDelete = db.prepare(phoneDeleteSQL);
    // PersonAddress
    const PersonAddressGetById = db.prepare(personaddressGetByIdSQL);
    const PersonAddressInsert = db.prepare(personaddressInsertSQL);
    const PersonAddressUpsert = db.prepare(personaddressUpsertSQL);
    const PersonAddressDelete = db.prepare(personaddressDeleteSQL);
    // PersonPhone
    const PersonPhoneGetById = db.prepare(personphoneGetByIdSQL);
    const PersonPhoneInsert = db.prepare(personphoneInsertSQL);
    const PersonPhoneUpsert = db.prepare(personphoneUpsertSQL);
    const PersonPhoneDelete = db.prepare(personphoneDeleteSQL);
    // Account
    const AccountGetById = db.prepare(accountGetByIdSQL);
    const AccountInsert = db.prepare(accountInsertSQL);
    const AccountUpsert = db.prepare(accountUpsertSQL);
    const AccountDelete = db.prepare(accountDeleteSQL);
    // Experience
    const ExperienceGetById = db.prepare(experienceGetByIdSQL);
    const ExperienceInsert = db.prepare(experienceInsertSQL);
    const ExperienceUpsert = db.prepare(experienceUpsertSQL);
    const ExperienceDelete = db.prepare(experienceDeleteSQL);
    // Campaign
    const CampaignGetById = db.prepare(campaignGetByIdSQL);
    const CampaignInsert = db.prepare(campaignInsertSQL);
    const CampaignUpsert = db.prepare(campaignUpsertSQL);
    const CampaignDelete = db.prepare(campaignDeleteSQL);
    // Contest
    const ContestGetById = db.prepare(contestGetByIdSQL);
    const ContestInsert = db.prepare(contestInsertSQL);
    const ContestUpsert = db.prepare(contestUpsertSQL);
    const ContestDelete = db.prepare(contestDeleteSQL);
    // Election
    const ElectionGetById = db.prepare(electionGetByIdSQL);
    const ElectionInsert = db.prepare(electionInsertSQL);
    const ElectionUpsert = db.prepare(electionUpsertSQL);
    const ElectionDelete = db.prepare(electionDeleteSQL);
    // Vote
    const VoteGetById = db.prepare(voteGetByIdSQL);
    const VoteInsert = db.prepare(voteInsertSQL);
    const VoteUpsert = db.prepare(voteUpsertSQL);
    const VoteDelete = db.prepare(voteDeleteSQL);
    // Returns
    const ReturnsGetById = db.prepare(returnsGetByIdSQL);
    const ReturnsInsert = db.prepare(returnsInsertSQL);
    const ReturnsUpsert = db.prepare(returnsUpsertSQL);
    const ReturnsDelete = db.prepare(returnsDeleteSQL);
    // Score
    const ScoreGetById = db.prepare(scoreGetByIdSQL);
    const ScoreInsert = db.prepare(scoreInsertSQL);
    const ScoreUpsert = db.prepare(scoreUpsertSQL);
    const ScoreDelete = db.prepare(scoreDeleteSQL);
    // Person
    const PersonGetById = db.prepare(personGetByIdSQL);
    const PersonInsert = db.prepare(personInsertSQL);
    const PersonUpsert = db.prepare(personUpsertSQL);
    const PersonDelete = db.prepare(personDeleteSQL);
    // Ensure our file version metadata is set.
    db.exec(`INSERT INTO "Metadata" ("key","value") VALUES ('version', '3.0.13') ON CONFLICT ("key") DO UPDATE SET "value" = '3.0.13'`);
    return {
        indexes: {
            create() {
                db.exec(createIndexesSQL);
            },
            delete() {
                db.exec(deleteIndexesSQL);
            },
        },
        Metadata: {
            getById(key) {
                const val = MetadataGetById.get(key);
                return val ? Helpers.Metadata.hydrate(val) : null;
            },
            insert(data, silent) {
                const after = Helpers.Metadata.hydrate(data);
                MetadataInsert.run(Helpers.Metadata.sql(after));
                const diff = Diff.diffMetadata(null, after);
                !silent && onDiff(diff);
                return diff;
            },
            upsert(data, silent) {
                const after = Helpers.Metadata.dehydrate(data);
                const before = MetadataGetById.get(after.key);
                const diff = Diff.diffMetadata(before, after);
                if (!diff) {
                    return null;
                }
                MetadataUpsert.run(Helpers.Metadata.sql({ ...Helpers.Metadata.hydrate(before), ...after }));
                !silent && onDiff(diff);
                return diff;
            },
            delete(key, silent) {
                const before = MetadataGetById.get(key);
                if (!before) {
                    return null;
                }
                MetadataDelete.run(key);
                const diff = Diff.diffMetadata(before, null);
                !silent && onDiff(diff);
                return diff;
            },
            apply(diff) {
                return diff.after ? this.upsert(diff.after, true) : this.delete(diff.before.key, true);
            },
            rollback(diff) {
                return diff.before ? this.upsert(diff.before, true) : this.delete(diff.after.key, true);
            },
        },
        Address: {
            getById(id) {
                const val = AddressGetById.get(id);
                return val ? Helpers.Address.hydrate(val) : null;
            },
            insert(data, silent) {
                const after = Helpers.Address.hydrate(data);
                AddressInsert.run(Helpers.Address.sql(after));
                const diff = Diff.diffAddress(null, after);
                !silent && onDiff(diff);
                return diff;
            },
            upsert(data, silent) {
                const after = Helpers.Address.dehydrate(data);
                const before = AddressGetById.get(after.id);
                const diff = Diff.diffAddress(before, after);
                if (!diff) {
                    return null;
                }
                AddressUpsert.run(Helpers.Address.sql({ ...Helpers.Address.hydrate(before), ...after }));
                !silent && onDiff(diff);
                return diff;
            },
            delete(id, silent) {
                const before = AddressGetById.get(id);
                if (!before) {
                    return null;
                }
                AddressDelete.run(id);
                const diff = Diff.diffAddress(before, null);
                !silent && onDiff(diff);
                return diff;
            },
            apply(diff) {
                return diff.after ? this.upsert(diff.after, true) : this.delete(diff.before.id, true);
            },
            rollback(diff) {
                return diff.before ? this.upsert(diff.before, true) : this.delete(diff.after.id, true);
            },
        },
        Turf: {
            getById(id) {
                const val = TurfGetById.get(id);
                return val ? Helpers.Turf.hydrate(val) : null;
            },
            insert(data, silent) {
                const after = Helpers.Turf.hydrate(data);
                TurfInsert.run(Helpers.Turf.sql(after));
                const diff = Diff.diffTurf(null, after);
                !silent && onDiff(diff);
                return diff;
            },
            upsert(data, silent) {
                const after = Helpers.Turf.dehydrate(data);
                const before = TurfGetById.get(after.id);
                const diff = Diff.diffTurf(before, after);
                if (!diff) {
                    return null;
                }
                TurfUpsert.run(Helpers.Turf.sql({ ...Helpers.Turf.hydrate(before), ...after }));
                !silent && onDiff(diff);
                return diff;
            },
            delete(id, silent) {
                const before = TurfGetById.get(id);
                if (!before) {
                    return null;
                }
                TurfDelete.run(id);
                const diff = Diff.diffTurf(before, null);
                !silent && onDiff(diff);
                return diff;
            },
            apply(diff) {
                return diff.after ? this.upsert(diff.after, true) : this.delete(diff.before.id, true);
            },
            rollback(diff) {
                return diff.before ? this.upsert(diff.before, true) : this.delete(diff.after.id, true);
            },
        },
        Email: {
            getById(personId, email) {
                const val = EmailGetById.get(personId, email);
                return val ? Helpers.Email.hydrate(val) : null;
            },
            insert(data, silent) {
                const after = Helpers.Email.hydrate(data);
                EmailInsert.run(Helpers.Email.sql(after));
                const diff = Diff.diffEmail(null, after);
                !silent && onDiff(diff);
                return diff;
            },
            upsert(data, silent) {
                const after = Helpers.Email.dehydrate(data);
                const before = EmailGetById.get(after.personId, after.email);
                const diff = Diff.diffEmail(before, after);
                if (!diff) {
                    return null;
                }
                EmailUpsert.run(Helpers.Email.sql({ ...Helpers.Email.hydrate(before), ...after }));
                !silent && onDiff(diff);
                return diff;
            },
            delete(personId, email, silent) {
                const before = EmailGetById.get(personId, email);
                if (!before) {
                    return null;
                }
                EmailDelete.run(personId, email);
                const diff = Diff.diffEmail(before, null);
                !silent && onDiff(diff);
                return diff;
            },
            apply(diff) {
                return diff.after ? this.upsert(diff.after, true) : this.delete(diff.before.personId, diff.before.email, true);
            },
            rollback(diff) {
                return diff.before ? this.upsert(diff.before, true) : this.delete(diff.after.personId, diff.after.email, true);
            },
        },
        Phone: {
            getById(number) {
                const val = PhoneGetById.get(number);
                return val ? Helpers.Phone.hydrate(val) : null;
            },
            insert(data, silent) {
                const after = Helpers.Phone.hydrate(data);
                PhoneInsert.run(Helpers.Phone.sql(after));
                const diff = Diff.diffPhone(null, after);
                !silent && onDiff(diff);
                return diff;
            },
            upsert(data, silent) {
                const after = Helpers.Phone.dehydrate(data);
                const before = PhoneGetById.get(after.number);
                const diff = Diff.diffPhone(before, after);
                if (!diff) {
                    return null;
                }
                PhoneUpsert.run(Helpers.Phone.sql({ ...Helpers.Phone.hydrate(before), ...after }));
                !silent && onDiff(diff);
                return diff;
            },
            delete(number, silent) {
                const before = PhoneGetById.get(number);
                if (!before) {
                    return null;
                }
                PhoneDelete.run(number);
                const diff = Diff.diffPhone(before, null);
                !silent && onDiff(diff);
                return diff;
            },
            apply(diff) {
                return diff.after ? this.upsert(diff.after, true) : this.delete(diff.before.number, true);
            },
            rollback(diff) {
                return diff.before ? this.upsert(diff.before, true) : this.delete(diff.after.number, true);
            },
        },
        PersonAddress: {
            getById(personId, addressId) {
                const val = PersonAddressGetById.get(personId, addressId);
                return val ? Helpers.PersonAddress.hydrate(val) : null;
            },
            insert(data, silent) {
                const after = Helpers.PersonAddress.hydrate(data);
                PersonAddressInsert.run(Helpers.PersonAddress.sql(after));
                const diff = Diff.diffPersonAddress(null, after);
                !silent && onDiff(diff);
                return diff;
            },
            upsert(data, silent) {
                const after = Helpers.PersonAddress.dehydrate(data);
                const before = PersonAddressGetById.get(after.personId, after.addressId);
                const diff = Diff.diffPersonAddress(before, after);
                if (!diff) {
                    return null;
                }
                PersonAddressUpsert.run(Helpers.PersonAddress.sql({ ...Helpers.PersonAddress.hydrate(before), ...after }));
                !silent && onDiff(diff);
                return diff;
            },
            delete(personId, addressId, silent) {
                const before = PersonAddressGetById.get(personId, addressId);
                if (!before) {
                    return null;
                }
                PersonAddressDelete.run(personId, addressId);
                const diff = Diff.diffPersonAddress(before, null);
                !silent && onDiff(diff);
                return diff;
            },
            apply(diff) {
                return diff.after ? this.upsert(diff.after, true) : this.delete(diff.before.personId, diff.before.addressId, true);
            },
            rollback(diff) {
                return diff.before ? this.upsert(diff.before, true) : this.delete(diff.after.personId, diff.after.addressId, true);
            },
        },
        PersonPhone: {
            getById(personId, phoneId) {
                const val = PersonPhoneGetById.get(personId, phoneId);
                return val ? Helpers.PersonPhone.hydrate(val) : null;
            },
            insert(data, silent) {
                const after = Helpers.PersonPhone.hydrate(data);
                PersonPhoneInsert.run(Helpers.PersonPhone.sql(after));
                const diff = Diff.diffPersonPhone(null, after);
                !silent && onDiff(diff);
                return diff;
            },
            upsert(data, silent) {
                const after = Helpers.PersonPhone.dehydrate(data);
                const before = PersonPhoneGetById.get(after.personId, after.phoneId);
                const diff = Diff.diffPersonPhone(before, after);
                if (!diff) {
                    return null;
                }
                PersonPhoneUpsert.run(Helpers.PersonPhone.sql({ ...Helpers.PersonPhone.hydrate(before), ...after }));
                !silent && onDiff(diff);
                return diff;
            },
            delete(personId, phoneId, silent) {
                const before = PersonPhoneGetById.get(personId, phoneId);
                if (!before) {
                    return null;
                }
                PersonPhoneDelete.run(personId, phoneId);
                const diff = Diff.diffPersonPhone(before, null);
                !silent && onDiff(diff);
                return diff;
            },
            apply(diff) {
                return diff.after ? this.upsert(diff.after, true) : this.delete(diff.before.personId, diff.before.phoneId, true);
            },
            rollback(diff) {
                return diff.before ? this.upsert(diff.before, true) : this.delete(diff.after.personId, diff.after.phoneId, true);
            },
        },
        Account: {
            getById(personId, accountType, accountId) {
                const val = AccountGetById.get(personId, accountType, accountId);
                return val ? Helpers.Account.hydrate(val) : null;
            },
            insert(data, silent) {
                const after = Helpers.Account.hydrate(data);
                AccountInsert.run(Helpers.Account.sql(after));
                const diff = Diff.diffAccount(null, after);
                !silent && onDiff(diff);
                return diff;
            },
            upsert(data, silent) {
                const after = Helpers.Account.dehydrate(data);
                const before = AccountGetById.get(after.personId, after.accountType, after.accountId);
                const diff = Diff.diffAccount(before, after);
                if (!diff) {
                    return null;
                }
                AccountUpsert.run(Helpers.Account.sql({ ...Helpers.Account.hydrate(before), ...after }));
                !silent && onDiff(diff);
                return diff;
            },
            delete(personId, accountType, accountId, silent) {
                const before = AccountGetById.get(personId, accountType, accountId);
                if (!before) {
                    return null;
                }
                AccountDelete.run(personId, accountType, accountId);
                const diff = Diff.diffAccount(before, null);
                !silent && onDiff(diff);
                return diff;
            },
            apply(diff) {
                return diff.after ? this.upsert(diff.after, true) : this.delete(diff.before.personId, diff.before.accountType, diff.before.accountId, true);
            },
            rollback(diff) {
                return diff.before ? this.upsert(diff.before, true) : this.delete(diff.after.personId, diff.after.accountType, diff.after.accountId, true);
            },
        },
        Experience: {
            getById(personId, type, employer, role) {
                const val = ExperienceGetById.get(personId, type, employer, role);
                return val ? Helpers.Experience.hydrate(val) : null;
            },
            insert(data, silent) {
                const after = Helpers.Experience.hydrate(data);
                ExperienceInsert.run(Helpers.Experience.sql(after));
                const diff = Diff.diffExperience(null, after);
                !silent && onDiff(diff);
                return diff;
            },
            upsert(data, silent) {
                const after = Helpers.Experience.dehydrate(data);
                const before = ExperienceGetById.get(after.personId, after.type, after.employer, after.role);
                const diff = Diff.diffExperience(before, after);
                if (!diff) {
                    return null;
                }
                ExperienceUpsert.run(Helpers.Experience.sql({ ...Helpers.Experience.hydrate(before), ...after }));
                !silent && onDiff(diff);
                return diff;
            },
            delete(personId, type, employer, role, silent) {
                const before = ExperienceGetById.get(personId, type, employer, role);
                if (!before) {
                    return null;
                }
                ExperienceDelete.run(personId, type, employer, role);
                const diff = Diff.diffExperience(before, null);
                !silent && onDiff(diff);
                return diff;
            },
            apply(diff) {
                return diff.after ? this.upsert(diff.after, true) : this.delete(diff.before.personId, diff.before.type, diff.before.employer, diff.before.role, true);
            },
            rollback(diff) {
                return diff.before ? this.upsert(diff.before, true) : this.delete(diff.after.personId, diff.after.type, diff.after.employer, diff.after.role, true);
            },
        },
        Campaign: {
            getById(id) {
                const val = CampaignGetById.get(id);
                return val ? Helpers.Campaign.hydrate(val) : null;
            },
            insert(data, silent) {
                const after = Helpers.Campaign.hydrate(data);
                CampaignInsert.run(Helpers.Campaign.sql(after));
                const diff = Diff.diffCampaign(null, after);
                !silent && onDiff(diff);
                return diff;
            },
            upsert(data, silent) {
                const after = Helpers.Campaign.dehydrate(data);
                const before = CampaignGetById.get(after.id);
                const diff = Diff.diffCampaign(before, after);
                if (!diff) {
                    return null;
                }
                CampaignUpsert.run(Helpers.Campaign.sql({ ...Helpers.Campaign.hydrate(before), ...after }));
                !silent && onDiff(diff);
                return diff;
            },
            delete(id, silent) {
                const before = CampaignGetById.get(id);
                if (!before) {
                    return null;
                }
                CampaignDelete.run(id);
                const diff = Diff.diffCampaign(before, null);
                !silent && onDiff(diff);
                return diff;
            },
            apply(diff) {
                return diff.after ? this.upsert(diff.after, true) : this.delete(diff.before.id, true);
            },
            rollback(diff) {
                return diff.before ? this.upsert(diff.before, true) : this.delete(diff.after.id, true);
            },
        },
        Contest: {
            getById(id) {
                const val = ContestGetById.get(id);
                return val ? Helpers.Contest.hydrate(val) : null;
            },
            insert(data, silent) {
                const after = Helpers.Contest.hydrate(data);
                ContestInsert.run(Helpers.Contest.sql(after));
                const diff = Diff.diffContest(null, after);
                !silent && onDiff(diff);
                return diff;
            },
            upsert(data, silent) {
                const after = Helpers.Contest.dehydrate(data);
                const before = ContestGetById.get(after.id);
                const diff = Diff.diffContest(before, after);
                if (!diff) {
                    return null;
                }
                ContestUpsert.run(Helpers.Contest.sql({ ...Helpers.Contest.hydrate(before), ...after }));
                !silent && onDiff(diff);
                return diff;
            },
            delete(id, silent) {
                const before = ContestGetById.get(id);
                if (!before) {
                    return null;
                }
                ContestDelete.run(id);
                const diff = Diff.diffContest(before, null);
                !silent && onDiff(diff);
                return diff;
            },
            apply(diff) {
                return diff.after ? this.upsert(diff.after, true) : this.delete(diff.before.id, true);
            },
            rollback(diff) {
                return diff.before ? this.upsert(diff.before, true) : this.delete(diff.after.id, true);
            },
        },
        Election: {
            getById(id) {
                const val = ElectionGetById.get(id);
                return val ? Helpers.Election.hydrate(val) : null;
            },
            insert(data, silent) {
                const after = Helpers.Election.hydrate(data);
                ElectionInsert.run(Helpers.Election.sql(after));
                const diff = Diff.diffElection(null, after);
                !silent && onDiff(diff);
                return diff;
            },
            upsert(data, silent) {
                const after = Helpers.Election.dehydrate(data);
                const before = ElectionGetById.get(after.id);
                const diff = Diff.diffElection(before, after);
                if (!diff) {
                    return null;
                }
                ElectionUpsert.run(Helpers.Election.sql({ ...Helpers.Election.hydrate(before), ...after }));
                !silent && onDiff(diff);
                return diff;
            },
            delete(id, silent) {
                const before = ElectionGetById.get(id);
                if (!before) {
                    return null;
                }
                ElectionDelete.run(id);
                const diff = Diff.diffElection(before, null);
                !silent && onDiff(diff);
                return diff;
            },
            apply(diff) {
                return diff.after ? this.upsert(diff.after, true) : this.delete(diff.before.id, true);
            },
            rollback(diff) {
                return diff.before ? this.upsert(diff.before, true) : this.delete(diff.after.id, true);
            },
        },
        Vote: {
            getById(personId, electionId) {
                const val = VoteGetById.get(personId, electionId);
                return val ? Helpers.Vote.hydrate(val) : null;
            },
            insert(data, silent) {
                const after = Helpers.Vote.hydrate(data);
                VoteInsert.run(Helpers.Vote.sql(after));
                const diff = Diff.diffVote(null, after);
                !silent && onDiff(diff);
                return diff;
            },
            upsert(data, silent) {
                const after = Helpers.Vote.dehydrate(data);
                const before = VoteGetById.get(after.personId, after.electionId);
                const diff = Diff.diffVote(before, after);
                if (!diff) {
                    return null;
                }
                VoteUpsert.run(Helpers.Vote.sql({ ...Helpers.Vote.hydrate(before), ...after }));
                !silent && onDiff(diff);
                return diff;
            },
            delete(personId, electionId, silent) {
                const before = VoteGetById.get(personId, electionId);
                if (!before) {
                    return null;
                }
                VoteDelete.run(personId, electionId);
                const diff = Diff.diffVote(before, null);
                !silent && onDiff(diff);
                return diff;
            },
            apply(diff) {
                return diff.after ? this.upsert(diff.after, true) : this.delete(diff.before.personId, diff.before.electionId, true);
            },
            rollback(diff) {
                return diff.before ? this.upsert(diff.before, true) : this.delete(diff.after.personId, diff.after.electionId, true);
            },
        },
        Returns: {
            getById(contestId, turfId, party, rank) {
                const val = ReturnsGetById.get(contestId, turfId, party, rank);
                return val ? Helpers.Returns.hydrate(val) : null;
            },
            insert(data, silent) {
                const after = Helpers.Returns.hydrate(data);
                ReturnsInsert.run(Helpers.Returns.sql(after));
                const diff = Diff.diffReturns(null, after);
                !silent && onDiff(diff);
                return diff;
            },
            upsert(data, silent) {
                const after = Helpers.Returns.dehydrate(data);
                const before = ReturnsGetById.get(after.contestId, after.turfId, after.party, after.rank);
                const diff = Diff.diffReturns(before, after);
                if (!diff) {
                    return null;
                }
                ReturnsUpsert.run(Helpers.Returns.sql({ ...Helpers.Returns.hydrate(before), ...after }));
                !silent && onDiff(diff);
                return diff;
            },
            delete(contestId, turfId, party, rank, silent) {
                const before = ReturnsGetById.get(contestId, turfId, party, rank);
                if (!before) {
                    return null;
                }
                ReturnsDelete.run(contestId, turfId, party, rank);
                const diff = Diff.diffReturns(before, null);
                !silent && onDiff(diff);
                return diff;
            },
            apply(diff) {
                return diff.after ? this.upsert(diff.after, true) : this.delete(diff.before.contestId, diff.before.turfId, diff.before.party, diff.before.rank, true);
            },
            rollback(diff) {
                return diff.before ? this.upsert(diff.before, true) : this.delete(diff.after.contestId, diff.after.turfId, diff.after.party, diff.after.rank, true);
            },
        },
        Score: {
            getById(personId, name) {
                const val = ScoreGetById.get(personId, name);
                return val ? Helpers.Score.hydrate(val) : null;
            },
            insert(data, silent) {
                const after = Helpers.Score.hydrate(data);
                ScoreInsert.run(Helpers.Score.sql(after));
                const diff = Diff.diffScore(null, after);
                !silent && onDiff(diff);
                return diff;
            },
            upsert(data, silent) {
                const after = Helpers.Score.dehydrate(data);
                const before = ScoreGetById.get(after.personId, after.name);
                const diff = Diff.diffScore(before, after);
                if (!diff) {
                    return null;
                }
                ScoreUpsert.run(Helpers.Score.sql({ ...Helpers.Score.hydrate(before), ...after }));
                !silent && onDiff(diff);
                return diff;
            },
            delete(personId, name, silent) {
                const before = ScoreGetById.get(personId, name);
                if (!before) {
                    return null;
                }
                ScoreDelete.run(personId, name);
                const diff = Diff.diffScore(before, null);
                !silent && onDiff(diff);
                return diff;
            },
            apply(diff) {
                return diff.after ? this.upsert(diff.after, true) : this.delete(diff.before.personId, diff.before.name, true);
            },
            rollback(diff) {
                return diff.before ? this.upsert(diff.before, true) : this.delete(diff.after.personId, diff.after.name, true);
            },
        },
        Person: {
            getById(id) {
                const val = PersonGetById.get(id);
                return val ? Helpers.Person.hydrate(val) : null;
            },
            insert(data, silent) {
                const after = Helpers.Person.hydrate(data);
                PersonInsert.run(Helpers.Person.sql(after));
                const diff = Diff.diffPerson(null, after);
                !silent && onDiff(diff);
                return diff;
            },
            upsert(data, silent) {
                const after = Helpers.Person.dehydrate(data);
                const before = PersonGetById.get(after.id);
                const diff = Diff.diffPerson(before, after);
                if (!diff) {
                    return null;
                }
                PersonUpsert.run(Helpers.Person.sql({ ...Helpers.Person.hydrate(before), ...after }));
                !silent && onDiff(diff);
                return diff;
            },
            delete(id, silent) {
                const before = PersonGetById.get(id);
                if (!before) {
                    return null;
                }
                PersonDelete.run(id);
                const diff = Diff.diffPerson(before, null);
                !silent && onDiff(diff);
                return diff;
            },
            apply(diff) {
                return diff.after ? this.upsert(diff.after, true) : this.delete(diff.before.id, true);
            },
            rollback(diff) {
                return diff.before ? this.upsert(diff.before, true) : this.delete(diff.after.id, true);
            },
        },
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YWJhc2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvdHlwZXMvZGF0YWJhc2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBWUEsT0FBTyxLQUFLLElBQUksTUFBTSxZQUFZLENBQUM7QUFDbkMsT0FBTyxLQUFLLE9BQU8sTUFBTSxjQUFjLENBQUM7QUFxQnhDLE9BQU8saUJBQWlCLE1BQU0sK0JBQStCLENBQUM7QUFDOUQsT0FBTyxrQkFBa0IsTUFBTSxrQ0FBa0MsQ0FBQztBQUNsRSxPQUFPLGlCQUFpQixNQUFNLCtCQUErQixDQUFDO0FBQzlELE9BQU8saUJBQWlCLE1BQU0sK0JBQStCLENBQUM7QUFDOUQsT0FBTyxpQkFBaUIsTUFBTSwrQkFBK0IsQ0FBQztBQUM5RCxPQUFPLGdCQUFnQixNQUFNLDhCQUE4QixDQUFDO0FBQzVELE9BQU8saUJBQWlCLE1BQU0saUNBQWlDLENBQUM7QUFDaEUsT0FBTyxnQkFBZ0IsTUFBTSw4QkFBOEIsQ0FBQztBQUM1RCxPQUFPLGdCQUFnQixNQUFNLDhCQUE4QixDQUFDO0FBQzVELE9BQU8sZ0JBQWdCLE1BQU0sOEJBQThCLENBQUM7QUFDNUQsT0FBTyxhQUFhLE1BQU0sMkJBQTJCLENBQUM7QUFDdEQsT0FBTyxjQUFjLE1BQU0sOEJBQThCLENBQUM7QUFDMUQsT0FBTyxhQUFhLE1BQU0sMkJBQTJCLENBQUM7QUFDdEQsT0FBTyxhQUFhLE1BQU0sMkJBQTJCLENBQUM7QUFDdEQsT0FBTyxhQUFhLE1BQU0sMkJBQTJCLENBQUM7QUFDdEQsT0FBTyxjQUFjLE1BQU0sNEJBQTRCLENBQUM7QUFDeEQsT0FBTyxlQUFlLE1BQU0sK0JBQStCLENBQUM7QUFDNUQsT0FBTyxjQUFjLE1BQU0sNEJBQTRCLENBQUM7QUFDeEQsT0FBTyxjQUFjLE1BQU0sNEJBQTRCLENBQUM7QUFDeEQsT0FBTyxjQUFjLE1BQU0sNEJBQTRCLENBQUM7QUFDeEQsT0FBTyxjQUFjLE1BQU0sNEJBQTRCLENB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QyxNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsQ0FBQTtZQUN4RixDQUFDO1NBQ0Y7S0FDRixDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlICovXG4vKlxuKiBDT0RFIEdFTkVSQVRFRCBBVVRPTUFUSUNBTExZXG4qIFRISVMgRklMRSBTSE9VTEQgTk9UIEJFIEVESVRFRCBCWSBIQU5EXG4qL1xuaW1wb3J0ICogYXMgZnMgZnJvbSAnZnMnO1xuXG5pbXBvcnQgKiBhcyBwYXRoIGZyb20gJ3BhdGgnO1xuXG5pbXBvcnQgeyBEYXRhYmFzZSB9IGZyb20gJ2JldHRlci1zcWxpdGUzJztcblxuaW1wb3J0ICogYXMgTW9kZWxzIGZyb20gJy4vbW9kZWxzLmpzJztcbmltcG9ydCAqIGFzIERpZmYgZnJvbSAnLi9kaWZmcy5qcyc7XG5pbXBvcnQgKiBhcyBIZWxwZXJzIGZyb20gJy4vaGVscGVycy5qcyc7XG5pbXBvcnQgKiBhcyBlbnVtcyBmcm9tICcuL2VudW1zLmpzJztcblxuaW1wb3J0IHtcbiAgSU1ldGFkYXRhLFxuICBJQWRkcmVzcyxcbiAgSVR1cmYsXG4gIElFbWFpbCxcbiAgSVBob25lLFxuICBJUGVyc29uQWRkcmVzcyxcbiAgSVBlcnNvblBob25lLFxuICBJQWNjb3VudCxcbiAgSUV4cGVyaWVuY2UsXG4gIElDYW1wYWlnbixcbiAgSUNvbnRlc3QsXG4gIElFbGVjdGlvbixcbiAgSVZvdGUsXG4gIElSZXR1cm5zLFxuICBJU2NvcmUsXG4gIElQZXJzb24sXG59IGZyb20gJy4vbW9kZWxzLmpzJztcbmltcG9ydCBtZXRhZGF0YUNyZWF0ZVNRTCBmcm9tICcuLi9zcWwvbWV0YWRhdGFfY3JlYXRlLnNxbC5qcyc7XG5pbXBvcnQgbWV0YWRhdGFHZXRCeUlkU1FMIGZyb20gJy4uL3NxbC9tZXRhZGF0YV9nZXRfYnlfaWQuc3FsLmpzJztcbmltcG9ydCBtZXRhZGF0YUluc2VydFNRTCBmcm9tICcuLi9zcWwvbWV0YWRhdGFfaW5zZXJ0LnNxbC5qcyc7XG5pbXBvcnQgbWV0YWRhdGFVcHNlcnRTUUwgZnJvbSAnLi4vc3FsL21ldGFkYXRhX3Vwc2VydC5zcWwuanMnO1xuaW1wb3J0IG1ldGFkYXRhRGVsZXRlU1FMIGZyb20gJy4uL3NxbC9tZXRhZGF0YV9kZWxldGUuc3FsLmpzJztcbmltcG9ydCBhZGRyZXNzQ3JlYXRlU1FMIGZyb20gJy4uL3NxbC9hZGRyZXNzX2NyZWF0ZS5zcWwuanMnO1xuaW1wb3J0IGFkZHJlc3NHZXRCeUlkU1FMIGZyb20gJy4uL3NxbC9hZGRyZXNzX2dldF9ieV9pZC5zcWwuanMnO1xuaW1wb3J0IGFkZHJlc3NJbnNlcnRTUUwgZnJvbSAnLi4vc3FsL2FkZHJlc3NfaW5zZXJ0LnNxbC5qcyc7XG5pbXBvcnQgYWRkcmVzc1Vwc2VydFNRTCBmcm9tICcuLi9zcWwvYWRkcmVzc191cHNlcnQuc3FsLmpzJztcbmltcG9ydCBhZGRyZXNzRGVsZXRlU1FMIGZyb20gJy4uL3NxbC9hZGRyZXNzX2RlbGV0ZS5zcWwuanMnO1xuaW1wb3J0IHR1cmZDcmVhdGVTUUwgZnJvbSAnLi4vc3FsL3R1cmZfY3JlYXRlLnNxbC5qcyc7XG5pbXBvcnQgdHVyZkdldEJ5SWRTUUwgZnJvbSAnLi4vc3FsL3R1cmZfZ2V0X2J5X2lkLnNxbC5qcyc7XG5pbXBvcnQgdHVyZkluc2VydFNRTCBmcm9tICcuLi9zcWwvdHVyZl9pbnNlcnQuc3FsLmpzJztcbmltcG9ydCB0dXJmVXBzZXJ0U1FMIGZyb20gJy4uL3NxbC90dXJmX3Vwc2VydC5zcWwuanMnO1xuaW1wb3J0IHR1cmZEZWxldGVTUUwgZnJvbSAnLi4vc3FsL3R1cmZfZGVsZXRlLnNxbC5qcyc7XG5pbXBvcnQgZW1haWxDcmVhdGVTUUwgZnJvbSAnLi4vc3FsL2VtYWlsX2NyZWF0ZS5zcWwuanMnO1xuaW1wb3J0IGVtYWlsR2V0QnlJZFNRTCBmcm9tICcuLi9zcWwvZW1haWxfZ2V0X2J5X2lkLnNxbC5qcyc7XG5pbXBvcnQgZW1haWxJbnNlcnRTUUwgZnJvbSAnLi4vc3FsL2VtYWlsX2luc2VydC5zcWwuanMnO1xuaW1wb3J0IGVtYWlsVXBzZXJ0U1FMIGZyb20gJy4uL3NxbC9lbWFpbF91cHNlcnQuc3FsLmpzJztcbmltcG9ydCBlbWFpbERlbGV0ZVNRTCBmcm9tICcuLi9zcWwvZW1haWxfZGVsZXRlLnNxbC5qcyc7XG5pbXBvcnQgcGhvbmVDcmVhdGVTUUwgZnJvbSAnLi4vc3FsL3Bob25lX2NyZWF0ZS5zcWwuanMnO1xuaW1wb3J0IHBob25lR2V0QnlJZFNRTCBmcm9tICcuLi9zcWwvcGhvbmVfZ2V0X2J5X2lkLnNxbC5qcyc7XG5pbXBvcnQgcGhvbmVJbnNlcnRTUUwgZnJvbSAnLi4vc3FsL3Bob25lX2luc2VydC5zcWwuanMnO1xuaW1wb3J0IHBob25lVXBzZXJ0U1FMIGZyb20gJy4uL3NxbC9waG9uZV91cHNlcnQuc3FsLmpzJztcbmltcG9ydCBwaG9uZURlbGV0ZVNRTCBmcm9tICcuLi9zcWwvcGhvbmVfZGVsZXRlLnNxbC5qcyc7XG5pbXBvcnQgcGVyc29uYWRkcmVzc0NyZWF0ZVNRTCBmcm9tICcuLi9zcWwvcGVyc29uX2FkZHJlc3NfY3JlYXRlLnNxbC5qcyc7XG5pbXBvcnQgcGVyc29uYWRkcmVzc0dldEJ5SWRTUUwgZnJvbSAnLi4vc3FsL3BlcnNvbl9hZGRyZXNzX2dldF9ieV9pZC5zcWwuanMnO1xuaW1wb3J0IHBlcnNvbmFkZHJlc3NJbnNlcnRTUUwgZnJvbSAnLi4vc3FsL3BlcnNvbl9hZGRyZXNzX2luc2VydC5zcWwuanMnO1xuaW1wb3J0IHBlcnNvbmFkZHJlc3NVcHNlcnRTUUwgZnJvbSAnLi4vc3FsL3BlcnNvbl9hZGRyZXNzX3Vwc2VydC5zcWwuanMnO1xuaW1wb3J0IHBlcnNvbmFkZHJlc3NEZWxldGVTUUwgZnJvbSAnLi4vc3FsL3BlcnNvbl9hZGRyZXNzX2RlbGV0ZS5zcWwuanMnO1xuaW1wb3J0IHBlcnNvbnBob25lQ3JlYXRlU1FMIGZyb20gJy4uL3NxbC9wZXJzb25fcGhvbmVfY3JlYXRlLnNxbC5qcyc7XG5pbXBvcnQgcGVyc29ucGhvbmVHZXRCeUlkU1FMIGZyb20gJy4uL3NxbC9wZXJzb25fcGhvbmVfZ2V0X2J5X2lkLnNxbC5qcyc7XG5pbXBvcnQgcGVyc29ucGhvbmVJbnNlcnRTUUwgZnJvbSAnLi4vc3FsL3BlcnNvbl9waG9uZV9pbnNlcnQuc3FsLmpzJztcbmltcG9ydCBwZXJzb25waG9uZVVwc2VydFNRTCBmcm9tICcuLi9zcWwvcGVyc29uX3Bob25lX3Vwc2VydC5zcWwuanMnO1xuaW1wb3J0IHBlcnNvbnBob25lRGVsZXRlU1FMIGZyb20gJy4uL3NxbC9wZXJzb25fcGhvbmVfZGVsZXRlLnNxbC5qcyc7XG5pbXBvcnQgYWNjb3VudENyZWF0ZVNRTCBmcm9tICcuLi9zcWwvYWNjb3VudF9jcmVhdGUuc3FsLmpzJztcbmltcG9ydCBhY2NvdW50R2V0QnlJZFNRTCBmcm9tICcuLi9zcWwvYWNjb3VudF9nZXRfYnlfaWQuc3FsLmpzJztcbmltcG9ydCBhY2NvdW50SW5zZXJ0U1FMIGZyb20gJy4uL3NxbC9hY2NvdW50X2luc2VydC5zcWwuanMnO1xuaW1wb3J0IGFjY291bnRVcHNlcnRTUUwgZnJvbSAnLi4vc3FsL2FjY291bnRfdXBzZXJ0LnNxbC5qcyc7XG5pbXBvcnQgYWNjb3VudERlbGV0ZVNRTCBmcm9tICcuLi9zcWwvYWNjb3VudF9kZWxldGUuc3FsLmpzJztcbmltcG9ydCBleHBlcmllbmNlQ3JlYXRlU1FMIGZyb20gJy4uL3NxbC9leHBlcmllbmNlX2NyZWF0ZS5zcWwuanMnO1xuaW1wb3J0IGV4cGVyaWVuY2VHZXRCeUlkU1FMIGZyb20gJy4uL3NxbC9leHBlcmllbmNlX2dldF9ieV9pZC5zcWwuanMnO1xuaW1wb3J0IGV4cGVyaWVuY2VJbnNlcnRTUUwgZnJvbSAnLi4vc3FsL2V4cGVyaWVuY2VfaW5zZXJ0LnNxbC5qcyc7XG5pbXBvcnQgZXhwZXJpZW5jZVVwc2VydFNRTCBmcm9tICcuLi9zcWwvZXhwZXJpZW5jZV91cHNlcnQuc3FsLmpzJztcbmltcG9ydCBleHBlcmllbmNlRGVsZXRlU1FMIGZyb20gJy4uL3NxbC9leHBlcmllbmNlX2RlbGV0ZS5zcWwuanMnO1xuaW1wb3J0IGNhbXBhaWduQ3JlYXRlU1FMIGZyb20gJy4uL3NxbC9jYW1wYWlnbl9jcmVhdGUuc3FsLmpzJztcbmltcG9ydCBjYW1wYWlnbkdldEJ5SWRTUUwgZnJvbSAnLi4vc3FsL2NhbXBhaWduX2dldF9ieV9pZC5zcWwuanMnO1xuaW1wb3J0IGNhbXBhaWduSW5zZXJ0U1FMIGZyb20gJy4uL3NxbC9jYW1wYWlnbl9pbnNlcnQuc3FsLmpzJztcbmltcG9ydCBjYW1wYWlnblVwc2VydFNRTCBmcm9tICcuLi9zcWwvY2FtcGFpZ25fdXBzZXJ0LnNxbC5qcyc7XG5pbXBvcnQgY2FtcGFpZ25EZWxldGVTUUwgZnJvbSAnLi4vc3FsL2NhbXBhaWduX2RlbGV0ZS5zcWwuanMnO1xuaW1wb3J0IGNvbnRlc3RDcmVhdGVTUUwgZnJvbSAnLi4vc3FsL2NvbnRlc3RfY3JlYXRlLnNxbC5qcyc7XG5pbXBvcnQgY29udGVzdEdldEJ5SWRTUUwgZnJvbSAnLi4vc3FsL2NvbnRlc3RfZ2V0X2J5X2lkLnNxbC5qcyc7XG5pbXBvcnQgY29udGVzdEluc2VydFNRTCBmcm9tICcuLi9zcWwvY29udGVzdF9pbnNlcnQuc3FsLmpzJztcbmltcG9ydCBjb250ZXN0VXBzZXJ0U1FMIGZyb20gJy4uL3NxbC9jb250ZXN0X3Vwc2VydC5zcWwuanMnO1xuaW1wb3J0IGNvbnRlc3REZWxldGVTUUwgZnJvbSAnLi4vc3FsL2NvbnRlc3RfZGVsZXRlLnNxbC5qcyc7XG5pbXBvcnQgZWxlY3Rpb25DcmVhdGVTUUwgZnJvbSAnLi4vc3FsL2VsZWN0aW9uX2NyZWF0ZS5zcWwuanMnO1xuaW1wb3J0IGVsZWN0aW9uR2V0QnlJZFNRTCBmcm9tICcuLi9zcWwvZWxlY3Rpb25fZ2V0X2J5X2lkLnNxbC5qcyc7XG5pbXBvcnQgZWxlY3Rpb25JbnNlcnRTUUwgZnJvbSAnLi4vc3FsL2VsZWN0aW9uX2luc2VydC5zcWwuanMnO1xuaW1wb3J0IGVsZWN0aW9uVXBzZXJ0U1FMIGZyb20gJy4uL3NxbC9lbGVjdGlvbl91cHNlcnQuc3FsLmpzJztcbmltcG9ydCBlbGVjdGlvbkRlbGV0ZVNRTCBmcm9tICcuLi9zcWwvZWxlY3Rpb25fZGVsZXRlLnNxbC5qcyc7XG5pbXBvcnQgdm90ZUNyZWF0ZVNRTCBmcm9tICcuLi9zcWwvdm90ZV9jcmVhdGUuc3FsLmpzJztcbmltcG9ydCB2b3RlR2V0QnlJZFNRTCBmcm9tICcuLi9zcWwvdm90ZV9nZXRfYnlfaWQuc3FsLmpzJztcbmltcG9ydCB2b3RlSW5zZXJ0U1FMIGZyb20gJy4uL3NxbC92b3RlX2luc2VydC5zcWwuanMnO1xuaW1wb3J0IHZvdGVVcHNlcnRTUUwgZnJvbSAnLi4vc3FsL3ZvdGVfdXBzZXJ0LnNxbC5qcyc7XG5pbXBvcnQgdm90ZURlbGV0ZVNRTCBmcm9tICcuLi9zcWwvdm90ZV9kZWxldGUuc3FsLmpzJztcbmltcG9ydCByZXR1cm5zQ3JlYXRlU1FMIGZyb20gJy4uL3NxbC9yZXR1cm5zX2NyZWF0ZS5zcWwuanMnO1xuaW1wb3J0IHJldHVybnNHZXRCeUlkU1FMIGZyb20gJy4uL3NxbC9yZXR1cm5zX2dldF9ieV9pZC5zcWwuanMnO1xuaW1wb3J0IHJldHVybnNJbnNlcnRTUUwgZnJvbSAnLi4vc3FsL3JldHVybnNfaW5zZXJ0LnNxbC5qcyc7XG5pbXBvcnQgcmV0dXJuc1Vwc2VydFNRTCBmcm9tICcuLi9zcWwvcmV0dXJuc191cHNlcnQuc3FsLmpzJztcbmltcG9ydCByZXR1cm5zRGVsZXRlU1FMIGZyb20gJy4uL3NxbC9yZXR1cm5zX2RlbGV0ZS5zcWwuanMnO1xuaW1wb3J0IHNjb3JlQ3JlYXRlU1FMIGZyb20gJy4uL3NxbC9zY29yZV9jcmVhdGUuc3FsLmpzJztcbmltcG9ydCBzY29yZUdldEJ5SWRTUUwgZnJvbSAnLi4vc3FsL3Njb3JlX2dldF9ieV9pZC5zcWwuanMnO1xuaW1wb3J0IHNjb3JlSW5zZXJ0U1FMIGZyb20gJy4uL3NxbC9zY29yZV9pbnNlcnQuc3FsLmpzJztcbmltcG9ydCBzY29yZVVwc2VydFNRTCBmcm9tICcuLi9zcWwvc2NvcmVfdXBzZXJ0LnNxbC5qcyc7XG5pbXBvcnQgc2NvcmVEZWxldGVTUUwgZnJvbSAnLi4vc3FsL3Njb3JlX2RlbGV0ZS5zcWwuanMnO1xuaW1wb3J0IHBlcnNvbkNyZWF0ZVNRTCBmcm9tICcuLi9zcWwvcGVyc29uX2NyZWF0ZS5zcWwuanMnO1xuaW1wb3J0IHBlcnNvbkdldEJ5SWRTUUwgZnJvbSAnLi4vc3FsL3BlcnNvbl9nZXRfYnlfaWQuc3FsLmpzJztcbmltcG9ydCBwZXJzb25JbnNlcnRTUUwgZnJvbSAnLi4vc3FsL3BlcnNvbl9pbnNlcnQuc3FsLmpzJztcbmltcG9ydCBwZXJzb25VcHNlcnRTUUwgZnJvbSAnLi4vc3FsL3BlcnNvbl91cHNlcnQuc3FsLmpzJztcbmltcG9ydCBwZXJzb25EZWxldGVTUUwgZnJvbSAnLi4vc3FsL3BlcnNvbl9kZWxldGUuc3FsLmpzJztcbmltcG9ydCBjcmVhdGVJbmRleGVzU1FMIGZyb20gJy4uL3NxbC9jcmVhdGVfaW5kZXhlcy5zcWwuanMnO1xuaW1wb3J0IGRlbGV0ZUluZGV4ZXNTUUwgZnJvbSAnLi4vc3FsL2RlbGV0ZV9pbmRleGVzLnNxbC5qcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBkYXRhYmFzZShkYjogRGF0YWJhc2UsIG9uRGlmZjogKGRpZmY6IERpZmYuVW5pdmVyc2VEaWZmKSA9PiB2b2lkKSB7XG4gIGRiLmV4ZWMobWV0YWRhdGFDcmVhdGVTUUwpO1xuICBkYi5leGVjKGFkZHJlc3NDcmVhdGVTUUwpO1xuICBkYi5leGVjKHR1cmZDcmVhdGVTUUwpO1xuICBkYi5leGVjKGVtYWlsQ3JlYXRlU1FMKTtcbiAgZGIuZXhlYyhwaG9uZUNyZWF0ZVNRTCk7XG4gIGRiLmV4ZWMocGVyc29uYWRkcmVzc0NyZWF0ZVNRTCk7XG4gIGRiLmV4ZWMocGVyc29ucGhvbmVDcmVhdGVTUUwpO1xuICBkYi5leGVjKGFjY291bnRDcmVhdGVTUUwpO1xuICBkYi5leGVjKGV4cGVyaWVuY2VDcmVhdGVTUUwpO1xuICBkYi5leGVjKGNhbXBhaWduQ3JlYXRlU1FMKTtcbiAgZGIuZXhlYyhjb250ZXN0Q3JlYXRlU1FMKTtcbiAgZGIuZXhlYyhlbGVjdGlvbkNyZWF0ZVNRTCk7XG4gIGRiLmV4ZWModm90ZUNyZWF0ZVNRTCk7XG4gIGRiLmV4ZWMocmV0dXJuc0NyZWF0ZVNRTCk7XG4gIGRiLmV4ZWMoc2NvcmVDcmVhdGVTUUwpO1xuICBkYi5leGVjKHBlcnNvbkNyZWF0ZVNRTCk7XG4gIGRiLmV4ZWMoY3JlYXRlSW5kZXhlc1NRTCk7XG5cbiAgLy8gTWV0YWRhdGFcbiAgY29uc3QgTWV0YWRhdGFHZXRCeUlkID0gZGIucHJlcGFyZShtZXRhZGF0YUdldEJ5SWRTUUwpO1xuICBjb25zdCBNZXRhZGF0YUluc2VydCA9IGRiLnByZXBhcmUobWV0YWRhdGFJbnNlcnRTUUwpO1xuICBjb25zdCBNZXRhZGF0YVVwc2VydCA9IGRiLnByZXBhcmUobWV0YWRhdGFVcHNlcnRTUUwpO1xuICBjb25zdCBNZXRhZGF0YURlbGV0ZSA9IGRiLnByZXBhcmUobWV0YWRhdGFEZWxldGVTUUwpO1xuXG4gIC8vIEFkZHJlc3NcbiAgY29uc3QgQWRkcmVzc0dldEJ5SWQgPSBkYi5wcmVwYXJlKGFkZHJlc3NHZXRCeUlkU1FMKTtcbiAgY29uc3QgQWRkcmVzc0luc2VydCA9IGRiLnByZXBhcmUoYWRkcmVzc0luc2VydFNRTCk7XG4gIGNvbnN0IEFkZHJlc3NVcHNlcnQgPSBkYi5wcmVwYXJlKGFkZHJlc3NVcHNlcnRTUUwpO1xuICBjb25zdCBBZGRyZXNzRGVsZXRlID0gZGIucHJlcGFyZShhZGRyZXNzRGVsZXRlU1FMKTtcblxuICAvLyBUdXJmXG4gIGNvbnN0IFR1cmZHZXRCeUlkID0gZGIucHJlcGFyZSh0dXJmR2V0QnlJZFNRTCk7XG4gIGNvbnN0IFR1cmZJbnNlcnQgPSBkYi5wcmVwYXJlKHR1cmZJbnNlcnRTUUwpO1xuICBjb25zdCBUdXJmVXBzZXJ0ID0gZGIucHJlcGFyZSh0dXJmVXBzZXJ0U1FMKTtcbiAgY29uc3QgVHVyZkRlbGV0ZSA9IGRiLnByZXBhcmUodHVyZkRlbGV0ZVNRTCk7XG5cbiAgLy8gRW1haWxcbiAgY29uc3QgRW1haWxHZXRCeUlkID0gZGIucHJlcGFyZShlbWFpbEdldEJ5SWRTUUwpO1xuICBjb25zdCBFbWFpbEluc2VydCA9IGRiLnByZXBhcmUoZW1haWxJbnNlcnRTUUwpO1xuICBjb25zdCBFbWFpbFVwc2VydCA9IGRiLnByZXBhcmUoZW1haWxVcHNlcnRTUUwpO1xuICBjb25zdCBFbWFpbERlbGV0ZSA9IGRiLnByZXBhcmUoZW1haWxEZWxldGVTUUwpO1xuXG4gIC8vIFBob25lXG4gIGNvbnN0IFBob25lR2V0QnlJZCA9IGRiLnByZXBhcmUocGhvbmVHZXRCeUlkU1FMKTtcbiAgY29uc3QgUGhvbmVJbnNlcnQgPSBkYi5wcmVwYXJlKHBob25lSW5zZXJ0U1FMKTtcbiAgY29uc3QgUGhvbmVVcHNlcnQgPSBkYi5wcmVwYXJlKHBob25lVXBzZXJ0U1FMKTtcbiAgY29uc3QgUGhvbmVEZWxldGUgPSBkYi5wcmVwYXJlKHBob25lRGVsZXRlU1FMKTtcblxuICAvLyBQZXJzb25BZGRyZXNzXG4gIGNvbnN0IFBlcnNvbkFkZHJlc3NHZXRCeUlkID0gZGIucHJlcGFyZShwZXJzb25hZGRyZXNzR2V0QnlJZFNRTCk7XG4gIGNvbnN0IFBlcnNvbkFkZHJlc3NJbnNlcnQgPSBkYi5wcmVwYXJlKHBlcnNvbmFkZHJlc3NJbnNlcnRTUUwpO1xuICBjb25zdCBQZXJzb25BZGRyZXNzVXBzZXJ0ID0gZGIucHJlcGFyZShwZXJzb25hZGRyZXNzVXBzZXJ0U1FMKTtcbiAgY29uc3QgUGVyc29uQWRkcmVzc0RlbGV0ZSA9IGRiLnByZXBhcmUocGVyc29uYWRkcmVzc0RlbGV0ZVNRTCk7XG5cbiAgLy8gUGVyc29uUGhvbmVcbiAgY29uc3QgUGVyc29uUGhvbmVHZXRCeUlkID0gZGIucHJlcGFyZShwZXJzb25waG9uZUdldEJ5SWRTUUwpO1xuICBjb25zdCBQZXJzb25QaG9uZUluc2VydCA9IGRiLnByZXBhcmUocGVyc29ucGhvbmVJbnNlcnRTUUwpO1xuICBjb25zdCBQZXJzb25QaG9uZVVwc2VydCA9IGRiLnByZXBhcmUocGVyc29ucGhvbmVVcHNlcnRTUUwpO1xuICBjb25zdCBQZXJzb25QaG9uZURlbGV0ZSA9IGRiLnByZXBhcmUocGVyc29ucGhvbmVEZWxldGVTUUwpO1xuXG4gIC8vIEFjY291bnRcbiAgY29uc3QgQWNjb3VudEdldEJ5SWQgPSBkYi5wcmVwYXJlKGFjY291bnRHZXRCeUlkU1FMKTtcbiAgY29uc3QgQWNjb3VudEluc2VydCA9IGRiLnByZXBhcmUoYWNjb3VudEluc2VydFNRTCk7XG4gIGNvbnN0IEFjY291bnRVcHNlcnQgPSBkYi5wcmVwYXJlKGFjY291bnRVcHNlcnRTUUwpO1xuICBjb25zdCBBY2NvdW50RGVsZXRlID0gZGIucHJlcGFyZShhY2NvdW50RGVsZXRlU1FMKTtcblxuICAvLyBFeHBlcmllbmNlXG4gIGNvbnN0IEV4cGVyaWVuY2VHZXRCeUlkID0gZGIucHJlcGFyZShleHBlcmllbmNlR2V0QnlJZFNRTCk7XG4gIGNvbnN0IEV4cGVyaWVuY2VJbnNlcnQgPSBkYi5wcmVwYXJlKGV4cGVyaWVuY2VJbnNlcnRTUUwpO1xuICBjb25zdCBFeHBlcmllbmNlVXBzZXJ0ID0gZGIucHJlcGFyZShleHBlcmllbmNlVXBzZXJ0U1FMKTtcbiAgY29uc3QgRXhwZXJpZW5jZURlbGV0ZSA9IGRiLnByZXBhcmUoZXhwZXJpZW5jZURlbGV0ZVNRTCk7XG5cbiAgLy8gQ2FtcGFpZ25cbiAgY29uc3QgQ2FtcGFpZ25HZXRCeUlkID0gZGIucHJlcGFyZShjYW1wYWlnbkdldEJ5SWRTUUwpO1xuICBjb25zdCBDYW1wYWlnbkluc2VydCA9IGRiLnByZXBhcmUoY2FtcGFpZ25JbnNlcnRTUUwpO1xuICBjb25zdCBDYW1wYWlnblVwc2VydCA9IGRiLnByZXBhcmUoY2FtcGFpZ25VcHNlcnRTUUwpO1xuICBjb25zdCBDYW1wYWlnbkRlbGV0ZSA9IGRiLnByZXBhcmUoY2FtcGFpZ25EZWxldGVTUUwpO1xuXG4gIC8vIENvbnRlc3RcbiAgY29uc3QgQ29udGVzdEdldEJ5SWQgPSBkYi5wcmVwYXJlKGNvbnRlc3RHZXRCeUlkU1FMKTtcbiAgY29uc3QgQ29udGVzdEluc2VydCA9IGRiLnByZXBhcmUoY29udGVzdEluc2VydFNRTCk7XG4gIGNvbnN0IENvbnRlc3RVcHNlcnQgPSBkYi5wcmVwYXJlKGNvbnRlc3RVcHNlcnRTUUwpO1xuICBjb25zdCBDb250ZXN0RGVsZXRlID0gZGIucHJlcGFyZShjb250ZXN0RGVsZXRlU1FMKTtcblxuICAvLyBFbGVjdGlvblxuICBjb25zdCBFbGVjdGlvbkdldEJ5SWQgPSBkYi5wcmVwYXJlKGVsZWN0aW9uR2V0QnlJZFNRTCk7XG4gIGNvbnN0IEVsZWN0aW9uSW5zZXJ0ID0gZGIucHJlcGFyZShlbGVjdGlvbkluc2VydFNRTCk7XG4gIGNvbnN0IEVsZWN0aW9uVXBzZXJ0ID0gZGIucHJlcGFyZShlbGVjdGlvblVwc2VydFNRTCk7XG4gIGNvbnN0IEVsZWN0aW9uRGVsZXRlID0gZGIucHJlcGFyZShlbGVjdGlvbkRlbGV0ZVNRTCk7XG5cbiAgLy8gVm90ZVxuICBjb25zdCBWb3RlR2V0QnlJZCA9IGRiLnByZXBhcmUodm90ZUdldEJ5SWRTUUwpO1xuICBjb25zdCBWb3RlSW5zZXJ0ID0gZGIucHJlcGFyZSh2b3RlSW5zZXJ0U1FMKTtcbiAgY29uc3QgVm90ZVVwc2VydCA9IGRiLnByZXBhcmUodm90ZVVwc2VydFNRTCk7XG4gIGNvbnN0IFZvdGVEZWxldGUgPSBkYi5wcmVwYXJlKHZvdGVEZWxldGVTUUwpO1xuXG4gIC8vIFJldHVybnNcbiAgY29uc3QgUmV0dXJuc0dldEJ5SWQgPSBkYi5wcmVwYXJlKHJldHVybnNHZXRCeUlkU1FMKTtcbiAgY29uc3QgUmV0dXJuc0luc2VydCA9IGRiLnByZXBhcmUocmV0dXJuc0luc2VydFNRTCk7XG4gIGNvbnN0IFJldHVybnNVcHNlcnQgPSBkYi5wcmVwYXJlKHJldHVybnNVcHNlcnRTUUwpO1xuICBjb25zdCBSZXR1cm5zRGVsZXRlID0gZGIucHJlcGFyZShyZXR1cm5zRGVsZXRlU1FMKTtcblxuICAvLyBTY29yZVxuICBjb25zdCBTY29yZUdldEJ5SWQgPSBkYi5wcmVwYXJlKHNjb3JlR2V0QnlJZFNRTCk7XG4gIGNvbnN0IFNjb3JlSW5zZXJ0ID0gZGIucHJlcGFyZShzY29yZUluc2VydFNRTCk7XG4gIGNvbnN0IFNjb3JlVXBzZXJ0ID0gZGIucHJlcGFyZShzY29yZVVwc2VydFNRTCk7XG4gIGNvbnN0IFNjb3JlRGVsZXRlID0gZGIucHJlcGFyZShzY29yZURlbGV0ZVNRTCk7XG5cbiAgLy8gUGVyc29uXG4gIGNvbnN0IFBlcnNvbkdldEJ5SWQgPSBkYi5wcmVwYXJlKHBlcnNvbkdldEJ5SWRTUUwpO1xuICBjb25zdCBQZXJzb25JbnNlcnQgPSBkYi5wcmVwYXJlKHBlcnNvbkluc2VydFNRTCk7XG4gIGNvbnN0IFBlcnNvblVwc2VydCA9IGRiLnByZXBhcmUocGVyc29uVXBzZXJ0U1FMKTtcbiAgY29uc3QgUGVyc29uRGVsZXRlID0gZGIucHJlcGFyZShwZXJzb25EZWxldGVTUUwpO1xuXG4gIC8vIEVuc3VyZSBvdXIgZmlsZSB2ZXJzaW9uIG1ldGFkYXRhIGlzIHNldC5cbiAgZGIuZXhlYyhgSU5TRVJUIElOVE8gXCJNZXRhZGF0YVwiIChcImtleVwiLFwidmFsdWVcIikgVkFMVUVTICgndmVyc2lvbicsICczLjAuMTMnKSBPTiBDT05GTElDVCAoXCJrZXlcIikgRE8gVVBEQVRFIFNFVCBcInZhbHVlXCIgPSAnMy4wLjEzJ2ApO1xuXG4gIHJldHVybiB7XG4gICAgaW5kZXhlczoge1xuICAgICAgY3JlYXRlKCkge1xuICAgICAgICBkYi5leGVjKGNyZWF0ZUluZGV4ZXNTUUwpO1xuICAgICAgfSxcbiAgICAgIGRlbGV0ZSgpIHtcbiAgICAgICAgZGIuZXhlYyhkZWxldGVJbmRleGVzU1FMKTtcbiAgICAgIH0sXG4gICAgfSxcbiAgICBNZXRhZGF0YToge1xuICAgICAgZ2V0QnlJZChrZXk6IHN0cmluZyk6IE1vZGVscy5JTWV0YWRhdGEgfCBudWxsIHtcbiAgICAgICAgY29uc3QgdmFsID0gTWV0YWRhdGFHZXRCeUlkLmdldChrZXkpIGFzIElNZXRhZGF0YTtcbiAgICAgICAgcmV0dXJuIHZhbCA/IEhlbHBlcnMuTWV0YWRhdGEuaHlkcmF0ZSh2YWwpIDogbnVsbDtcbiAgICAgIH0sXG4gICAgICBpbnNlcnQoZGF0YTogTW9kZWxzLklQYXJ0aWFsTWV0YWRhdGEsIHNpbGVudD86IGJvb2xlYW4pOiBEaWZmLkNyZWF0ZURpZmY8RGlmZi5Nb2RlbFR5cGUuTUVUQURBVEE+IHwgbnVsbCB7XG4gICAgICAgIGNvbnN0IGFmdGVyID0gSGVscGVycy5NZXRhZGF0YS5oeWRyYXRlKGRhdGEpO1xuICAgICAgICBNZXRhZGF0YUluc2VydC5ydW4oSGVscGVycy5NZXRhZGF0YS5zcWwoYWZ0ZXIpKTtcbiAgICAgICAgY29uc3QgZGlmZiA9IERpZmYuZGlmZk1ldGFkYXRhKG51bGwsIGFmdGVyKTtcbiAgICAgICAgIXNpbGVudCAmJiBvbkRpZmYoZGlmZik7XG4gICAgICAgIHJldHVybiBkaWZmO1xuICAgICAgfSxcbiAgICAgIHVwc2VydChkYXRhOiBNb2RlbHMuSVBhcnRpYWxNZXRhZGF0YSwgc2lsZW50PzogYm9vbGVhbik6IERpZmYuQ3JlYXRlRGlmZjxEaWZmLk1vZGVsVHlwZS5NRVRBREFUQT4gfCBEaWZmLlVwZGF0ZURpZmY8RGlmZi5Nb2RlbFR5cGUuTUVUQURBVEE+IHwgbnVsbCB7XG4gICAgICAgIGNvbnN0IGFmdGVyID0gSGVscGVycy5NZXRhZGF0YS5kZWh5ZHJhdGUoZGF0YSk7XG4gICAgICAgIGNvbnN0IGJlZm9yZSA9IE1ldGFkYXRhR2V0QnlJZC5nZXQoYWZ0ZXIua2V5KSBhcyBJTWV0YWRhdGE7XG4gICAgICAgIGNvbnN0IGRpZmYgPSBEaWZmLmRpZmZNZXRhZGF0YShiZWZvcmUsIGFmdGVyKTtcbiAgICAgICAgaWYgKCFkaWZmKSB7IHJldHVybiBudWxsOyB9XG4gICAgICAgIE1ldGFkYXRhVXBzZXJ0LnJ1bihIZWxwZXJzLk1ldGFkYXRhLnNxbCh7IC4uLkhlbHBlcnMuTWV0YWRhdGEuaHlkcmF0ZShiZWZvcmUpLCAuLi5hZnRlciB9KSk7XG4gICAgICAgICFzaWxlbnQgJiYgb25EaWZmKGRpZmYpO1xuICAgICAgICByZXR1cm4gZGlmZjtcbiAgICAgIH0sXG4gICAgICBkZWxldGUoa2V5OiBzdHJpbmcsIHNpbGVudD86IGJvb2xlYW4pOiBEaWZmLkRlbGV0ZURpZmY8RGlmZi5Nb2RlbFR5cGUuTUVUQURBVEE+IHwgbnVsbCB7XG4gICAgICAgIGNvbnN0IGJlZm9yZSA9IE1ldGFkYXRhR2V0QnlJZC5nZXQoa2V5KSBhcyBJTWV0YWRhdGE7XG4gICAgICAgIGlmICghYmVmb3JlKSB7IHJldHVybiBudWxsOyB9XG4gICAgICAgIE1ldGFkYXRhRGVsZXRlLnJ1bihrZXkpO1xuICAgICAgICBjb25zdCBkaWZmID0gRGlmZi5kaWZmTWV0YWRhdGEoYmVmb3JlLCBudWxsKVxuICAgICAgICAhc2lsZW50ICYmIG9uRGlmZihkaWZmKTtcbiAgICAgICAgcmV0dXJuIGRpZmY7XG4gICAgICB9LFxuICAgICAgYXBwbHkoZGlmZjogRGlmZi5EaWZmPERpZmYuTW9kZWxUeXBlLk1FVEFEQVRBPik6IERpZmYuRGlmZjxEaWZmLk1vZGVsVHlwZS5NRVRBREFUQT4gfCBudWxsIHtcbiAgICAgICAgcmV0dXJuIGRpZmYuYWZ0ZXIgPyB0aGlzLnVwc2VydChkaWZmLmFmdGVyLCB0cnVlKSA6IHRoaXMuZGVsZXRlKGRpZmYuYmVmb3JlLmtleSwgdHJ1ZSlcbiAgICAgIH0sXG4gICAgICByb2xsYmFjayhkaWZmOiBEaWZmLkRpZmY8RGlmZi5Nb2RlbFR5cGUuTUVUQURBVEE+KTogRGlmZi5EaWZmPERpZmYuTW9kZWxUeXBlLk1FVEFEQVRBPiB8IG51bGwge1xuICAgICAgICByZXR1cm4gZGlmZi5iZWZvcmUgPyB0aGlzLnVwc2VydChkaWZmLmJlZm9yZSwgdHJ1ZSkgOiB0aGlzLmRlbGV0ZShkaWZmLmFmdGVyLmtleSwgdHJ1ZSlcbiAgICAgIH0sXG4gICAgfSxcbiAgICBBZGRyZXNzOiB7XG4gICAgICBnZXRCeUlkKGlkOiBzdHJpbmcpOiBNb2RlbHMuSUFkZHJlc3MgfCBudWxsIHtcbiAgICAgICAgY29uc3QgdmFsID0gQWRkcmVzc0dldEJ5SWQuZ2V0KGlkKSBhcyBJQWRkcmVzcztcbiAgICAgICAgcmV0dXJuIHZhbCA/IEhlbHBlcnMuQWRkcmVzcy5oeWRyYXRlKHZhbCkgOiBudWxsO1xuICAgICAgfSxcbiAgICAgIGluc2VydChkYXRhOiBNb2RlbHMuSVBhcnRpYWxBZGRyZXNzLCBzaWxlbnQ/OiBib29sZWFuKTogRGlmZi5DcmVhdGVEaWZmPERpZmYuTW9kZWxUeXBlLkFERFJFU1M+IHwgbnVsbCB7XG4gICAgICAgIGNvbnN0IGFmdGVyID0gSGVscGVycy5BZGRyZXNzLmh5ZHJhdGUoZGF0YSk7XG4gICAgICAgIEFkZHJlc3NJbnNlcnQucnVuKEhlbHBlcnMuQWRkcmVzcy5zcWwoYWZ0ZXIpKTtcbiAgICAgICAgY29uc3QgZGlmZiA9IERpZmYuZGlmZkFkZHJlc3MobnVsbCwgYWZ0ZXIpO1xuICAgICAgICAhc2lsZW50ICYmIG9uRGlmZihkaWZmKTtcbiAgICAgICAgcmV0dXJuIGRpZmY7XG4gICAgICB9LFxuICAgICAgdXBzZXJ0KGRhdGE6IE1vZGVscy5JUGFydGlhbEFkZHJlc3MsIHNpbGVudD86IGJvb2xlYW4pOiBEaWZmLkNyZWF0ZURpZmY8RGlmZi5Nb2RlbFR5cGUuQUREUkVTUz4gfCBEaWZmLlVwZGF0ZURpZmY8RGlmZi5Nb2RlbFR5cGUuQUREUkVTUz4gfCBudWxsIHtcbiAgICAgICAgY29uc3QgYWZ0ZXIgPSBIZWxwZXJzLkFkZHJlc3MuZGVoeWRyYXRlKGRhdGEpO1xuICAgICAgICBjb25zdCBiZWZvcmUgPSBBZGRyZXNzR2V0QnlJZC5nZXQoYWZ0ZXIuaWQpIGFzIElBZGRyZXNzO1xuICAgICAgICBjb25zdCBkaWZmID0gRGlmZi5kaWZmQWRkcmVzcyhiZWZvcmUsIGFmdGVyKTtcbiAgICAgICAgaWYgKCFkaWZmKSB7IHJldHVybiBudWxsOyB9XG4gICAgICAgIEFkZHJlc3NVcHNlcnQucnVuKEhlbHBlcnMuQWRkcmVzcy5zcWwoeyAuLi5IZWxwZXJzLkFkZHJlc3MuaHlkcmF0ZShiZWZvcmUpLCAuLi5hZnRlciB9KSk7XG4gICAgICAgICFzaWxlbnQgJiYgb25EaWZmKGRpZmYpO1xuICAgICAgICByZXR1cm4gZGlmZjtcbiAgICAgIH0sXG4gICAgICBkZWxldGUoaWQ6IHN0cmluZywgc2lsZW50PzogYm9vbGVhbik6IERpZmYuRGVsZXRlRGlmZjxEaWZmLk1vZGVsVHlwZS5BRERSRVNTPiB8IG51bGwge1xuICAgICAgICBjb25zdCBiZWZvcmUgPSBBZGRyZXNzR2V0QnlJZC5nZXQoaWQpIGFzIElBZGRyZXNzO1xuICAgICAgICBpZiAoIWJlZm9yZSkgeyByZXR1cm4gbnVsbDsgfVxuICAgICAgICBBZGRyZXNzRGVsZXRlLnJ1bihpZCk7XG4gICAgICAgIGNvbnN0IGRpZmYgPSBEaWZmLmRpZmZBZGRyZXNzKGJlZm9yZSwgbnVsbClcbiAgICAgICAgIXNpbGVudCAmJiBvbkRpZmYoZGlmZik7XG4gICAgICAgIHJldHVybiBkaWZmO1xuICAgICAgfSxcbiAgICAgIGFwcGx5KGRpZmY6IERpZmYuRGlmZjxEaWZmLk1vZGVsVHlwZS5BRERSRVNTPik6IERpZmYuRGlmZjxEaWZmLk1vZGVsVHlwZS5BRERSRVNTPiB8IG51bGwge1xuICAgICAgICByZXR1cm4gZGlmZi5hZnRlciA/IHRoaXMudXBzZXJ0KGRpZmYuYWZ0ZXIsIHRydWUpIDogdGhpcy5kZWxldGUoZGlmZi5iZWZvcmUuaWQsIHRydWUpXG4gICAgICB9LFxuICAgICAgcm9sbGJhY2soZGlmZjogRGlmZi5EaWZmPERpZmYuTW9kZWxUeXBlLkFERFJFU1M+KTogRGlmZi5EaWZmPERpZmYuTW9kZWxUeXBlLkFERFJFU1M+IHwgbnVsbCB7XG4gICAgICAgIHJldHVybiBkaWZmLmJlZm9yZSA/IHRoaXMudXBzZXJ0KGRpZmYuYmVmb3JlLCB0cnVlKSA6IHRoaXMuZGVsZXRlKGRpZmYuYWZ0ZXIuaWQsIHRydWUpXG4gICAgICB9LFxuICAgIH0sXG4gICAgVHVyZjoge1xuICAgICAgZ2V0QnlJZChpZDogc3RyaW5nKTogTW9kZWxzLklUdXJmIHwgbnVsbCB7XG4gICAgICAgIGNvbnN0IHZhbCA9IFR1cmZHZXRCeUlkLmdldChpZCkgYXMgSVR1cmY7XG4gICAgICAgIHJldHVybiB2YWwgPyBIZWxwZXJzLlR1cmYuaHlkcmF0ZSh2YWwpIDogbnVsbDtcbiAgICAgIH0sXG4gICAgICBpbnNlcnQoZGF0YTogTW9kZWxzLklQYXJ0aWFsVHVyZiwgc2lsZW50PzogYm9vbGVhbik6IERpZmYuQ3JlYXRlRGlmZjxEaWZmLk1vZGVsVHlwZS5UVVJGPiB8IG51bGwge1xuICAgICAgICBjb25zdCBhZnRlciA9IEhlbHBlcnMuVHVyZi5oeWRyYXRlKGRhdGEpO1xuICAgICAgICBUdXJmSW5zZXJ0LnJ1bihIZWxwZXJzLlR1cmYuc3FsKGFmdGVyKSk7XG4gICAgICAgIGNvbnN0IGRpZmYgPSBEaWZmLmRpZmZUdXJmKG51bGwsIGFmdGVyKTtcbiAgICAgICAgIXNpbGVudCAmJiBvbkRpZmYoZGlmZik7XG4gICAgICAgIHJldHVybiBkaWZmO1xuICAgICAgfSxcbiAgICAgIHVwc2VydChkYXRhOiBNb2RlbHMuSVBhcnRpYWxUdXJmLCBzaWxlbnQ/OiBib29sZWFuKTogRGlmZi5DcmVhdGVEaWZmPERpZmYuTW9kZWxUeXBlLlRVUkY+IHwgRGlmZi5VcGRhdGVEaWZmPERpZmYuTW9kZWxUeXBlLlRVUkY+IHwgbnVsbCB7XG4gICAgICAgIGNvbnN0IGFmdGVyID0gSGVscGVycy5UdXJmLmRlaHlkcmF0ZShkYXRhKTtcbiAgICAgICAgY29uc3QgYmVmb3JlID0gVHVyZkdldEJ5SWQuZ2V0KGFmdGVyLmlkKSBhcyBJVHVyZjtcbiAgICAgICAgY29uc3QgZGlmZiA9IERpZmYuZGlmZlR1cmYoYmVmb3JlLCBhZnRlcik7XG4gICAgICAgIGlmICghZGlmZikgeyByZXR1cm4gbnVsbDsgfVxuICAgICAgICBUdXJmVXBzZXJ0LnJ1bihIZWxwZXJzLlR1cmYuc3FsKHsgLi4uSGVscGVycy5UdXJmLmh5ZHJhdGUoYmVmb3JlKSwgLi4uYWZ0ZXIgfSkpO1xuICAgICAgICAhc2lsZW50ICYmIG9uRGlmZihkaWZmKTtcbiAgICAgICAgcmV0dXJuIGRpZmY7XG4gICAgICB9LFxuICAgICAgZGVsZXRlKGlkOiBzdHJpbmcsIHNpbGVudD86IGJvb2xlYW4pOiBEaWZmLkRlbGV0ZURpZmY8RGlmZi5Nb2RlbFR5cGUuVFVSRj4gfCBudWxsIHtcbiAgICAgICAgY29uc3QgYmVmb3JlID0gVHVyZkdldEJ5SWQuZ2V0KGlkKSBhcyBJVHVyZjtcbiAgICAgICAgaWYgKCFiZWZvcmUpIHsgcmV0dXJuIG51bGw7IH1cbiAgICAgICAgVHVyZkRlbGV0ZS5ydW4oaWQpO1xuICAgICAgICBjb25zdCBkaWZmID0gRGlmZi5kaWZmVHVyZihiZWZvcmUsIG51bGwpXG4gICAgICAgICFzaWxlbnQgJiYgb25EaWZmKGRpZmYpO1xuICAgICAgICByZXR1cm4gZGlmZjtcbiAgICAgIH0sXG4gICAgICBhcHBseShkaWZmOiBEaWZmLkRpZmY8RGlmZi5Nb2RlbFR5cGUuVFVSRj4pOiBEaWZmLkRpZmY8RGlmZi5Nb2RlbFR5cGUuVFVSRj4gfCBudWxsIHtcbiAgICAgICAgcmV0dXJuIGRpZmYuYWZ0ZXIgPyB0aGlzLnVwc2VydChkaWZmLmFmdGVyLCB0cnVlKSA6IHRoaXMuZGVsZXRlKGRpZmYuYmVmb3JlLmlkLCB0cnVlKVxuICAgICAgfSxcbiAgICAgIHJvbGxiYWNrKGRpZmY6IERpZmYuRGlmZjxEaWZmLk1vZGVsVHlwZS5UVVJGPik6IERpZmYuRGlmZjxEaWZmLk1vZGVsVHlwZS5UVVJGPiB8IG51bGwge1xuICAgICAgICByZXR1cm4gZGlmZi5iZWZvcmUgPyB0aGlzLnVwc2VydChkaWZmLmJlZm9yZSwgdHJ1ZSkgOiB0aGlzLmRlbGV0ZShkaWZmLmFmdGVyLmlkLCB0cnVlKVxuICAgICAgfSxcbiAgICB9LFxuICAgIEVtYWlsOiB7XG4gICAgICBnZXRCeUlkKHBlcnNvbklkOiBzdHJpbmcsIGVtYWlsOiBzdHJpbmcpOiBNb2RlbHMuSUVtYWlsIHwgbnVsbCB7XG4gICAgICAgIGNvbnN0IHZhbCA9IEVtYWlsR2V0QnlJZC5nZXQocGVyc29uSWQsIGVtYWlsKSBhcyBJRW1haWw7XG4gICAgICAgIHJldHVybiB2YWwgPyBIZWxwZXJzLkVtYWlsLmh5ZHJhdGUodmFsKSA6IG51bGw7XG4gICAgICB9LFxuICAgICAgaW5zZXJ0KGRhdGE6IE1vZGVscy5JUGFydGlhbEVtYWlsLCBzaWxlbnQ/OiBib29sZWFuKTogRGlmZi5DcmVhdGVEaWZmPERpZmYuTW9kZWxUeXBlLkVNQUlMPiB8IG51bGwge1xuICAgICAgICBjb25zdCBhZnRlciA9IEhlbHBlcnMuRW1haWwuaHlkcmF0ZShkYXRhKTtcbiAgICAgICAgRW1haWxJbnNlcnQucnVuKEhlbHBlcnMuRW1haWwuc3FsKGFmdGVyKSk7XG4gICAgICAgIGNvbnN0IGRpZmYgPSBEaWZmLmRpZmZFbWFpbChudWxsLCBhZnRlcik7XG4gICAgICAgICFzaWxlbnQgJiYgb25EaWZmKGRpZmYpO1xuICAgICAgICByZXR1cm4gZGlmZjtcbiAgICAgIH0sXG4gICAgICB1cHNlcnQoZGF0YTogTW9kZWxzLklQYXJ0aWFsRW1haWwsIHNpbGVudD86IGJvb2xlYW4pOiBEaWZmLkNyZWF0ZURpZmY8RGlmZi5Nb2RlbFR5cGUuRU1BSUw+IHwgRGlmZi5VcGRhdGVEaWZmPERpZmYuTW9kZWxUeXBlLkVNQUlMPiB8IG51bGwge1xuICAgICAgICBjb25zdCBhZnRlciA9IEhlbHBlcnMuRW1haWwuZGVoeWRyYXRlKGRhdGEpO1xuICAgICAgICBjb25zdCBiZWZvcmUgPSBFbWFpbEdldEJ5SWQuZ2V0KGFmdGVyLnBlcnNvbklkLCBhZnRlci5lbWFpbCkgYXMgSUVtYWlsO1xuICAgICAgICBjb25zdCBkaWZmID0gRGlmZi5kaWZmRW1haWwoYmVmb3JlLCBhZnRlcik7XG4gICAgICAgIGlmICghZGlmZikgeyByZXR1cm4gbnVsbDsgfVxuICAgICAgICBFbWFpbFVwc2VydC5ydW4oSGVscGVycy5FbWFpbC5zcWwoeyAuLi5IZWxwZXJzLkVtYWlsLmh5ZHJhdGUoYmVmb3JlKSwgLi4uYWZ0ZXIgfSkpO1xuICAgICAgICAhc2lsZW50ICYmIG9uRGlmZihkaWZmKTtcbiAgICAgICAgcmV0dXJuIGRpZmY7XG4gICAgICB9LFxuICAgICAgZGVsZXRlKHBlcnNvbklkOiBzdHJpbmcsIGVtYWlsOiBzdHJpbmcsIHNpbGVudD86IGJvb2xlYW4pOiBEaWZmLkRlbGV0ZURpZmY8RGlmZi5Nb2RlbFR5cGUuRU1BSUw+IHwgbnVsbCB7XG4gICAgICAgIGNvbnN0IGJlZm9yZSA9IEVtYWlsR2V0QnlJZC5nZXQocGVyc29uSWQsIGVtYWlsKSBhcyBJRW1haWw7XG4gICAgICAgIGlmICghYmVmb3JlKSB7IHJldHVybiBudWxsOyB9XG4gICAgICAgIEVtYWlsRGVsZXRlLnJ1bihwZXJzb25JZCwgZW1haWwpO1xuICAgICAgICBjb25zdCBkaWZmID0gRGlmZi5kaWZmRW1haWwoYmVmb3JlLCBudWxsKVxuICAgICAgICAhc2lsZW50ICYmIG9uRGlmZihkaWZmKTtcbiAgICAgICAgcmV0dXJuIGRpZmY7XG4gICAgICB9LFxuICAgICAgYXBwbHkoZGlmZjogRGlmZi5EaWZmPERpZmYuTW9kZWxUeXBlLkVNQUlMPik6IERpZmYuRGlmZjxEaWZmLk1vZGVsVHlwZS5FTUFJTD4gfCBudWxsIHtcbiAgICAgICAgcmV0dXJuIGRpZmYuYWZ0ZXIgPyB0aGlzLnVwc2VydChkaWZmLmFmdGVyLCB0cnVlKSA6IHRoaXMuZGVsZXRlKGRpZmYuYmVmb3JlLnBlcnNvbklkLCBkaWZmLmJlZm9yZS5lbWFpbCwgdHJ1ZSlcbiAgICAgIH0sXG4gICAgICByb2xsYmFjayhkaWZmOiBEaWZmLkRpZmY8RGlmZi5Nb2RlbFR5cGUuRU1BSUw+KTogRGlmZi5EaWZmPERpZmYuTW9kZWxUeXBlLkVNQUlMPiB8IG51bGwge1xuICAgICAgICByZXR1cm4gZGlmZi5iZWZvcmUgPyB0aGlzLnVwc2VydChkaWZmLmJlZm9yZSwgdHJ1ZSkgOiB0aGlzLmRlbGV0ZShkaWZmLmFmdGVyLnBlcnNvbklkLCBkaWZmLmFmdGVyLmVtYWlsLCB0cnVlKVxuICAgICAgfSxcbiAgICB9LFxuICAgIFBob25lOiB7XG4gICAgICBnZXRCeUlkKG51bWJlcjogc3RyaW5nKTogTW9kZWxzLklQaG9uZSB8IG51bGwge1xuICAgICAgICBjb25zdCB2YWwgPSBQaG9uZUdldEJ5SWQuZ2V0KG51bWJlcikgYXMgSVBob25lO1xuICAgICAgICByZXR1cm4gdmFsID8gSGVscGVycy5QaG9uZS5oeWRyYXRlKHZhbCkgOiBudWxsO1xuICAgICAgfSxcbiAgICAgIGluc2VydChkYXRhOiBNb2RlbHMuSVBhcnRpYWxQaG9uZSwgc2lsZW50PzogYm9vbGVhbik6IERpZmYuQ3JlYXRlRGlmZjxEaWZmLk1vZGVsVHlwZS5QSE9ORT4gfCBudWxsIHtcbiAgICAgICAgY29uc3QgYWZ0ZXIgPSBIZWxwZXJzLlBob25lLmh5ZHJhdGUoZGF0YSk7XG4gICAgICAgIFBob25lSW5zZXJ0LnJ1bihIZWxwZXJzLlBob25lLnNxbChhZnRlcikpO1xuICAgICAgICBjb25zdCBkaWZmID0gRGlmZi5kaWZmUGhvbmUobnVsbCwgYWZ0ZXIpO1xuICAgICAgICAhc2lsZW50ICYmIG9uRGlmZihkaWZmKTtcbiAgICAgICAgcmV0dXJuIGRpZmY7XG4gICAgICB9LFxuICAgICAgdXBzZXJ0KGRhdGE6IE1vZGVscy5JUGFydGlhbFBob25lLCBzaWxlbnQ/OiBib29sZWFuKTogRGlmZi5DcmVhdGVEaWZmPERpZmYuTW9kZWxUeXBlLlBIT05FPiB8IERpZmYuVXBkYXRlRGlmZjxEaWZmLk1vZGVsVHlwZS5QSE9ORT4gfCBudWxsIHtcbiAgICAgICAgY29uc3QgYWZ0ZXIgPSBIZWxwZXJzLlBob25lLmRlaHlkcmF0ZShkYXRhKTtcbiAgICAgICAgY29uc3QgYmVmb3JlID0gUGhvbmVHZXRCeUlkLmdldChhZnRlci5udW1iZXIpIGFzIElQaG9uZTtcbiAgICAgICAgY29uc3QgZGlmZiA9IERpZmYuZGlmZlBob25lKGJlZm9yZSwgYWZ0ZXIpO1xuICAgICAgICBpZiAoIWRpZmYpIHsgcmV0dXJuIG51bGw7IH1cbiAgICAgICAgUGhvbmVVcHNlcnQucnVuKEhlbHBlcnMuUGhvbmUuc3FsKHsgLi4uSGVscGVycy5QaG9uZS5oeWRyYXRlKGJlZm9yZSksIC4uLmFmdGVyIH0pKTtcbiAgICAgICAgIXNpbGVudCAmJiBvbkRpZmYoZGlmZik7XG4gICAgICAgIHJldHVybiBkaWZmO1xuICAgICAgfSxcbiAgICAgIGRlbGV0ZShudW1iZXI6IHN0cmluZywgc2lsZW50PzogYm9vbGVhbik6IERpZmYuRGVsZXRlRGlmZjxEaWZmLk1vZGVsVHlwZS5QSE9ORT4gfCBudWxsIHtcbiAgICAgICAgY29uc3QgYmVmb3JlID0gUGhvbmVHZXRCeUlkLmdldChudW1iZXIpIGFzIElQaG9uZTtcbiAgICAgICAgaWYgKCFiZWZvcmUpIHsgcmV0dXJuIG51bGw7IH1cbiAgICAgICAgUGhvbmVEZWxldGUucnVuKG51bWJlcik7XG4gICAgICAgIGNvbnN0IGRpZmYgPSBEaWZmLmRpZmZQaG9uZShiZWZvcmUsIG51bGwpXG4gICAgICAgICFzaWxlbnQgJiYgb25EaWZmKGRpZmYpO1xuICAgICAgICByZXR1cm4gZGlmZjtcbiAgICAgIH0sXG4gICAgICBhcHBseShkaWZmOiBEaWZmLkRpZmY8RGlmZi5Nb2RlbFR5cGUuUEhPTkU+KTogRGlmZi5EaWZmPERpZmYuTW9kZWxUeXBlLlBIT05FPiB8IG51bGwge1xuICAgICAgICByZXR1cm4gZGlmZi5hZnRlciA/IHRoaXMudXBzZXJ0KGRpZmYuYWZ0ZXIsIHRydWUpIDogdGhpcy5kZWxldGUoZGlmZi5iZWZvcmUubnVtYmVyLCB0cnVlKVxuICAgICAgfSxcbiAgICAgIHJvbGxiYWNrKGRpZmY6IERpZmYuRGlmZjxEaWZmLk1vZGVsVHlwZS5QSE9ORT4pOiBEaWZmLkRpZmY8RGlmZi5Nb2RlbFR5cGUuUEhPTkU+IHwgbnVsbCB7XG4gICAgICAgIHJldHVybiBkaWZmLmJlZm9yZSA/IHRoaXMudXBzZXJ0KGRpZmYuYmVmb3JlLCB0cnVlKSA6IHRoaXMuZGVsZXRlKGRpZmYuYWZ0ZXIubnVtYmVyLCB0cnVlKVxuICAgICAgfSxcbiAgICB9LFxuICAgIFBlcnNvbkFkZHJlc3M6IHtcbiAgICAgIGdldEJ5SWQocGVyc29uSWQ6IHN0cmluZywgYWRkcmVzc0lkOiBzdHJpbmcpOiBNb2RlbHMuSVBlcnNvbkFkZHJlc3MgfCBudWxsIHtcbiAgICAgICAgY29uc3QgdmFsID0gUGVyc29uQWRkcmVzc0dldEJ5SWQuZ2V0KHBlcnNvbklkLCBhZGRyZXNzSWQpIGFzIElQZXJzb25BZGRyZXNzO1xuICAgICAgICByZXR1cm4gdmFsID8gSGVscGVycy5QZXJzb25BZGRyZXNzLmh5ZHJhdGUodmFsKSA6IG51bGw7XG4gICAgICB9LFxuICAgICAgaW5zZXJ0KGRhdGE6IE1vZGVscy5JUGFydGlhbFBlcnNvbkFkZHJlc3MsIHNpbGVudD86IGJvb2xlYW4pOiBEaWZmLkNyZWF0ZURpZmY8RGlmZi5Nb2RlbFR5cGUuUEVSU09OX0FERFJFU1M+IHwgbnVsbCB7XG4gICAgICAgIGNvbnN0IGFmdGVyID0gSGVscGVycy5QZXJzb25BZGRyZXNzLmh5ZHJhdGUoZGF0YSk7XG4gICAgICAgIFBlcnNvbkFkZHJlc3NJbnNlcnQucnVuKEhlbHBlcnMuUGVyc29uQWRkcmVzcy5zcWwoYWZ0ZXIpKTtcbiAgICAgICAgY29uc3QgZGlmZiA9IERpZmYuZGlmZlBlcnNvbkFkZHJlc3MobnVsbCwgYWZ0ZXIpO1xuICAgICAgICAhc2lsZW50ICYmIG9uRGlmZihkaWZmKTtcbiAgICAgICAgcmV0dXJuIGRpZmY7XG4gICAgICB9LFxuICAgICAgdXBzZXJ0KGRhdGE6IE1vZGVscy5JUGFydGlhbFBlcnNvbkFkZHJlc3MsIHNpbGVudD86IGJvb2xlYW4pOiBEaWZmLkNyZWF0ZURpZmY8RGlmZi5Nb2RlbFR5cGUuUEVSU09OX0FERFJFU1M+IHwgRGlmZi5VcGRhdGVEaWZmPERpZmYuTW9kZWxUeXBlLlBFUlNPTl9BRERSRVNTPiB8IG51bGwge1xuICAgICAgICBjb25zdCBhZnRlciA9IEhlbHBlcnMuUGVyc29uQWRkcmVzcy5kZWh5ZHJhdGUoZGF0YSk7XG4gICAgICAgIGNvbnN0IGJlZm9yZSA9IFBlcnNvbkFkZHJlc3NHZXRCeUlkLmdldChhZnRlci5wZXJzb25JZCwgYWZ0ZXIuYWRkcmVzc0lkKSBhcyBJUGVyc29uQWRkcmVzcztcbiAgICAgICAgY29uc3QgZGlmZiA9IERpZmYuZGlmZlBlcnNvbkFkZHJlc3MoYmVmb3JlLCBhZnRlcik7XG4gICAgICAgIGlmICghZGlmZikgeyByZXR1cm4gbnVsbDsgfVxuICAgICAgICBQZXJzb25BZGRyZXNzVXBzZXJ0LnJ1bihIZWxwZXJzLlBlcnNvbkFkZHJlc3Muc3FsKHsgLi4uSGVscGVycy5QZXJzb25BZGRyZXNzLmh5ZHJhdGUoYmVmb3JlKSwgLi4uYWZ0ZXIgfSkpO1xuICAgICAgICAhc2lsZW50ICYmIG9uRGlmZihkaWZmKTtcbiAgICAgICAgcmV0dXJuIGRpZmY7XG4gICAgICB9LFxuICAgICAgZGVsZXRlKHBlcnNvbklkOiBzdHJpbmcsIGFkZHJlc3NJZDogc3RyaW5nLCBzaWxlbnQ/OiBib29sZWFuKTogRGlmZi5EZWxldGVEaWZmPERpZmYuTW9kZWxUeXBlLlBFUlNPTl9BRERSRVNTPiB8IG51bGwge1xuICAgICAgICBjb25zdCBiZWZvcmUgPSBQZXJzb25BZGRyZXNzR2V0QnlJZC5nZXQocGVyc29uSWQsIGFkZHJlc3NJZCkgYXMgSVBlcnNvbkFkZHJlc3M7XG4gICAgICAgIGlmICghYmVmb3JlKSB7IHJldHVybiBudWxsOyB9XG4gICAgICAgIFBlcnNvbkFkZHJlc3NEZWxldGUucnVuKHBlcnNvbklkLCBhZGRyZXNzSWQpO1xuICAgICAgICBjb25zdCBkaWZmID0gRGlmZi5kaWZmUGVyc29uQWRkcmVzcyhiZWZvcmUsIG51bGwpXG4gICAgICAgICFzaWxlbnQgJiYgb25EaWZmKGRpZmYpO1xuICAgICAgICByZXR1cm4gZGlmZjtcbiAgICAgIH0sXG4gICAgICBhcHBseShkaWZmOiBEaWZmLkRpZmY8RGlmZi5Nb2RlbFR5cGUuUEVSU09OX0FERFJFU1M+KTogRGlmZi5EaWZmPERpZmYuTW9kZWxUeXBlLlBFUlNPTl9BRERSRVNTPiB8IG51bGwge1xuICAgICAgICByZXR1cm4gZGlmZi5hZnRlciA/IHRoaXMudXBzZXJ0KGRpZmYuYWZ0ZXIsIHRydWUpIDogdGhpcy5kZWxldGUoZGlmZi5iZWZvcmUucGVyc29uSWQsIGRpZmYuYmVmb3JlLmFkZHJlc3NJZCwgdHJ1ZSlcbiAgICAgIH0sXG4gICAgICByb2xsYmFjayhkaWZmOiBEaWZmLkRpZmY8RGlmZi5Nb2RlbFR5cGUuUEVSU09OX0FERFJFU1M+KTogRGlmZi5EaWZmPERpZmYuTW9kZWxUeXBlLlBFUlNPTl9BRERSRVNTPiB8IG51bGwge1xuICAgICAgICByZXR1cm4gZGlmZi5iZWZvcmUgPyB0aGlzLnVwc2VydChkaWZmLmJlZm9yZSwgdHJ1ZSkgOiB0aGlzLmRlbGV0ZShkaWZmLmFmdGVyLnBlcnNvbklkLCBkaWZmLmFmdGVyLmFkZHJlc3NJZCwgdHJ1ZSlcbiAgICAgIH0sXG4gICAgfSxcbiAgICBQZXJzb25QaG9uZToge1xuICAgICAgZ2V0QnlJZChwZXJzb25JZDogc3RyaW5nLCBwaG9uZUlkOiBzdHJpbmcpOiBNb2RlbHMuSVBlcnNvblBob25lIHwgbnVsbCB7XG4gICAgICAgIGNvbnN0IHZhbCA9IFBlcnNvblBob25lR2V0QnlJZC5nZXQocGVyc29uSWQsIHBob25lSWQpIGFzIElQZXJzb25QaG9uZTtcbiAgICAgICAgcmV0dXJuIHZhbCA/IEhlbHBlcnMuUGVyc29uUGhvbmUuaHlkcmF0ZSh2YWwpIDogbnVsbDtcbiAgICAgIH0sXG4gICAgICBpbnNlcnQoZGF0YTogTW9kZWxzLklQYXJ0aWFsUGVyc29uUGhvbmUsIHNpbGVudD86IGJvb2xlYW4pOiBEaWZmLkNyZWF0ZURpZmY8RGlmZi5Nb2RlbFR5cGUuUEVSU09OX1BIT05FPiB8IG51bGwge1xuICAgICAgICBjb25zdCBhZnRlciA9IEhlbHBlcnMuUGVyc29uUGhvbmUuaHlkcmF0ZShkYXRhKTtcbiAgICAgICAgUGVyc29uUGhvbmVJbnNlcnQucnVuKEhlbHBlcnMuUGVyc29uUGhvbmUuc3FsKGFmdGVyKSk7XG4gICAgICAgIGNvbnN0IGRpZmYgPSBEaWZmLmRpZmZQZXJzb25QaG9uZShudWxsLCBhZnRlcik7XG4gICAgICAgICFzaWxlbnQgJiYgb25EaWZmKGRpZmYpO1xuICAgICAgICByZXR1cm4gZGlmZjtcbiAgICAgIH0sXG4gICAgICB1cHNlcnQoZGF0YTogTW9kZWxzLklQYXJ0aWFsUGVyc29uUGhvbmUsIHNpbGVudD86IGJvb2xlYW4pOiBEaWZmLkNyZWF0ZURpZmY8RGlmZi5Nb2RlbFR5cGUuUEVSU09OX1BIT05FPiB8IERpZmYuVXBkYXRlRGlmZjxEaWZmLk1vZGVsVHlwZS5QRVJTT05fUEhPTkU+IHwgbnVsbCB7XG4gICAgICAgIGNvbnN0IGFmdGVyID0gSGVscGVycy5QZXJzb25QaG9uZS5kZWh5ZHJhdGUoZGF0YSk7XG4gICAgICAgIGNvbnN0IGJlZm9yZSA9IFBlcnNvblBob25lR2V0QnlJZC5nZXQoYWZ0ZXIucGVyc29uSWQsIGFmdGVyLnBob25lSWQpIGFzIElQZXJzb25QaG9uZTtcbiAgICAgICAgY29uc3QgZGlmZiA9IERpZmYuZGlmZlBlcnNvblBob25lKGJlZm9yZSwgYWZ0ZXIpO1xuICAgICAgICBpZiAoIWRpZmYpIHsgcmV0dXJuIG51bGw7IH1cbiAgICAgICAgUGVyc29uUGhvbmVVcHNlcnQucnVuKEhlbHBlcnMuUGVyc29uUGhvbmUuc3FsKHsgLi4uSGVscGVycy5QZXJzb25QaG9uZS5oeWRyYXRlKGJlZm9yZSksIC4uLmFmdGVyIH0pKTtcbiAgICAgICAgIXNpbGVudCAmJiBvbkRpZmYoZGlmZik7XG4gICAgICAgIHJldHVybiBkaWZmO1xuICAgICAgfSxcbiAgICAgIGRlbGV0ZShwZXJzb25JZDogc3RyaW5nLCBwaG9uZUlkOiBzdHJpbmcsIHNpbGVudD86IGJvb2xlYW4pOiBEaWZmLkRlbGV0ZURpZmY8RGlmZi5Nb2RlbFR5cGUuUEVSU09OX1BIT05FPiB8IG51bGwge1xuICAgICAgICBjb25zdCBiZWZvcmUgPSBQZXJzb25QaG9uZUdldEJ5SWQuZ2V0KHBlcnNvbklkLCBwaG9uZUlkKSBhcyBJUGVyc29uUGhvbmU7XG4gICAgICAgIGlmICghYmVmb3JlKSB7IHJldHVybiBudWxsOyB9XG4gICAgICAgIFBlcnNvblBob25lRGVsZXRlLnJ1bihwZXJzb25JZCwgcGhvbmVJZCk7XG4gICAgICAgIGNvbnN0IGRpZmYgPSBEaWZmLmRpZmZQZXJzb25QaG9uZShiZWZvcmUsIG51bGwpXG4gICAgICAgICFzaWxlbnQgJiYgb25EaWZmKGRpZmYpO1xuICAgICAgICByZXR1cm4gZGlmZjtcbiAgICAgIH0sXG4gICAgICBhcHBseShkaWZmOiBEaWZmLkRpZmY8RGlmZi5Nb2RlbFR5cGUuUEVSU09OX1BIT05FPik6IERpZmYuRGlmZjxEaWZmLk1vZGVsVHlwZS5QRVJTT05fUEhPTkU+IHwgbnVsbCB7XG4gICAgICAgIHJldHVybiBkaWZmLmFmdGVyID8gdGhpcy51cHNlcnQoZGlmZi5hZnRlciwgdHJ1ZSkgOiB0aGlzLmRlbGV0ZShkaWZmLmJlZm9yZS5wZXJzb25JZCwgZGlmZi5iZWZvcmUucGhvbmVJZCwgdHJ1ZSlcbiAgICAgIH0sXG4gICAgICByb2xsYmFjayhkaWZmOiBEaWZmLkRpZmY8RGlmZi5Nb2RlbFR5cGUuUEVSU09OX1BIT05FPik6IERpZmYuRGlmZjxEaWZmLk1vZGVsVHlwZS5QRVJTT05fUEhPTkU+IHwgbnVsbCB7XG4gICAgICAgIHJldHVybiBkaWZmLmJlZm9yZSA/IHRoaXMudXBzZXJ0KGRpZmYuYmVmb3JlLCB0cnVlKSA6IHRoaXMuZGVsZXRlKGRpZmYuYWZ0ZXIucGVyc29uSWQsIGRpZmYuYWZ0ZXIucGhvbmVJZCwgdHJ1ZSlcbiAgICAgIH0sXG4gICAgfSxcbiAgICBBY2NvdW50OiB7XG4gICAgICBnZXRCeUlkKHBlcnNvbklkOiBzdHJpbmcsIGFjY291bnRUeXBlOiBzdHJpbmcsIGFjY291bnRJZDogc3RyaW5nKTogTW9kZWxzLklBY2NvdW50IHwgbnVsbCB7XG4gICAgICAgIGNvbnN0IHZhbCA9IEFjY291bnRHZXRCeUlkLmdldChwZXJzb25JZCwgYWNjb3VudFR5cGUsIGFjY291bnRJZCkgYXMgSUFjY291bnQ7XG4gICAgICAgIHJldHVybiB2YWwgPyBIZWxwZXJzLkFjY291bnQuaHlkcmF0ZSh2YWwpIDogbnVsbDtcbiAgICAgIH0sXG4gICAgICBpbnNlcnQoZGF0YTogTW9kZWxzLklQYXJ0aWFsQWNjb3VudCwgc2lsZW50PzogYm9vbGVhbik6IERpZmYuQ3JlYXRlRGlmZjxEaWZmLk1vZGVsVHlwZS5BQ0NPVU5UPiB8IG51bGwge1xuICAgICAgICBjb25zdCBhZnRlciA9IEhlbHBlcnMuQWNjb3VudC5oeWRyYXRlKGRhdGEpO1xuICAgICAgICBBY2NvdW50SW5zZXJ0LnJ1bihIZWxwZXJzLkFjY291bnQuc3FsKGFmdGVyKSk7XG4gICAgICAgIGNvbnN0IGRpZmYgPSBEaWZmLmRpZmZBY2NvdW50KG51bGwsIGFmdGVyKTtcbiAgICAgICAgIXNpbGVudCAmJiBvbkRpZmYoZGlmZik7XG4gICAgICAgIHJldHVybiBkaWZmO1xuICAgICAgfSxcbiAgICAgIHVwc2VydChkYXRhOiBNb2RlbHMuSVBhcnRpYWxBY2NvdW50LCBzaWxlbnQ/OiBib29sZWFuKTogRGlmZi5DcmVhdGVEaWZmPERpZmYuTW9kZWxUeXBlLkFDQ09VTlQ+IHwgRGlmZi5VcGRhdGVEaWZmPERpZmYuTW9kZWxUeXBlLkFDQ09VTlQ+IHwgbnVsbCB7XG4gICAgICAgIGNvbnN0IGFmdGVyID0gSGVscGVycy5BY2NvdW50LmRlaHlkcmF0ZShkYXRhKTtcbiAgICAgICAgY29uc3QgYmVmb3JlID0gQWNjb3VudEdldEJ5SWQuZ2V0KGFmdGVyLnBlcnNvbklkLCBhZnRlci5hY2NvdW50VHlwZSwgYWZ0ZXIuYWNjb3VudElkKSBhcyBJQWNjb3VudDtcbiAgICAgICAgY29uc3QgZGlmZiA9IERpZmYuZGlmZkFjY291bnQoYmVmb3JlLCBhZnRlcik7XG4gICAgICAgIGlmICghZGlmZikgeyByZXR1cm4gbnVsbDsgfVxuICAgICAgICBBY2NvdW50VXBzZXJ0LnJ1bihIZWxwZXJzLkFjY291bnQuc3FsKHsgLi4uSGVscGVycy5BY2NvdW50Lmh5ZHJhdGUoYmVmb3JlKSwgLi4uYWZ0ZXIgfSkpO1xuICAgICAgICAhc2lsZW50ICYmIG9uRGlmZihkaWZmKTtcbiAgICAgICAgcmV0dXJuIGRpZmY7XG4gICAgICB9LFxuICAgICAgZGVsZXRlKHBlcnNvbklkOiBzdHJpbmcsIGFjY291bnRUeXBlOiBlbnVtcy5BY2NvdW50VHlwZSwgYWNjb3VudElkOiBzdHJpbmcsIHNpbGVudD86IGJvb2xlYW4pOiBEaWZmLkRlbGV0ZURpZmY8RGlmZi5Nb2RlbFR5cGUuQUNDT1VOVD4gfCBudWxsIHtcbiAgICAgICAgY29uc3QgYmVmb3JlID0gQWNjb3VudEdldEJ5SWQuZ2V0KHBlcnNvbklkLCBhY2NvdW50VHlwZSwgYWNjb3VudElkKSBhcyBJQWNjb3VudDtcbiAgICAgICAgaWYgKCFiZWZvcmUpIHsgcmV0dXJuIG51bGw7IH1cbiAgICAgICAgQWNjb3VudERlbGV0ZS5ydW4ocGVyc29uSWQsIGFjY291bnRUeXBlLCBhY2NvdW50SWQpO1xuICAgICAgICBjb25zdCBkaWZmID0gRGlmZi5kaWZmQWNjb3VudChiZWZvcmUsIG51bGwpXG4gICAgICAgICFzaWxlbnQgJiYgb25EaWZmKGRpZmYpO1xuICAgICAgICByZXR1cm4gZGlmZjtcbiAgICAgIH0sXG4gICAgICBhcHBseShkaWZmOiBEaWZmLkRpZmY8RGlmZi5Nb2RlbFR5cGUuQUNDT1VOVD4pOiBEaWZmLkRpZmY8RGlmZi5Nb2RlbFR5cGUuQUNDT1VOVD4gfCBudWxsIHtcbiAgICAgICAgcmV0dXJuIGRpZmYuYWZ0ZXIgPyB0aGlzLnVwc2VydChkaWZmLmFmdGVyLCB0cnVlKSA6IHRoaXMuZGVsZXRlKGRpZmYuYmVmb3JlLnBlcnNvbklkLCBkaWZmLmJlZm9yZS5hY2NvdW50VHlwZSwgZGlmZi5iZWZvcmUuYWNjb3VudElkLCB0cnVlKVxuICAgICAgfSxcbiAgICAgIHJvbGxiYWNrKGRpZmY6IERpZmYuRGlmZjxEaWZmLk1vZGVsVHlwZS5BQ0NPVU5UPik6IERpZmYuRGlmZjxEaWZmLk1vZGVsVHlwZS5BQ0NPVU5UPiB8IG51bGwge1xuICAgICAgICByZXR1cm4gZGlmZi5iZWZvcmUgPyB0aGlzLnVwc2VydChkaWZmLmJlZm9yZSwgdHJ1ZSkgOiB0aGlzLmRlbGV0ZShkaWZmLmFmdGVyLnBlcnNvbklkLCBkaWZmLmFmdGVyLmFjY291bnRUeXBlLCBkaWZmLmFmdGVyLmFjY291bnRJZCwgdHJ1ZSlcbiAgICAgIH0sXG4gICAgfSxcbiAgICBFeHBlcmllbmNlOiB7XG4gICAgICBnZXRCeUlkKHBlcnNvbklkOiBzdHJpbmcsIHR5cGU6IHN0cmluZywgZW1wbG95ZXI6IHN0cmluZywgcm9sZTogc3RyaW5nKTogTW9kZWxzLklFeHBlcmllbmNlIHwgbnVsbCB7XG4gICAgICAgIGNvbnN0IHZhbCA9IEV4cGVyaWVuY2VHZXRCeUlkLmdldChwZXJzb25JZCwgdHlwZSwgZW1wbG95ZXIsIHJvbGUpIGFzIElFeHBlcmllbmNlO1xuICAgICAgICByZXR1cm4gdmFsID8gSGVscGVycy5FeHBlcmllbmNlLmh5ZHJhdGUodmFsKSA6IG51bGw7XG4gICAgICB9LFxuICAgICAgaW5zZXJ0KGRhdGE6IE1vZGVscy5JUGFydGlhbEV4cGVyaWVuY2UsIHNpbGVudD86IGJvb2xlYW4pOiBEaWZmLkNyZWF0ZURpZmY8RGlmZi5Nb2RlbFR5cGUuRVhQRVJJRU5DRT4gfCBudWxsIHtcbiAgICAgICAgY29uc3QgYWZ0ZXIgPSBIZWxwZXJzLkV4cGVyaWVuY2UuaHlkcmF0ZShkYXRhKTtcbiAgICAgICAgRXhwZXJpZW5jZUluc2VydC5ydW4oSGVscGVycy5FeHBlcmllbmNlLnNxbChhZnRlcikpO1xuICAgICAgICBjb25zdCBkaWZmID0gRGlmZi5kaWZmRXhwZXJpZW5jZShudWxsLCBhZnRlcik7XG4gICAgICAgICFzaWxlbnQgJiYgb25EaWZmKGRpZmYpO1xuICAgICAgICByZXR1cm4gZGlmZjtcbiAgICAgIH0sXG4gICAgICB1cHNlcnQoZGF0YTogTW9kZWxzLklQYXJ0aWFsRXhwZXJpZW5jZSwgc2lsZW50PzogYm9vbGVhbik6IERpZmYuQ3JlYXRlRGlmZjxEaWZmLk1vZGVsVHlwZS5FWFBFUklFTkNFPiB8IERpZmYuVXBkYXRlRGlmZjxEaWZmLk1vZGVsVHlwZS5FWFBFUklFTkNFPiB8IG51bGwge1xuICAgICAgICBjb25zdCBhZnRlciA9IEhlbHBlcnMuRXhwZXJpZW5jZS5kZWh5ZHJhdGUoZGF0YSk7XG4gICAgICAgIGNvbnN0IGJlZm9yZSA9IEV4cGVyaWVuY2VHZXRCeUlkLmdldChhZnRlci5wZXJzb25JZCwgYWZ0ZXIudHlwZSwgYWZ0ZXIuZW1wbG95ZXIsIGFmdGVyLnJvbGUpIGFzIElFeHBlcmllbmNlO1xuICAgICAgICBjb25zdCBkaWZmID0gRGlmZi5kaWZmRXhwZXJpZW5jZShiZWZvcmUsIGFmdGVyKTtcbiAgICAgICAgaWYgKCFkaWZmKSB7IHJldHVybiBudWxsOyB9XG4gICAgICAgIEV4cGVyaWVuY2VVcHNlcnQucnVuKEhlbHBlcnMuRXhwZXJpZW5jZS5zcWwoeyAuLi5IZWxwZXJzLkV4cGVyaWVuY2UuaHlkcmF0ZShiZWZvcmUpLCAuLi5hZnRlciB9KSk7XG4gICAgICAgICFzaWxlbnQgJiYgb25EaWZmKGRpZmYpO1xuICAgICAgICByZXR1cm4gZGlmZjtcbiAgICAgIH0sXG4gICAgICBkZWxldGUocGVyc29uSWQ6IHN0cmluZywgdHlwZTogZW51bXMuRXhwZXJpZW5jZVR5cGUsIGVtcGxveWVyOiBzdHJpbmcsIHJvbGU6IHN0cmluZywgc2lsZW50PzogYm9vbGVhbik6IERpZmYuRGVsZXRlRGlmZjxEaWZmLk1vZGVsVHlwZS5FWFBFUklFTkNFPiB8IG51bGwge1xuICAgICAgICBjb25zdCBiZWZvcmUgPSBFeHBlcmllbmNlR2V0QnlJZC5nZXQocGVyc29uSWQsIHR5cGUsIGVtcGxveWVyLCByb2xlKSBhcyBJRXhwZXJpZW5jZTtcbiAgICAgICAgaWYgKCFiZWZvcmUpIHsgcmV0dXJuIG51bGw7IH1cbiAgICAgICAgRXhwZXJpZW5jZURlbGV0ZS5ydW4ocGVyc29uSWQsIHR5cGUsIGVtcGxveWVyLCByb2xlKTtcbiAgICAgICAgY29uc3QgZGlmZiA9IERpZmYuZGlmZkV4cGVyaWVuY2UoYmVmb3JlLCBudWxsKVxuICAgICAgICAhc2lsZW50ICYmIG9uRGlmZihkaWZmKTtcbiAgICAgICAgcmV0dXJuIGRpZmY7XG4gICAgICB9LFxuICAgICAgYXBwbHkoZGlmZjogRGlmZi5EaWZmPERpZmYuTW9kZWxUeXBlLkVYUEVSSUVOQ0U+KTogRGlmZi5EaWZmPERpZmYuTW9kZWxUeXBlLkVYUEVSSUVOQ0U+IHwgbnVsbCB7XG4gICAgICAgIHJldHVybiBkaWZmLmFmdGVyID8gdGhpcy51cHNlcnQoZGlmZi5hZnRlciwgdHJ1ZSkgOiB0aGlzLmRlbGV0ZShkaWZmLmJlZm9yZS5wZXJzb25JZCwgZGlmZi5iZWZvcmUudHlwZSwgZGlmZi5iZWZvcmUuZW1wbG95ZXIsIGRpZmYuYmVmb3JlLnJvbGUsIHRydWUpXG4gICAgICB9LFxuICAgICAgcm9sbGJhY2soZGlmZjogRGlmZi5EaWZmPERpZmYuTW9kZWxUeXBlLkVYUEVSSUVOQ0U+KTogRGlmZi5EaWZmPERpZmYuTW9kZWxUeXBlLkVYUEVSSUVOQ0U+IHwgbnVsbCB7XG4gICAgICAgIHJldHVybiBkaWZmLmJlZm9yZSA/IHRoaXMudXBzZXJ0KGRpZmYuYmVmb3JlLCB0cnVlKSA6IHRoaXMuZGVsZXRlKGRpZmYuYWZ0ZXIucGVyc29uSWQsIGRpZmYuYWZ0ZXIudHlwZSwgZGlmZi5hZnRlci5lbXBsb3llciwgZGlmZi5hZnRlci5yb2xlLCB0cnVlKVxuICAgICAgfSxcbiAgICB9LFxuICAgIENhbXBhaWduOiB7XG4gICAgICBnZXRCeUlkKGlkOiBzdHJpbmcpOiBNb2RlbHMuSUNhbXBhaWduIHwgbnVsbCB7XG4gICAgICAgIGNvbnN0IHZhbCA9IENhbXBhaWduR2V0QnlJZC5nZXQoaWQpIGFzIElDYW1wYWlnbjtcbiAgICAgICAgcmV0dXJuIHZhbCA/IEhlbHBlcnMuQ2FtcGFpZ24uaHlkcmF0ZSh2YWwpIDogbnVsbDtcbiAgICAgIH0sXG4gICAgICBpbnNlcnQoZGF0YTogTW9kZWxzLklQYXJ0aWFsQ2FtcGFpZ24sIHNpbGVudD86IGJvb2xlYW4pOiBEaWZmLkNyZWF0ZURpZmY8RGlmZi5Nb2RlbFR5cGUuQ0FNUEFJR04+IHwgbnVsbCB7XG4gICAgICAgIGNvbnN0IGFmdGVyID0gSGVscGVycy5DYW1wYWlnbi5oeWRyYXRlKGRhdGEpO1xuICAgICAgICBDYW1wYWlnbkluc2VydC5ydW4oSGVscGVycy5DYW1wYWlnbi5zcWwoYWZ0ZXIpKTtcbiAgICAgICAgY29uc3QgZGlmZiA9IERpZmYuZGlmZkNhbXBhaWduKG51bGwsIGFmdGVyKTtcbiAgICAgICAgIXNpbGVudCAmJiBvbkRpZmYoZGlmZik7XG4gICAgICAgIHJldHVybiBkaWZmO1xuICAgICAgfSxcbiAgICAgIHVwc2VydChkYXRhOiBNb2RlbHMuSVBhcnRpYWxDYW1wYWlnbiwgc2lsZW50PzogYm9vbGVhbik6IERpZmYuQ3JlYXRlRGlmZjxEaWZmLk1vZGVsVHlwZS5DQU1QQUlHTj4gfCBEaWZmLlVwZGF0ZURpZmY8RGlmZi5Nb2RlbFR5cGUuQ0FNUEFJR04+IHwgbnVsbCB7XG4gICAgICAgIGNvbnN0IGFmdGVyID0gSGVscGVycy5DYW1wYWlnbi5kZWh5ZHJhdGUoZGF0YSk7XG4gICAgICAgIGNvbnN0IGJlZm9yZSA9IENhbXBhaWduR2V0QnlJZC5nZXQoYWZ0ZXIuaWQpIGFzIElDYW1wYWlnbjtcbiAgICAgICAgY29uc3QgZGlmZiA9IERpZmYuZGlmZkNhbXBhaWduKGJlZm9yZSwgYWZ0ZXIpO1xuICAgICAgICBpZiAoIWRpZmYpIHsgcmV0dXJuIG51bGw7IH1cbiAgICAgICAgQ2FtcGFpZ25VcHNlcnQucnVuKEhlbHBlcnMuQ2FtcGFpZ24uc3FsKHsgLi4uSGVscGVycy5DYW1wYWlnbi5oeWRyYXRlKGJlZm9yZSksIC4uLmFmdGVyIH0pKTtcbiAgICAgICAgIXNpbGVudCAmJiBvbkRpZmYoZGlmZik7XG4gICAgICAgIHJldHVybiBkaWZmO1xuICAgICAgfSxcbiAgICAgIGRlbGV0ZShpZDogc3RyaW5nLCBzaWxlbnQ/OiBib29sZWFuKTogRGlmZi5EZWxldGVEaWZmPERpZmYuTW9kZWxUeXBlLkNBTVBBSUdOPiB8IG51bGwge1xuICAgICAgICBjb25zdCBiZWZvcmUgPSBDYW1wYWlnbkdldEJ5SWQuZ2V0KGlkKSBhcyBJQ2FtcGFpZ247XG4gICAgICAgIGlmICghYmVmb3JlKSB7IHJldHVybiBudWxsOyB9XG4gICAgICAgIENhbXBhaWduRGVsZXRlLnJ1bihpZCk7XG4gICAgICAgIGNvbnN0IGRpZmYgPSBEaWZmLmRpZmZDYW1wYWlnbihiZWZvcmUsIG51bGwpXG4gICAgICAgICFzaWxlbnQgJiYgb25EaWZmKGRpZmYpO1xuICAgICAgICByZXR1cm4gZGlmZjtcbiAgICAgIH0sXG4gICAgICBhcHBseShkaWZmOiBEaWZmLkRpZmY8RGlmZi5Nb2RlbFR5cGUuQ0FNUEFJR04+KTogRGlmZi5EaWZmPERpZmYuTW9kZWxUeXBlLkNBTVBBSUdOPiB8IG51bGwge1xuICAgICAgICByZXR1cm4gZGlmZi5hZnRlciA/IHRoaXMudXBzZXJ0KGRpZmYuYWZ0ZXIsIHRydWUpIDogdGhpcy5kZWxldGUoZGlmZi5iZWZvcmUuaWQsIHRydWUpXG4gICAgICB9LFxuICAgICAgcm9sbGJhY2soZGlmZjogRGlmZi5EaWZmPERpZmYuTW9kZWxUeXBlLkNBTVBBSUdOPik6IERpZmYuRGlmZjxEaWZmLk1vZGVsVHlwZS5DQU1QQUlHTj4gfCBudWxsIHtcbiAgICAgICAgcmV0dXJuIGRpZmYuYmVmb3JlID8gdGhpcy51cHNlcnQoZGlmZi5iZWZvcmUsIHRydWUpIDogdGhpcy5kZWxldGUoZGlmZi5hZnRlci5pZCwgdHJ1ZSlcbiAgICAgIH0sXG4gICAgfSxcbiAgICBDb250ZXN0OiB7XG4gICAgICBnZXRCeUlkKGlkOiBzdHJpbmcpOiBNb2RlbHMuSUNvbnRlc3QgfCBudWxsIHtcbiAgICAgICAgY29uc3QgdmFsID0gQ29udGVzdEdldEJ5SWQuZ2V0KGlkKSBhcyBJQ29udGVzdDtcbiAgICAgICAgcmV0dXJuIHZhbCA/IEhlbHBlcnMuQ29udGVzdC5oeWRyYXRlKHZhbCkgOiBudWxsO1xuICAgICAgfSxcbiAgICAgIGluc2VydChkYXRhOiBNb2RlbHMuSVBhcnRpYWxDb250ZXN0LCBzaWxlbnQ/OiBib29sZWFuKTogRGlmZi5DcmVhdGVEaWZmPERpZmYuTW9kZWxUeXBlLkNPTlRFU1Q+IHwgbnVsbCB7XG4gICAgICAgIGNvbnN0IGFmdGVyID0gSGVscGVycy5Db250ZXN0Lmh5ZHJhdGUoZGF0YSk7XG4gICAgICAgIENvbnRlc3RJbnNlcnQucnVuKEhlbHBlcnMuQ29udGVzdC5zcWwoYWZ0ZXIpKTtcbiAgICAgICAgY29uc3QgZGlmZiA9IERpZmYuZGlmZkNvbnRlc3QobnVsbCwgYWZ0ZXIpO1xuICAgICAgICAhc2lsZW50ICYmIG9uRGlmZihkaWZmKTtcbiAgICAgICAgcmV0dXJuIGRpZmY7XG4gICAgICB9LFxuICAgICAgdXBzZXJ0KGRhdGE6IE1vZGVscy5JUGFydGlhbENvbnRlc3QsIHNpbGVudD86IGJvb2xlYW4pOiBEaWZmLkNyZWF0ZURpZmY8RGlmZi5Nb2RlbFR5cGUuQ09OVEVTVD4gfCBEaWZmLlVwZGF0ZURpZmY8RGlmZi5Nb2RlbFR5cGUuQ09OVEVTVD4gfCBudWxsIHtcbiAgICAgICAgY29uc3QgYWZ0ZXIgPSBIZWxwZXJzLkNvbnRlc3QuZGVoeWRyYXRlKGRhdGEpO1xuICAgICAgICBjb25zdCBiZWZvcmUgPSBDb250ZXN0R2V0QnlJZC5nZXQoYWZ0ZXIuaWQpIGFzIElDb250ZXN0O1xuICAgICAgICBjb25zdCBkaWZmID0gRGlmZi5kaWZmQ29udGVzdChiZWZvcmUsIGFmdGVyKTtcbiAgICAgICAgaWYgKCFkaWZmKSB7IHJldHVybiBudWxsOyB9XG4gICAgICAgIENvbnRlc3RVcHNlcnQucnVuKEhlbHBlcnMuQ29udGVzdC5zcWwoeyAuLi5IZWxwZXJzLkNvbnRlc3QuaHlkcmF0ZShiZWZvcmUpLCAuLi5hZnRlciB9KSk7XG4gICAgICAgICFzaWxlbnQgJiYgb25EaWZmKGRpZmYpO1xuICAgICAgICByZXR1cm4gZGlmZjtcbiAgICAgIH0sXG4gICAgICBkZWxldGUoaWQ6IHN0cmluZywgc2lsZW50PzogYm9vbGVhbik6IERpZmYuRGVsZXRlRGlmZjxEaWZmLk1vZGVsVHlwZS5DT05URVNUPiB8IG51bGwge1xuICAgICAgICBjb25zdCBiZWZvcmUgPSBDb250ZXN0R2V0QnlJZC5nZXQoaWQpIGFzIElDb250ZXN0O1xuICAgICAgICBpZiAoIWJlZm9yZSkgeyByZXR1cm4gbnVsbDsgfVxuICAgICAgICBDb250ZXN0RGVsZXRlLnJ1bihpZCk7XG4gICAgICAgIGNvbnN0IGRpZmYgPSBEaWZmLmRpZmZDb250ZXN0KGJlZm9yZSwgbnVsbClcbiAgICAgICAgIXNpbGVudCAmJiBvbkRpZmYoZGlmZik7XG4gICAgICAgIHJldHVybiBkaWZmO1xuICAgICAgfSxcbiAgICAgIGFwcGx5KGRpZmY6IERpZmYuRGlmZjxEaWZmLk1vZGVsVHlwZS5DT05URVNUPik6IERpZmYuRGlmZjxEaWZmLk1vZGVsVHlwZS5DT05URVNUPiB8IG51bGwge1xuICAgICAgICByZXR1cm4gZGlmZi5hZnRlciA/IHRoaXMudXBzZXJ0KGRpZmYuYWZ0ZXIsIHRydWUpIDogdGhpcy5kZWxldGUoZGlmZi5iZWZvcmUuaWQsIHRydWUpXG4gICAgICB9LFxuICAgICAgcm9sbGJhY2soZGlmZjogRGlmZi5EaWZmPERpZmYuTW9kZWxUeXBlLkNPTlRFU1Q+KTogRGlmZi5EaWZmPERpZmYuTW9kZWxUeXBlLkNPTlRFU1Q+IHwgbnVsbCB7XG4gICAgICAgIHJldHVybiBkaWZmLmJlZm9yZSA/IHRoaXMudXBzZXJ0KGRpZmYuYmVmb3JlLCB0cnVlKSA6IHRoaXMuZGVsZXRlKGRpZmYuYWZ0ZXIuaWQsIHRydWUpXG4gICAgICB9LFxuICAgIH0sXG4gICAgRWxlY3Rpb246IHtcbiAgICAgIGdldEJ5SWQoaWQ6IHN0cmluZyk6IE1vZGVscy5JRWxlY3Rpb24gfCBudWxsIHtcbiAgICAgICAgY29uc3QgdmFsID0gRWxlY3Rpb25HZXRCeUlkLmdldChpZCkgYXMgSUVsZWN0aW9uO1xuICAgICAgICByZXR1cm4gdmFsID8gSGVscGVycy5FbGVjdGlvbi5oeWRyYXRlKHZhbCkgOiBudWxsO1xuICAgICAgfSxcbiAgICAgIGluc2VydChkYXRhOiBNb2RlbHMuSVBhcnRpYWxFbGVjdGlvbiwgc2lsZW50PzogYm9vbGVhbik6IERpZmYuQ3JlYXRlRGlmZjxEaWZmLk1vZGVsVHlwZS5FTEVDVElPTj4gfCBudWxsIHtcbiAgICAgICAgY29uc3QgYWZ0ZXIgPSBIZWxwZXJzLkVsZWN0aW9uLmh5ZHJhdGUoZGF0YSk7XG4gICAgICAgIEVsZWN0aW9uSW5zZXJ0LnJ1bihIZWxwZXJzLkVsZWN0aW9uLnNxbChhZnRlcikpO1xuICAgICAgICBjb25zdCBkaWZmID0gRGlmZi5kaWZmRWxlY3Rpb24obnVsbCwgYWZ0ZXIpO1xuICAgICAgICAhc2lsZW50ICYmIG9uRGlmZihkaWZmKTtcbiAgICAgICAgcmV0dXJuIGRpZmY7XG4gICAgICB9LFxuICAgICAgdXBzZXJ0KGRhdGE6IE1vZGVscy5JUGFydGlhbEVsZWN0aW9uLCBzaWxlbnQ/OiBib29sZWFuKTogRGlmZi5DcmVhdGVEaWZmPERpZmYuTW9kZWxUeXBlLkVMRUNUSU9OPiB8IERpZmYuVXBkYXRlRGlmZjxEaWZmLk1vZGVsVHlwZS5FTEVDVElPTj4gfCBudWxsIHtcbiAgICAgICAgY29uc3QgYWZ0ZXIgPSBIZWxwZXJzLkVsZWN0aW9uLmRlaHlkcmF0ZShkYXRhKTtcbiAgICAgICAgY29uc3QgYmVmb3JlID0gRWxlY3Rpb25HZXRCeUlkLmdldChhZnRlci5pZCkgYXMgSUVsZWN0aW9uO1xuICAgICAgICBjb25zdCBkaWZmID0gRGlmZi5kaWZmRWxlY3Rpb24oYmVmb3JlLCBhZnRlcik7XG4gICAgICAgIGlmICghZGlmZikgeyByZXR1cm4gbnVsbDsgfVxuICAgICAgICBFbGVjdGlvblVwc2VydC5ydW4oSGVscGVycy5FbGVjdGlvbi5zcWwoeyAuLi5IZWxwZXJzLkVsZWN0aW9uLmh5ZHJhdGUoYmVmb3JlKSwgLi4uYWZ0ZXIgfSkpO1xuICAgICAgICAhc2lsZW50ICYmIG9uRGlmZihkaWZmKTtcbiAgICAgICAgcmV0dXJuIGRpZmY7XG4gICAgICB9LFxuICAgICAgZGVsZXRlKGlkOiBzdHJpbmcsIHNpbGVudD86IGJvb2xlYW4pOiBEaWZmLkRlbGV0ZURpZmY8RGlmZi5Nb2RlbFR5cGUuRUxFQ1RJT04+IHwgbnVsbCB7XG4gICAgICAgIGNvbnN0IGJlZm9yZSA9IEVsZWN0aW9uR2V0QnlJZC5nZXQoaWQpIGFzIElFbGVjdGlvbjtcbiAgICAgICAgaWYgKCFiZWZvcmUpIHsgcmV0dXJuIG51bGw7IH1cbiAgICAgICAgRWxlY3Rpb25EZWxldGUucnVuKGlkKTtcbiAgICAgICAgY29uc3QgZGlmZiA9IERpZmYuZGlmZkVsZWN0aW9uKGJlZm9yZSwgbnVsbClcbiAgICAgICAgIXNpbGVudCAmJiBvbkRpZmYoZGlmZik7XG4gICAgICAgIHJldHVybiBkaWZmO1xuICAgICAgfSxcbiAgICAgIGFwcGx5KGRpZmY6IERpZmYuRGlmZjxEaWZmLk1vZGVsVHlwZS5FTEVDVElPTj4pOiBEaWZmLkRpZmY8RGlmZi5Nb2RlbFR5cGUuRUxFQ1RJT04+IHwgbnVsbCB7XG4gICAgICAgIHJldHVybiBkaWZmLmFmdGVyID8gdGhpcy51cHNlcnQoZGlmZi5hZnRlciwgdHJ1ZSkgOiB0aGlzLmRlbGV0ZShkaWZmLmJlZm9yZS5pZCwgdHJ1ZSlcbiAgICAgIH0sXG4gICAgICByb2xsYmFjayhkaWZmOiBEaWZmLkRpZmY8RGlmZi5Nb2RlbFR5cGUuRUxFQ1RJT04+KTogRGlmZi5EaWZmPERpZmYuTW9kZWxUeXBlLkVMRUNUSU9OPiB8IG51bGwge1xuICAgICAgICByZXR1cm4gZGlmZi5iZWZvcmUgPyB0aGlzLnVwc2VydChkaWZmLmJlZm9yZSwgdHJ1ZSkgOiB0aGlzLmRlbGV0ZShkaWZmLmFmdGVyLmlkLCB0cnVlKVxuICAgICAgfSxcbiAgICB9LFxuICAgIFZvdGU6IHtcbiAgICAgIGdldEJ5SWQocGVyc29uSWQ6IHN0cmluZywgZWxlY3Rpb25JZDogc3RyaW5nKTogTW9kZWxzLklWb3RlIHwgbnVsbCB7XG4gICAgICAgIGNvbnN0IHZhbCA9IFZvdGVHZXRCeUlkLmdldChwZXJzb25JZCwgZWxlY3Rpb25JZCkgYXMgSVZvdGU7XG4gICAgICAgIHJldHVybiB2YWwgPyBIZWxwZXJzLlZvdGUuaHlkcmF0ZSh2YWwpIDogbnVsbDtcbiAgICAgIH0sXG4gICAgICBpbnNlcnQoZGF0YTogTW9kZWxzLklQYXJ0aWFsVm90ZSwgc2lsZW50PzogYm9vbGVhbik6IERpZmYuQ3JlYXRlRGlmZjxEaWZmLk1vZGVsVHlwZS5WT1RFPiB8IG51bGwge1xuICAgICAgICBjb25zdCBhZnRlciA9IEhlbHBlcnMuVm90ZS5oeWRyYXRlKGRhdGEpO1xuICAgICAgICBWb3RlSW5zZXJ0LnJ1bihIZWxwZXJzLlZvdGUuc3FsKGFmdGVyKSk7XG4gICAgICAgIGNvbnN0IGRpZmYgPSBEaWZmLmRpZmZWb3RlKG51bGwsIGFmdGVyKTtcbiAgICAgICAgIXNpbGVudCAmJiBvbkRpZmYoZGlmZik7XG4gICAgICAgIHJldHVybiBkaWZmO1xuICAgICAgfSxcbiAgICAgIHVwc2VydChkYXRhOiBNb2RlbHMuSVBhcnRpYWxWb3RlLCBzaWxlbnQ/OiBib29sZWFuKTogRGlmZi5DcmVhdGVEaWZmPERpZmYuTW9kZWxUeXBlLlZPVEU+IHwgRGlmZi5VcGRhdGVEaWZmPERpZmYuTW9kZWxUeXBlLlZPVEU+IHwgbnVsbCB7XG4gICAgICAgIGNvbnN0IGFmdGVyID0gSGVscGVycy5Wb3RlLmRlaHlkcmF0ZShkYXRhKTtcbiAgICAgICAgY29uc3QgYmVmb3JlID0gVm90ZUdldEJ5SWQuZ2V0KGFmdGVyLnBlcnNvbklkLCBhZnRlci5lbGVjdGlvbklkKSBhcyBJVm90ZTtcbiAgICAgICAgY29uc3QgZGlmZiA9IERpZmYuZGlmZlZvdGUoYmVmb3JlLCBhZnRlcik7XG4gICAgICAgIGlmICghZGlmZikgeyByZXR1cm4gbnVsbDsgfVxuICAgICAgICBWb3RlVXBzZXJ0LnJ1bihIZWxwZXJzLlZvdGUuc3FsKHsgLi4uSGVscGVycy5Wb3RlLmh5ZHJhdGUoYmVmb3JlKSwgLi4uYWZ0ZXIgfSkpO1xuICAgICAgICAhc2lsZW50ICYmIG9uRGlmZihkaWZmKTtcbiAgICAgICAgcmV0dXJuIGRpZmY7XG4gICAgICB9LFxuICAgICAgZGVsZXRlKHBlcnNvbklkOiBzdHJpbmcsIGVsZWN0aW9uSWQ6IHN0cmluZywgc2lsZW50PzogYm9vbGVhbik6IERpZmYuRGVsZXRlRGlmZjxEaWZmLk1vZGVsVHlwZS5WT1RFPiB8IG51bGwge1xuICAgICAgICBjb25zdCBiZWZvcmUgPSBWb3RlR2V0QnlJZC5nZXQocGVyc29uSWQsIGVsZWN0aW9uSWQpIGFzIElWb3RlO1xuICAgICAgICBpZiAoIWJlZm9yZSkgeyByZXR1cm4gbnVsbDsgfVxuICAgICAgICBWb3RlRGVsZXRlLnJ1bihwZXJzb25JZCwgZWxlY3Rpb25JZCk7XG4gICAgICAgIGNvbnN0IGRpZmYgPSBEaWZmLmRpZmZWb3RlKGJlZm9yZSwgbnVsbClcbiAgICAgICAgIXNpbGVudCAmJiBvbkRpZmYoZGlmZik7XG4gICAgICAgIHJldHVybiBkaWZmO1xuICAgICAgfSxcbiAgICAgIGFwcGx5KGRpZmY6IERpZmYuRGlmZjxEaWZmLk1vZGVsVHlwZS5WT1RFPik6IERpZmYuRGlmZjxEaWZmLk1vZGVsVHlwZS5WT1RFPiB8IG51bGwge1xuICAgICAgICByZXR1cm4gZGlmZi5hZnRlciA/IHRoaXMudXBzZXJ0KGRpZmYuYWZ0ZXIsIHRydWUpIDogdGhpcy5kZWxldGUoZGlmZi5iZWZvcmUucGVyc29uSWQsIGRpZmYuYmVmb3JlLmVsZWN0aW9uSWQsIHRydWUpXG4gICAgICB9LFxuICAgICAgcm9sbGJhY2soZGlmZjogRGlmZi5EaWZmPERpZmYuTW9kZWxUeXBlLlZPVEU+KTogRGlmZi5EaWZmPERpZmYuTW9kZWxUeXBlLlZPVEU+IHwgbnVsbCB7XG4gICAgICAgIHJldHVybiBkaWZmLmJlZm9yZSA/IHRoaXMudXBzZXJ0KGRpZmYuYmVmb3JlLCB0cnVlKSA6IHRoaXMuZGVsZXRlKGRpZmYuYWZ0ZXIucGVyc29uSWQsIGRpZmYuYWZ0ZXIuZWxlY3Rpb25JZCwgdHJ1ZSlcbiAgICAgIH0sXG4gICAgfSxcbiAgICBSZXR1cm5zOiB7XG4gICAgICBnZXRCeUlkKGNvbnRlc3RJZDogc3RyaW5nLCB0dXJmSWQ6IHN0cmluZywgcGFydHk6IHN0cmluZywgcmFuazogc3RyaW5nKTogTW9kZWxzLklSZXR1cm5zIHwgbnVsbCB7XG4gICAgICAgIGNvbnN0IHZhbCA9IFJldHVybnNHZXRCeUlkLmdldChjb250ZXN0SWQsIHR1cmZJZCwgcGFydHksIHJhbmspIGFzIElSZXR1cm5zO1xuICAgICAgICByZXR1cm4gdmFsID8gSGVscGVycy5SZXR1cm5zLmh5ZHJhdGUodmFsKSA6IG51bGw7XG4gICAgICB9LFxuICAgICAgaW5zZXJ0KGRhdGE6IE1vZGVscy5JUGFydGlhbFJldHVybnMsIHNpbGVudD86IGJvb2xlYW4pOiBEaWZmLkNyZWF0ZURpZmY8RGlmZi5Nb2RlbFR5cGUuUkVUVVJOUz4gfCBudWxsIHtcbiAgICAgICAgY29uc3QgYWZ0ZXIgPSBIZWxwZXJzLlJldHVybnMuaHlkcmF0ZShkYXRhKTtcbiAgICAgICAgUmV0dXJuc0luc2VydC5ydW4oSGVscGVycy5SZXR1cm5zLnNxbChhZnRlcikpO1xuICAgICAgICBjb25zdCBkaWZmID0gRGlmZi5kaWZmUmV0dXJucyhudWxsLCBhZnRlcik7XG4gICAgICAgICFzaWxlbnQgJiYgb25EaWZmKGRpZmYpO1xuICAgICAgICByZXR1cm4gZGlmZjtcbiAgICAgIH0sXG4gICAgICB1cHNlcnQoZGF0YTogTW9kZWxzLklQYXJ0aWFsUmV0dXJucywgc2lsZW50PzogYm9vbGVhbik6IERpZmYuQ3JlYXRlRGlmZjxEaWZmLk1vZGVsVHlwZS5SRVRVUk5TPiB8IERpZmYuVXBkYXRlRGlmZjxEaWZmLk1vZGVsVHlwZS5SRVRVUk5TPiB8IG51bGwge1xuICAgICAgICBjb25zdCBhZnRlciA9IEhlbHBlcnMuUmV0dXJucy5kZWh5ZHJhdGUoZGF0YSk7XG4gICAgICAgIGNvbnN0IGJlZm9yZSA9IFJldHVybnNHZXRCeUlkLmdldChhZnRlci5jb250ZXN0SWQsIGFmdGVyLnR1cmZJZCwgYWZ0ZXIucGFydHksIGFmdGVyLnJhbmspIGFzIElSZXR1cm5zO1xuICAgICAgICBjb25zdCBkaWZmID0gRGlmZi5kaWZmUmV0dXJucyhiZWZvcmUsIGFmdGVyKTtcbiAgICAgICAgaWYgKCFkaWZmKSB7IHJldHVybiBudWxsOyB9XG4gICAgICAgIFJldHVybnNVcHNlcnQucnVuKEhlbHBlcnMuUmV0dXJucy5zcWwoeyAuLi5IZWxwZXJzLlJldHVybnMuaHlkcmF0ZShiZWZvcmUpLCAuLi5hZnRlciB9KSk7XG4gICAgICAgICFzaWxlbnQgJiYgb25EaWZmKGRpZmYpO1xuICAgICAgICByZXR1cm4gZGlmZjtcbiAgICAgIH0sXG4gICAgICBkZWxldGUoY29udGVzdElkOiBzdHJpbmcsIHR1cmZJZDogc3RyaW5nLCBwYXJ0eTogZW51bXMuUGFydHksIHJhbms6IG51bWJlciwgc2lsZW50PzogYm9vbGVhbik6IERpZmYuRGVsZXRlRGlmZjxEaWZmLk1vZGVsVHlwZS5SRVRVUk5TPiB8IG51bGwge1xuICAgICAgICBjb25zdCBiZWZvcmUgPSBSZXR1cm5zR2V0QnlJZC5nZXQoY29udGVzdElkLCB0dXJmSWQsIHBhcnR5LCByYW5rKSBhcyBJUmV0dXJucztcbiAgICAgICAgaWYgKCFiZWZvcmUpIHsgcmV0dXJuIG51bGw7IH1cbiAgICAgICAgUmV0dXJuc0RlbGV0ZS5ydW4oY29udGVzdElkLCB0dXJmSWQsIHBhcnR5LCByYW5rKTtcbiAgICAgICAgY29uc3QgZGlmZiA9IERpZmYuZGlmZlJldHVybnMoYmVmb3JlLCBudWxsKVxuICAgICAgICAhc2lsZW50ICYmIG9uRGlmZihkaWZmKTtcbiAgICAgICAgcmV0dXJuIGRpZmY7XG4gICAgICB9LFxuICAgICAgYXBwbHkoZGlmZjogRGlmZi5EaWZmPERpZmYuTW9kZWxUeXBlLlJFVFVSTlM+KTogRGlmZi5EaWZmPERpZmYuTW9kZWxUeXBlLlJFVFVSTlM+IHwgbnVsbCB7XG4gICAgICAgIHJldHVybiBkaWZmLmFmdGVyID8gdGhpcy51cHNlcnQoZGlmZi5hZnRlciwgdHJ1ZSkgOiB0aGlzLmRlbGV0ZShkaWZmLmJlZm9yZS5jb250ZXN0SWQsIGRpZmYuYmVmb3JlLnR1cmZJZCwgZGlmZi5iZWZvcmUucGFydHksIGRpZmYuYmVmb3JlLnJhbmssIHRydWUpXG4gICAgICB9LFxuICAgICAgcm9sbGJhY2soZGlmZjogRGlmZi5EaWZmPERpZmYuTW9kZWxUeXBlLlJFVFVSTlM+KTogRGlmZi5EaWZmPERpZmYuTW9kZWxUeXBlLlJFVFVSTlM+IHwgbnVsbCB7XG4gICAgICAgIHJldHVybiBkaWZmLmJlZm9yZSA/IHRoaXMudXBzZXJ0KGRpZmYuYmVmb3JlLCB0cnVlKSA6IHRoaXMuZGVsZXRlKGRpZmYuYWZ0ZXIuY29udGVzdElkLCBkaWZmLmFmdGVyLnR1cmZJZCwgZGlmZi5hZnRlci5wYXJ0eSwgZGlmZi5hZnRlci5yYW5rLCB0cnVlKVxuICAgICAgfSxcbiAgICB9LFxuICAgIFNjb3JlOiB7XG4gICAgICBnZXRCeUlkKHBlcnNvbklkOiBzdHJpbmcsIG5hbWU6IHN0cmluZyk6IE1vZGVscy5JU2NvcmUgfCBudWxsIHtcbiAgICAgICAgY29uc3QgdmFsID0gU2NvcmVHZXRCeUlkLmdldChwZXJzb25JZCwgbmFtZSkgYXMgSVNjb3JlO1xuICAgICAgICByZXR1cm4gdmFsID8gSGVscGVycy5TY29yZS5oeWRyYXRlKHZhbCkgOiBudWxsO1xuICAgICAgfSxcbiAgICAgIGluc2VydChkYXRhOiBNb2RlbHMuSVBhcnRpYWxTY29yZSwgc2lsZW50PzogYm9vbGVhbik6IERpZmYuQ3JlYXRlRGlmZjxEaWZmLk1vZGVsVHlwZS5TQ09SRT4gfCBudWxsIHtcbiAgICAgICAgY29uc3QgYWZ0ZXIgPSBIZWxwZXJzLlNjb3JlLmh5ZHJhdGUoZGF0YSk7XG4gICAgICAgIFNjb3JlSW5zZXJ0LnJ1bihIZWxwZXJzLlNjb3JlLnNxbChhZnRlcikpO1xuICAgICAgICBjb25zdCBkaWZmID0gRGlmZi5kaWZmU2NvcmUobnVsbCwgYWZ0ZXIpO1xuICAgICAgICAhc2lsZW50ICYmIG9uRGlmZihkaWZmKTtcbiAgICAgICAgcmV0dXJuIGRpZmY7XG4gICAgICB9LFxuICAgICAgdXBzZXJ0KGRhdGE6IE1vZGVscy5JUGFydGlhbFNjb3JlLCBzaWxlbnQ/OiBib29sZWFuKTogRGlmZi5DcmVhdGVEaWZmPERpZmYuTW9kZWxUeXBlLlNDT1JFPiB8IERpZmYuVXBkYXRlRGlmZjxEaWZmLk1vZGVsVHlwZS5TQ09SRT4gfCBudWxsIHtcbiAgICAgICAgY29uc3QgYWZ0ZXIgPSBIZWxwZXJzLlNjb3JlLmRlaHlkcmF0ZShkYXRhKTtcbiAgICAgICAgY29uc3QgYmVmb3JlID0gU2NvcmVHZXRCeUlkLmdldChhZnRlci5wZXJzb25JZCwgYWZ0ZXIubmFtZSkgYXMgSVNjb3JlO1xuICAgICAgICBjb25zdCBkaWZmID0gRGlmZi5kaWZmU2NvcmUoYmVmb3JlLCBhZnRlcik7XG4gICAgICAgIGlmICghZGlmZikgeyByZXR1cm4gbnVsbDsgfVxuICAgICAgICBTY29yZVVwc2VydC5ydW4oSGVscGVycy5TY29yZS5zcWwoeyAuLi5IZWxwZXJzLlNjb3JlLmh5ZHJhdGUoYmVmb3JlKSwgLi4uYWZ0ZXIgfSkpO1xuICAgICAgICAhc2lsZW50ICYmIG9uRGlmZihkaWZmKTtcbiAgICAgICAgcmV0dXJuIGRpZmY7XG4gICAgICB9LFxuICAgICAgZGVsZXRlKHBlcnNvbklkOiBzdHJpbmcsIG5hbWU6IHN0cmluZywgc2lsZW50PzogYm9vbGVhbik6IERpZmYuRGVsZXRlRGlmZjxEaWZmLk1vZGVsVHlwZS5TQ09SRT4gfCBudWxsIHtcbiAgICAgICAgY29uc3QgYmVmb3JlID0gU2NvcmVHZXRCeUlkLmdldChwZXJzb25JZCwgbmFtZSkgYXMgSVNjb3JlO1xuICAgICAgICBpZiAoIWJlZm9yZSkgeyByZXR1cm4gbnVsbDsgfVxuICAgICAgICBTY29yZURlbGV0ZS5ydW4ocGVyc29uSWQsIG5hbWUpO1xuICAgICAgICBjb25zdCBkaWZmID0gRGlmZi5kaWZmU2NvcmUoYmVmb3JlLCBudWxsKVxuICAgICAgICAhc2lsZW50ICYmIG9uRGlmZihkaWZmKTtcbiAgICAgICAgcmV0dXJuIGRpZmY7XG4gICAgICB9LFxuICAgICAgYXBwbHkoZGlmZjogRGlmZi5EaWZmPERpZmYuTW9kZWxUeXBlLlNDT1JFPik6IERpZmYuRGlmZjxEaWZmLk1vZGVsVHlwZS5TQ09SRT4gfCBudWxsIHtcbiAgICAgICAgcmV0dXJuIGRpZmYuYWZ0ZXIgPyB0aGlzLnVwc2VydChkaWZmLmFmdGVyLCB0cnVlKSA6IHRoaXMuZGVsZXRlKGRpZmYuYmVmb3JlLnBlcnNvbklkLCBkaWZmLmJlZm9yZS5uYW1lLCB0cnVlKVxuICAgICAgfSxcbiAgICAgIHJvbGxiYWNrKGRpZmY6IERpZmYuRGlmZjxEaWZmLk1vZGVsVHlwZS5TQ09SRT4pOiBEaWZmLkRpZmY8RGlmZi5Nb2RlbFR5cGUuU0NPUkU+IHwgbnVsbCB7XG4gICAgICAgIHJldHVybiBkaWZmLmJlZm9yZSA/IHRoaXMudXBzZXJ0KGRpZmYuYmVmb3JlLCB0cnVlKSA6IHRoaXMuZGVsZXRlKGRpZmYuYWZ0ZXIucGVyc29uSWQsIGRpZmYuYWZ0ZXIubmFtZSwgdHJ1ZSlcbiAgICAgIH0sXG4gICAgfSxcbiAgICBQZXJzb246IHtcbiAgICAgIGdldEJ5SWQoaWQ6IHN0cmluZyk6IE1vZGVscy5JUGVyc29uIHwgbnVsbCB7XG4gICAgICAgIGNvbnN0IHZhbCA9IFBlcnNvbkdldEJ5SWQuZ2V0KGlkKSBhcyBJUGVyc29uO1xuICAgICAgICByZXR1cm4gdmFsID8gSGVscGVycy5QZXJzb24uaHlkcmF0ZSh2YWwpIDogbnVsbDtcbiAgICAgIH0sXG4gICAgICBpbnNlcnQoZGF0YTogTW9kZWxzLklQYXJ0aWFsUGVyc29uLCBzaWxlbnQ/OiBib29sZWFuKTogRGlmZi5DcmVhdGVEaWZmPERpZmYuTW9kZWxUeXBlLlBFUlNPTj4gfCBudWxsIHtcbiAgICAgICAgY29uc3QgYWZ0ZXIgPSBIZWxwZXJzLlBlcnNvbi5oeWRyYXRlKGRhdGEpO1xuICAgICAgICBQZXJzb25JbnNlcnQucnVuKEhlbHBlcnMuUGVyc29uLnNxbChhZnRlcikpO1xuICAgICAgICBjb25zdCBkaWZmID0gRGlmZi5kaWZmUGVyc29uKG51bGwsIGFmdGVyKTtcbiAgICAgICAgIXNpbGVudCAmJiBvbkRpZmYoZGlmZik7XG4gICAgICAgIHJldHVybiBkaWZmO1xuICAgICAgfSxcbiAgICAgIHVwc2VydChkYXRhOiBNb2RlbHMuSVBhcnRpYWxQZXJzb24sIHNpbGVudD86IGJvb2xlYW4pOiBEaWZmLkNyZWF0ZURpZmY8RGlmZi5Nb2RlbFR5cGUuUEVSU09OPiB8IERpZmYuVXBkYXRlRGlmZjxEaWZmLk1vZGVsVHlwZS5QRVJTT04+IHwgbnVsbCB7XG4gICAgICAgIGNvbnN0IGFmdGVyID0gSGVscGVycy5QZXJzb24uZGVoeWRyYXRlKGRhdGEpO1xuICAgICAgICBjb25zdCBiZWZvcmUgPSBQZXJzb25HZXRCeUlkLmdldChhZnRlci5pZCkgYXMgSVBlcnNvbjtcbiAgICAgICAgY29uc3QgZGlmZiA9IERpZmYuZGlmZlBlcnNvbihiZWZvcmUsIGFmdGVyKTtcbiAgICAgICAgaWYgKCFkaWZmKSB7IHJldHVybiBudWxsOyB9XG4gICAgICAgIFBlcnNvblVwc2VydC5ydW4oSGVscGVycy5QZXJzb24uc3FsKHsgLi4uSGVscGVycy5QZXJzb24uaHlkcmF0ZShiZWZvcmUpLCAuLi5hZnRlciB9KSk7XG4gICAgICAgICFzaWxlbnQgJiYgb25EaWZmKGRpZmYpO1xuICAgICAgICByZXR1cm4gZGlmZjtcbiAgICAgIH0sXG4gICAgICBkZWxldGUoaWQ6IHN0cmluZywgc2lsZW50PzogYm9vbGVhbik6IERpZmYuRGVsZXRlRGlmZjxEaWZmLk1vZGVsVHlwZS5QRVJTT04+IHwgbnVsbCB7XG4gICAgICAgIGNvbnN0IGJlZm9yZSA9IFBlcnNvbkdldEJ5SWQuZ2V0KGlkKSBhcyBJUGVyc29uO1xuICAgICAgICBpZiAoIWJlZm9yZSkgeyByZXR1cm4gbnVsbDsgfVxuICAgICAgICBQZXJzb25EZWxldGUucnVuKGlkKTtcbiAgICAgICAgY29uc3QgZGlmZiA9IERpZmYuZGlmZlBlcnNvbihiZWZvcmUsIG51bGwpXG4gICAgICAgICFzaWxlbnQgJiYgb25EaWZmKGRpZmYpO1xuICAgICAgICByZXR1cm4gZGlmZjtcbiAgICAgIH0sXG4gICAgICBhcHBseShkaWZmOiBEaWZmLkRpZmY8RGlmZi5Nb2RlbFR5cGUuUEVSU09OPik6IERpZmYuRGlmZjxEaWZmLk1vZGVsVHlwZS5QRVJTT04+IHwgbnVsbCB7XG4gICAgICAgIHJldHVybiBkaWZmLmFmdGVyID8gdGhpcy51cHNlcnQoZGlmZi5hZnRlciwgdHJ1ZSkgOiB0aGlzLmRlbGV0ZShkaWZmLmJlZm9yZS5pZCwgdHJ1ZSlcbiAgICAgIH0sXG4gICAgICByb2xsYmFjayhkaWZmOiBEaWZmLkRpZmY8RGlmZi5Nb2RlbFR5cGUuUEVSU09OPik6IERpZmYuRGlmZjxEaWZmLk1vZGVsVHlwZS5QRVJTT04+IHwgbnVsbCB7XG4gICAgICAgIHJldHVybiBkaWZmLmJlZm9yZSA/IHRoaXMudXBzZXJ0KGRpZmYuYmVmb3JlLCB0cnVlKSA6IHRoaXMuZGVsZXRlKGRpZmYuYWZ0ZXIuaWQsIHRydWUpXG4gICAgICB9LFxuICAgIH0sXG4gIH07XG59Il19