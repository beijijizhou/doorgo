"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
Object.defineProperty(exports, "__esModule", { value: true });
/* global describe, it */
const assert = __importStar(require("assert"));
const fs = __importStar(require("fs"));
const path = __importStar(require("path"));
const index_1 = require("../src/index");
describe('Utils', () => {
    describe('debounce should', () => {
        it('delay a call', async () => {
            const first = Date.now();
            let second = 0;
            await (0, index_1.debounce)(() => second = Date.now(), 1000)();
            assert.ok(second - first >= 1000);
        });
        it('only call the function once', async () => {
            const first = Date.now();
            let second = 0;
            let count = 0;
            const func = (0, index_1.debounce)(() => {
                count++;
                second = Date.now();
            }, 1200);
            func();
            func();
            func();
            await func();
            assert.ok(second - first >= 1000);
            assert.strictEqual(count, 1);
        });
        it('no debounce memory leak', async function () {
            this.timeout(120000);
            const func = (0, index_1.debounce)((arr) => {
                arr[0] = arr[1];
            }, 1);
            const before = process.memoryUsage().heapUsed / 1024 / 1024;
            for (let i = 0; i < 2000; i++) {
                await func(new Array(1000000).fill(1));
            }
            global?.gc?.();
            await new Promise(resolve => setTimeout(resolve, 3000));
            const after = process.memoryUsage().heapUsed / 1024 / 1024;
            assert.ok(after <= before, 'memory usage does not grow with many debounce calls');
        });
    });
    it('runs md5', () => {
        assert.strictEqual((0, index_1.md5)('hello'), '5d41402abc4b2a76b9719d911017c592');
        assert.strictEqual((0, index_1.md5)('0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'), 'c1906fa4ec71ebdc02c49c5d19908a39');
        assert.strictEqual((0, index_1.md5)(fs.readFileSync(path.join(__dirname, '../../../fixtures/share.jpg'), 'binary')), '7b55446ad872973c5db5006905cc92aa');
    });
    it('runs base64Url', () => {
        assert.strictEqual((0, index_1.base64UrlEncode)('Adam Miller'), 'QWRhbSBNaWxsZXI');
        assert.strictEqual((0, index_1.base64UrlDecode)((0, index_1.base64UrlEncode)('Adam Miller')), 'Adam Miller');
        assert.strictEqual((0, index_1.base64UrlEncode)('Kelly'), 'S2VsbHk');
        assert.strictEqual((0, index_1.base64UrlDecode)((0, index_1.base64UrlEncode)('Kelly')), 'Kelly');
    });
    it('runs base85UuidEncode / base85UuidEncode', () => {
        const id = '1d0d0699-7002-4273-b013-2a963852c388';
        const encoded = (0, index_1.base85UuidEncode)(id);
        assert.strictEqual((0, index_1.isUuid)(id), true);
        assert.strictEqual(encoded.length, 20);
        assert.strictEqual((0, index_1.base85UuidDecode)(encoded), id);
        for (let i = 0; i < 2000; i++) {
            const id = (0, index_1.uuid)();
            const encoded = (0, index_1.base85UuidEncode)(id);
            assert.strictEqual((0, index_1.isUuid)(id), true);
            assert.strictEqual(encoded.length, 20);
            assert.strictEqual((0, index_1.base85UuidDecode)(encoded), id);
        }
    });
    it('validates emails', () => {
        assert.ok((0, index_1.validateEmail)('adam@universe.app'));
        assert.ok((0, index_1.validateEmail)('adam+tag@universe.app'));
        assert.ok(!(0, index_1.validateEmail)('@universe.app'));
        assert.ok(!(0, index_1.validateEmail)('adam@universe'));
        assert.ok(!(0, index_1.validateEmail)('adam@universe.'));
        assert.ok(!(0, index_1.validateEmail)('superduperlongemailaddressthatistechnicallynotallowedsuperduperlongemailaddressthatistechnicallynotallowed@universe.app'));
        assert.ok(!(0, index_1.validateEmail)('INVALID'));
        assert.ok(!(0, index_1.validateEmail)(false));
        assert.ok(!(0, index_1.validateEmail)(100));
        assert.ok(!(0, index_1.validateEmail)(new Date()));
        assert.ok(!(0, index_1.validateEmail)({}));
    });
    it('deep clones', async () => {
        const obj = {
            a: 1,
            b: { c: 3 },
            d: [1, 2, { e: 5 }],
        };
        const clone = await (0, index_1.deepClone)(obj);
        assert.notStrictEqual(obj, clone);
        assert.deepStrictEqual(obj, clone);
    });
    it('converts posix to date', async () => {
        const dates = [
            '6/29/1991',
            '1/1/1900',
            '1/1/3030',
            '12/31/1845',
            '12/31/7082',
            '6/1/2009',
            '6/29/2009',
        ];
        for (const date of dates) {
            const res = (0, index_1.posixToDate)(+(new Date(date)));
            assert.strictEqual(`${res.month}/${res.day}/${res.year}`, date);
        }
    });
    describe('deferrable should', () => {
        it('resolve', async () => {
            let runs = false;
            const deferrable = new index_1.Deferred();
            const promise = deferrable.then((res) => {
                runs = true;
                assert.strictEqual(1, res);
            });
            deferrable.resolve(1);
            await promise;
            assert.strictEqual(true, runs);
        });
        it('reject', async () => {
            let runs = false;
            const deferrable = new index_1.Deferred();
            const promise = deferrable.catch((err) => {
                runs = true;
                assert.strictEqual('Test', err.message);
            });
            deferrable.reject(new Error('Test'));
            await promise;
            assert.strictEqual(true, runs);
        });
    });
    describe('string methods should', () => {
        it('run toLowerCase', () => {
            assert.strictEqual((0, index_1.toLowerCase)('WORKS'), 'works');
            assert.strictEqual((0, index_1.toLowerCase)('works'), 'works');
            assert.strictEqual((0, index_1.toLowerCase)('WoRkz 4-A c0^^P13X sTRing'), 'workz 4-a c0^^p13x string');
        });
        it('run toUpperCase', () => {
            assert.strictEqual((0, index_1.toUpperCase)('WORKS'), 'WORKS');
            assert.strictEqual((0, index_1.toUpperCase)('works'), 'WORKS');
            assert.strictEqual((0, index_1.toUpperCase)('WoRkz 4-A c0^^P13X sTRing'), 'WORKZ 4-A C0^^P13X STRING');
        });
        it('run toSnakeCase', () => {
            assert.strictEqual((0, index_1.toSnakeCase)('WORKS'), 'works');
            assert.strictEqual((0, index_1.toSnakeCase)('works'), 'works');
            assert.strictEqual((0, index_1.toSnakeCase)('WoRkz 4-A c0^^P13X sTRing'), 'wo_rkz_4_a_c0_p_13_x_s_t_ring');
            assert.strictEqual((0, index_1.toSnakeCase)('kebab-case'), 'kebab_case');
            assert.strictEqual((0, index_1.toSnakeCase)('snake_case'), 'snake_case');
            assert.strictEqual((0, index_1.toSnakeCase)('Title Case'), 'title_case');
            assert.strictEqual((0, index_1.toSnakeCase)('PascalCase'), 'pascal_case');
            assert.strictEqual((0, index_1.toSnakeCase)('camalCase'), 'camal_case');
        });
        it('run toKebabCase', () => {
            assert.strictEqual((0, index_1.toKebabCase)('WORKS'), 'works');
            assert.strictEqual((0, index_1.toKebabCase)('works'), 'works');
            assert.strictEqual((0, index_1.toKebabCase)('kebab-case'), 'kebab-case');
            assert.strictEqual((0, index_1.toKebabCase)('snake_case'), 'snake-case');
            assert.strictEqual((0, index_1.toKebabCase)('Title Case'), 'title-case');
            assert.strictEqual((0, index_1.toKebabCase)('PascalCase'), 'pascal-case');
            assert.strictEqual((0, index_1.toKebabCase)('camalCase'), 'camal-case');
        });
        it('run toTitleCase', () => {
            assert.strictEqual((0, index_1.toTitleCase)('WORKS'), 'WORKS');
            assert.strictEqual((0, index_1.toTitleCase)('works'), 'Works');
            assert.strictEqual((0, index_1.toTitleCase)('kebab-case'), 'Kebab Case');
            assert.strictEqual((0, index_1.toTitleCase)('snake_case'), 'Snake Case');
            assert.strictEqual((0, index_1.toTitleCase)('Title Case'), 'Title Case');
            assert.strictEqual((0, index_1.toTitleCase)('PascalCase'), 'Pascal Case');
            assert.strictEqual((0, index_1.toTitleCase)('camalCase'), 'Camal Case');
        });
        it('run toPascalCase', () => {
            assert.strictEqual((0, index_1.toPascalCase)('WORKS'), 'Works');
            assert.strictEqual((0, index_1.toPascalCase)('works'), 'Works');
            assert.strictEqual((0, index_1.toPascalCase)('kebab-case'), 'KebabCase');
            assert.strictEqual((0, index_1.toPascalCase)('snake_case'), 'SnakeCase');
            assert.strictEqual((0, index_1.toPascalCase)('Title Case'), 'TitleCase');
            assert.strictEqual((0, index_1.toPascalCase)('PascalCase'), 'PascalCase');
            assert.strictEqual((0, index_1.toPascalCase)('camalCase'), 'CamalCase');
        });
        it('run toCamelCase', () => {
            assert.strictEqual((0, index_1.toCamelCase)('WORKS'), 'works');
            assert.strictEqual((0, index_1.toCamelCase)('works'), 'works');
            assert.strictEqual((0, index_1.toCamelCase)('kebab-case'), 'kebabCase');
            assert.strictEqual((0, index_1.toCamelCase)('snake_case'), 'snakeCase');
            assert.strictEqual((0, index_1.toCamelCase)('Title Case'), 'titleCase');
            assert.strictEqual((0, index_1.toCamelCase)('PascalCase'), 'pascalCase');
            assert.strictEqual((0, index_1.toCamelCase)('camalCase'), 'camalCase');
        });
        it('run toNameCase', () => {
            assert.strictEqual((0, index_1.toNameCase)('WORKS'), 'Works');
            assert.strictEqual((0, index_1.toNameCase)('works'), 'Works');
            assert.strictEqual((0, index_1.toNameCase)('kebab-case'), 'Kebab-Case');
            assert.strictEqual((0, index_1.toNameCase)('snake_case'), 'SnakeCase');
            assert.strictEqual((0, index_1.toNameCase)('Title Case'), 'Title Case');
            assert.strictEqual((0, index_1.toNameCase)('PascalCase'), 'PascalCase');
            assert.strictEqual((0, index_1.toNameCase)('camalCase'), 'CamalCase');
            assert.strictEqual((0, index_1.toNameCase)("o'Farrell"), "O'Farrell");
            assert.strictEqual((0, index_1.toNameCase)('emily baker-white'), 'Emily Baker-White');
            assert.strictEqual((0, index_1.toNameCase)('KellyRose fluty'), 'KellyRose Fluty');
        });
    });
    describe('Local Hours to UTC', () => {
        it('should convert local hours to utc while maintaining minutes elapsed', () => {
            assert.strictEqual((0, index_1.localHourToUTC)(2.5), 10.5);
        });
        it('should convert local hours to utc while wrapping for the 24th hour mark', () => {
            assert.strictEqual((0, index_1.localHourToUTC)(22.5), 6.5);
        });
        it('should convert local hours to utc', () => {
            assert.strictEqual((0, index_1.localHourToUTC)(22), 6);
        });
        it('should convert utc hours to local while maintaining minutes elapsed', () => {
            assert.strictEqual((0, index_1.utcHourToLocal)(2.5), 18.5);
        });
        it('should convert utc hours to local while wrapping for the 24th hour mark', () => {
            assert.strictEqual((0, index_1.utcHourToLocal)(22.5), 14.5);
        });
        it('should convert utc hours to local', () => {
            assert.strictEqual((0, index_1.utcHourToLocal)(22), 14);
        });
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi90ZXN0L2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSx5QkFBeUI7QUFDekIsK0NBQWlDO0FBQ2pDLHVDQUF5QjtBQUN6QiwyQ0FBNkI7QUFFN0Isd0NBdUJzQjtBQUV0QixRQUFRLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRTtJQUNyQixRQUFRLENBQUMsaUJBQWlCLEVBQUUsR0FBRyxFQUFFO1FBQy9CLEVBQUUsQ0FBQyxjQUFjLEVBQUUsS0FBSyxJQUFHLEVBQUU7WUFDM0IsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBQ3pCLElBQUksTUFBTSxHQUFHLENBQUMsQ0FBQztZQUNmLE1BQU0sSUFBQSxnQkFBUSxFQUFDLEdBQUcsRUFBRSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsR0FBRyxFQUFFLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQztZQUNsRCxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sR0FBRyxLQUFLLElBQUksSUFBSSxDQUFDLENBQUM7UUFDcEMsQ0FBQyxDQUFDLENBQUM7UUFDSCxFQUFFLENBQUMsNkJBQTZCLEVBQUUsS0FBSyxJQUFHLEVBQUU7WUFDMUMsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBQ3pCLElBQUksTUFBTSxHQUFHLENBQUMsQ0FBQztZQUNmLElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQztZQUNkLE1BQU0sSUFBSSxHQUFHLElBQUEsZ0JBQVEsRUFBQyxHQUFHLEVBQUU7Z0JBQ3pCLEtBQUssRUFBRSxDQUFDO2dCQUNSLE1BQU0sR0FBRyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7WUFDdEIsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1lBQ1QsSUFBSSxFQUFFLENBQUM7WUFDUCxJQUFJLEVBQUUsQ0FBQztZQUNQ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LFdBQVcsQ0FBQyxJQUFBLG1CQUFXLEVBQUMsWUFBWSxDQUFDLEVBQUUsWUFBWSxDQUFDLENBQUM7WUFDNUQsTUFBTSxDQUFDLFdBQVcsQ0FBQyxJQUFBLG1CQUFXLEVBQUMsWUFBWSxDQUFDLEVBQUUsWUFBWSxDQUFDLENBQUM7WUFDNUQsTUFBTSxDQUFDLFdBQVcsQ0FBQyxJQUFBLG1CQUFXLEVBQUMsWUFBWSxDQUFDLEVBQUUsWUFBWSxDQUFDLENBQUM7WUFDNUQsTUFBTSxDQUFDLFdBQVcsQ0FBQyxJQUFBLG1CQUFXLEVBQUMsWUFBWSxDQUFDLEVBQUUsYUFBYSxDQUFDLENBQUM7WUFDN0QsTUFBTSxDQUFDLFdBQVcsQ0FBQyxJQUFBLG1CQUFXLEVBQUMsV0FBVyxDQUFDLEVBQUUsWUFBWSxDQUFDLENBQUM7UUFDN0QsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsaUJBQWlCLEVBQUUsR0FBRyxFQUFFO1lBQ3pCLE1BQU0sQ0FBQyxXQUFXLENBQUMsSUFBQSxtQkFBVyxFQUFDLE9BQU8sQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1lBQ2xELE1BQU0sQ0FBQyxXQUFXLENBQUMsSUFBQSxtQkFBVyxFQUFDLE9BQU8sQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1lBQ2xELE1BQU0sQ0FBQyxXQUFXLENBQUMsSUFBQSxtQkFBVyxFQUFDLFlBQVksQ0FBQyxFQUFFLFlBQVksQ0FBQyxDQUFDO1lBQzVELE1BQU0sQ0FBQyxXQUFXLENBQUMsSUFBQSxtQkFBVyxFQUFDLFlBQVksQ0FBQyxFQUFFLFlBQVksQ0FBQyxDQUFDO1lBQzVELE1BQU0sQ0FBQyxXQUFXLENBQUMsSUFBQSxtQkFBVyxFQUFDLFlBQVksQ0FBQyxFQUFFLFlBQVksQ0FBQyxDQUFDO1lBQzVELE1BQU0sQ0FBQyxXQUFXLENBQUMsSUFBQSxtQkFBVyxFQUFDLFlBQVksQ0FBQyxFQUFFLGFBQWEsQ0FBQyxDQUFDO1lBQzdELE1BQU0sQ0FBQyxXQUFXLENBQUMsSUFBQSxtQkFBVyxFQUFDLFdBQVcsQ0FBQyxFQUFFLFlBQVksQ0FBQyxDQUFDO1FBQzdELENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLGtCQUFrQixFQUFFLEdBQUcsRUFBRTtZQUMxQixNQUFNLENBQUMsV0FBVyxDQUFDLElBQUEsb0JBQVksRUFBQyxPQUFPLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQztZQUNuRCxNQUFNLENBQUMsV0FBVyxDQUFDLElBQUEsb0JBQVksRUFBQyxPQUFPLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQztZQUNuRCxNQUFNLENBQUMsV0FBVyxDQUFDLElBQUEsb0JBQVksRUFBQyxZQUFZLENBQUMsRUFBRSxXQUFXLENBQUMsQ0FBQztZQUM1RCxNQUFNLENBQUMsV0FBVyxDQUFDLElBQUEsb0JBQVksRUFBQyxZQUFZLENBQUMsRUFBRSxXQUFXLENBQUMsQ0FBQztZQUM1RCxNQUFNLENBQUMsV0FBVyxDQUFDLElBQUEsb0JBQVksRUFBQyxZQUFZLENBQUMsRUFBRSxXQUFXLENBQUMsQ0FBQztZQUM1RCxNQUFNLENBQUMsV0FBVyxDQUFDLElBQUEsb0JBQVksRUFBQyxZQUFZLENBQUMsRUFBRSxZQUFZLENBQUMsQ0FBQztZQUM3RCxNQUFNLENBQUMsV0FBVyxDQUFDLElBQUEsb0JBQVksRUFBQyxXQUFXLENBQUMsRUFBRSxXQUFXLENBQUMsQ0FBQztRQUM3RCxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxpQkFBaUIsRUFBRSxHQUFHLEVBQUU7WUFDekIsTUFBTSxDQUFDLFdBQVcsQ0FBQyxJQUFBLG1CQUFXLEVBQUMsT0FBTyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7WUFDbEQsTUFBTSxDQUFDLFdBQVcsQ0FBQyxJQUFBLG1CQUFXLEVBQUMsT0FBTyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7WUFDbEQsTUFBTSxDQUFDLFdBQVcsQ0FBQyxJQUFBLG1CQUFXLEVBQUMsWUFBWSxDQUFDLEVBQUUsV0FBVyxDQUFDLENBQUM7WUFDM0QsTUFBTSxDQUFDLFdBQVcsQ0FBQyxJQUFBLG1CQUFXLEVBQUMsWUFBWSxDQUFDLEVBQUUsV0FBVyxDQUFDLENBQUM7WUFDM0QsTUFBTSxDQUFDLFdBQVcsQ0FBQyxJQUFBLG1CQUFXLEVBQUMsWUFBWSxDQUFDLEVBQUUsV0FBVyxDQUFDLENBQUM7WUFDM0QsTUFBTSxDQUFDLFdBQVcsQ0FBQyxJQUFBLG1CQUFXLEVBQUMsWUFBWSxDQUFDLEVBQUUsWUFBWSxDQUFDLENBQUM7WUFDNUQsTUFBTSxDQUFDLFdBQVcsQ0FBQyxJQUFBLG1CQUFXLEVBQUMsV0FBVyxDQUFDLEVBQUUsV0FBVyxDQUFDLENBQUM7UUFDNUQsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsZ0JBQWdCLEVBQUUsR0FBRyxFQUFFO1lBQ3hCLE1BQU0sQ0FBQyxXQUFXLENBQUMsSUFBQSxrQkFBVSxFQUFDLE9BQU8sQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1lBQ2pELE1BQU0sQ0FBQyxXQUFXLENBQUMsSUFBQSxrQkFBVSxFQUFDLE9BQU8sQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1lBQ2pELE1BQU0sQ0FBQyxXQUFXLENBQUMsSUFBQSxrQkFBVSxFQUFDLFlBQVksQ0FBQyxFQUFFLFlBQVksQ0FBQyxDQUFDO1lBQzNELE1BQU0sQ0FBQyxXQUFXLENBQUMsSUFBQSxrQkFBVSxFQUFDLFlBQVksQ0FBQyxFQUFFLFdBQVcsQ0FBQyxDQUFDO1lBQzFELE1BQU0sQ0FBQyxXQUFXLENBQUMsSUFBQSxrQkFBVSxFQUFDLFlBQVksQ0FBQyxFQUFFLFlBQVksQ0FBQyxDQUFDO1lBQzNELE1BQU0sQ0FBQyxXQUFXLENBQUMsSUFBQSxrQkFBVSxFQUFDLFlBQVksQ0FBQyxFQUFFLFlBQVksQ0FBQyxDQUFDO1lBQzNELE1BQU0sQ0FBQyxXQUFXLENBQUMsSUFBQSxrQkFBVSxFQUFDLFdBQVcsQ0FBQyxFQUFFLFdBQVcsQ0FBQyxDQUFDO1lBQ3pELE1BQU0sQ0FBQyxXQUFXLENBQUMsSUFBQSxrQkFBVSxFQUFDLFdBQVcsQ0FBQyxFQUFFLFdBQVcsQ0FBQyxDQUFDO1lBQ3pELE1BQU0sQ0FBQyxXQUFXLENBQUMsSUFBQSxrQkFBVSxFQUFDLG1CQUFtQixDQUFDLEVBQUUsbUJBQW1CLENBQUMsQ0FBQztZQUN6RSxNQUFNLENBQUMsV0FBVyxDQUFDLElBQUEsa0JBQVUsRUFBQyxpQkFBaUIsQ0FBQyxFQUFFLGlCQUFpQixDQUFDLENBQUM7UUFDdkUsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztJQUVILFFBQVEsQ0FBQyxvQkFBb0IsRUFBRSxHQUFHLEVBQUU7UUFDbEMsRUFBRSxDQUFDLHFFQUFxRSxFQUFFLEdBQUcsRUFBRTtZQUM3RSxNQUFNLENBQUMsV0FBVyxDQUFDLElBQUEsc0JBQWMsRUFBQyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNoRCxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyx5RUFBeUUsRUFBRSxHQUFHLEVBQUU7WUFDakYsTUFBTSxDQUFDLFdBQVcsQ0FBQyxJQUFBLHNCQUFjLEVBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDaEQsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsbUNBQW1DLEVBQUUsR0FBRyxFQUFFO1lBQzNDLE1BQU0sQ0FBQyxXQUFXLENBQUMsSUFBQSxzQkFBYyxFQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQzVDLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLHFFQUFxRSxFQUFFLEdBQUcsRUFBRTtZQUM3RSxNQUFNLENBQUMsV0FBVyxDQUFDLElBQUEsc0JBQWMsRUFBQyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNoRCxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyx5RUFBeUUsRUFBRSxHQUFHLEVBQUU7WUFDakYsTUFBTSxDQUFDLFdBQVcsQ0FBQyxJQUFBLHNCQUFjLEVBQUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDakQsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsbUNBQW1DLEVBQUUsR0FBRyxFQUFFO1lBQzNDLE1BQU0sQ0FBQyxXQUFXLENBQUMsSUFBQSxzQkFBYyxFQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQzdDLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbCBkZXNjcmliZSwgaXQgKi9cbmltcG9ydCAqIGFzIGFzc2VydCBmcm9tICdhc3NlcnQnO1xuaW1wb3J0ICogYXMgZnMgZnJvbSAnZnMnO1xuaW1wb3J0ICogYXMgcGF0aCBmcm9tICdwYXRoJztcblxuaW1wb3J0IHtcbiAgYmFzZTY0VXJsRGVjb2RlLFxuICBiYXNlNjRVcmxFbmNvZGUsXG4gIGJhc2U4NVV1aWREZWNvZGUsXG4gIGJhc2U4NVV1aWRFbmNvZGUsXG4gIGRlYm91bmNlLFxuICBkZWVwQ2xvbmUsXG4gIERlZmVycmVkLFxuICBpc1V1aWQsXG4gIGxvY2FsSG91clRvVVRDLFxuICBtZDUsXG4gIHBvc2l4VG9EYXRlLFxuICB0b0NhbWVsQ2FzZSxcbiAgdG9LZWJhYkNhc2UsXG4gIHRvTG93ZXJDYXNlLFxuICB0b05hbWVDYXNlLFxuICB0b1Bhc2NhbENhc2UsXG4gIHRvU25ha2VDYXNlLFxuICB0b1RpdGxlQ2FzZSxcbiAgdG9VcHBlckNhc2UsXG4gIHV0Y0hvdXJUb0xvY2FsLFxuICB1dWlkLFxuICB2YWxpZGF0ZUVtYWlsLFxufSBmcm9tICcuLi9zcmMvaW5kZXgnO1xuXG5kZXNjcmliZSgnVXRpbHMnLCAoKSA9PiB7XG4gIGRlc2NyaWJlKCdkZWJvdW5jZSBzaG91bGQnLCAoKSA9PiB7XG4gICAgaXQoJ2RlbGF5IGEgY2FsbCcsIGFzeW5jKCkgPT4ge1xuICAgICAgY29uc3QgZmlyc3QgPSBEYXRlLm5vdygpO1xuICAgICAgbGV0IHNlY29uZCA9IDA7XG4gICAgICBhd2FpdCBkZWJvdW5jZSgoKSA9PiBzZWNvbmQgPSBEYXRlLm5vdygpLCAxMDAwKSgpO1xuICAgICAgYXNzZXJ0Lm9rKHNlY29uZCAtIGZpcnN0ID49IDEwMDApO1xuICAgIH0pO1xuICAgIGl0KCdvbmx5IGNhbGwgdGhlIGZ1bmN0aW9uIG9uY2UnLCBhc3luYygpID0+IHtcbiAgICAgIGNvbnN0IGZpcnN0ID0gRGF0ZS5ub3coKTtcbiAgICAgIGxldCBzZWNvbmQgPSAwO1xuICAgICAgbGV0IGNvdW50ID0gMDtcbiAgICAgIGNvbnN0IGZ1bmMgPSBkZWJvdW5jZSgoKSA9PiB7XG4gICAgICAgIGNvdW50Kys7XG4gICAgICAgIHNlY29uZCA9IERhdGUubm93KCk7XG4gICAgICB9LCAxMjAwKTtcbiAgICAgIGZ1bmMoKTtcbiAgICAgIGZ1bmMoKTtcbiAgICAgIGZ1bmMoKTtcbiAgICAgIGF3YWl0IGZ1bmMoKTtcbiAgICAgIGFzc2VydC5vayhzZWNvbmQgLSBmaXJzdCA+PSAxMDAwKTtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbChjb3VudCwgMSk7XG4gICAgfSk7XG4gICAgaXQoJ25vIGRlYm91bmNlIG1lbW9yeSBsZWFrJywgYXN5bmMgZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLnRpbWVvdXQoMTIwMDAwKTtcbiAgICAgIGNvbnN0IGZ1bmMgPSBkZWJvdW5jZSgoYXJyOiBudW1iZXJbXSkgPT4ge1xuICAgICAgICBhcnJbMF0gPSBhcnJbMV07XG4gICAgICB9LCAxKTtcbiAgICAgIGNvbnN0IGJlZm9yZSA9IHByb2Nlc3MubWVtb3J5VXNhZ2UoKS5oZWFwVXNlZCAvIDEwMjQgLyAxMDI0O1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAyMDAwOyBpKyspIHtcbiAgICAgICAgYXdhaXQgZnVuYyhuZXcgQXJyYXkoMTAwMDAwMCkuZmlsbCgxKSk7XG4gICAgICB9XG4gICAgICBnbG9iYWw/LmdjPy4oKTtcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAzMDAwKSk7XG4gICAgICBjb25zdCBhZnRlciA9IHByb2Nlc3MubWVtb3J5VXNhZ2UoKS5oZWFwVXNlZCAvIDEwMjQgLyAxMDI0O1xuICAgICAgYXNzZXJ0Lm9rKGFmdGVyIDw9IGJlZm9yZSwgJ21lbW9yeSB1c2FnZSBkb2VzIG5vdCBncm93IHdpdGggbWFueSBkZWJvdW5jZSBjYWxscycpO1xuICAgIH0pO1xuICB9KTtcblxuICBpdCgncnVucyBtZDUnLCAoKSA9PiB7XG4gICAgYXNzZXJ0LnN0cmljdEVxdWFsKG1kNSgnaGVsbG8nKSwgJzVkNDE0MDJhYmM0YjJhNzZiOTcxOWQ5MTEwMTdjNTkyJyk7XG4gICAgYXNzZXJ0LnN0cmljdEVxdWFsKG1kNSgnMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVowMTIzNDU2Nzg5JyksICdjMTkwNmZhNGVjNzFlYmRjMDJjNDljNWQxOTkwOGEzOScpO1xuICAgIGFzc2VydC5zdHJpY3RFcXVhbChtZDUoZnMucmVhZEZpbGVTeW5jKHBhdGguam9pbihfX2Rpcm5hbWUsICcuLi8uLi8uLi9maXh0dXJlcy9zaGFyZS5qcGcnKSwgJ2JpbmFyeScpKSwgJzdiNTU0NDZhZDg3Mjk3M2M1ZGI1MDA2OTA1Y2M5MmFhJyk7XG4gIH0pO1xuXG4gIGl0KCdydW5zIGJhc2U2NFVybCcsICgpID0+IHtcbiAgICBhc3NlcnQuc3RyaWN0RXF1YWwoYmFzZTY0VXJsRW5jb2RlKCdBZGFtIE1pbGxlcicpLCAnUVdSaGJTQk5hV3hzWlhJJyk7XG4gICAgYXNzZXJ0LnN0cmljdEVxdWFsKGJhc2U2NFVybERlY29kZShiYXNlNjRVcmxFbmNvZGUoJ0FkYW0gTWlsbGVyJykpLCAnQWRhbSBNaWxsZXInKTtcblxuICAgIGFzc2VydC5zdHJpY3RFcXVhbChiYXNlNjRVcmxFbmNvZGUoJ0tlbGx5JyksICdTMlZzYkhrJyk7XG4gICAgYXNzZXJ0LnN0cmljdEVxdWFsKGJhc2U2NFVybERlY29kZShiYXNlNjRVcmxFbmNvZGUoJ0tlbGx5JykpLCAnS2VsbHknKTtcbiAgfSk7XG5cbiAgaXQoJ3J1bnMgYmFzZTg1VXVpZEVuY29kZSAvIGJhc2U4NVV1aWRFbmNvZGUnLCAoKSA9PiB7XG4gICAgY29uc3QgaWQgPSAnMWQwZDA2OTktNzAwMi00MjczLWIwMTMtMmE5NjM4NTJjMzg4JztcbiAgICBjb25zdCBlbmNvZGVkID0gYmFzZTg1VXVpZEVuY29kZShpZCk7XG4gICAgYXNzZXJ0LnN0cmljdEVxdWFsKGlzVXVpZChpZCksIHRydWUpO1xuICAgIGFzc2VydC5zdHJpY3RFcXVhbChlbmNvZGVkLmxlbmd0aCwgMjApO1xuICAgIGFzc2VydC5zdHJpY3RFcXVhbChiYXNlODVVdWlkRGVjb2RlKGVuY29kZWQpLCBpZCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAyMDAwOyBpKyspIHtcbiAgICAgIGNvbnN0IGlkID0gdXVpZCgpO1xuICAgICAgY29uc3QgZW5jb2RlZCA9IGJhc2U4NVV1aWRFbmNvZGUoaWQpO1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKGlzVXVpZChpZCksIHRydWUpO1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKGVuY29kZWQubGVuZ3RoLCAyMCk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwoYmFzZTg1VXVpZERlY29kZShlbmNvZGVkKSwgaWQpO1xuICAgIH1cbiAgfSk7XG5cbiAgaXQoJ3ZhbGlkYXRlcyBlbWFpbHMnLCAoKSA9PiB7XG4gICAgYXNzZXJ0Lm9rKHZhbGlkYXRlRW1haWwoJ2FkYW1AdW5pdmVyc2UuYXBwJykpO1xuICAgIGFzc2VydC5vayh2YWxpZGF0ZUVtYWlsKCdhZGFtK3RhZ0B1bml2ZXJzZS5hcHAnKSk7XG4gICAgYXNzZXJ0Lm9rKCF2YWxpZGF0ZUVtYWlsKCdAdW5pdmVyc2UuYXBwJykpO1xuICAgIGFzc2VydC5vayghdmFsaWRhdGVFbWFpbCgnYWRhbUB1bml2ZXJzZScpKTtcbiAgICBhc3NlcnQub2soIXZhbGlkYXRlRW1haWwoJ2FkYW1AdW5pdmVyc2UuJykpO1xuICAgIGFzc2VydC5vayghdmFsaWRhdGVFbWFpbCgnc3VwZXJkdXBlcmxvbmdlbWFpbGFkZHJlc3N0aGF0aXN0ZWNobmljYWxseW5vdGFsbG93ZWRzdXBlcmR1cGVybG9uZ2VtYWlsYWRkcmVzc3RoYXRpc3RlY2huaWNhbGx5bm90YWxsb3dlZEB1bml2ZXJzZS5hcHAnKSk7XG4gICAgYXNzZXJ0Lm9rKCF2YWxpZGF0ZUVtYWlsKCdJTlZBTElEJykpO1xuICAgIGFzc2VydC5vayghdmFsaWRhdGVFbWFpbChmYWxzZSkpO1xuICAgIGFzc2VydC5vayghdmFsaWRhdGVFbWFpbCgxMDApKTtcbiAgICBhc3NlcnQub2soIXZhbGlkYXRlRW1haWwobmV3IERhdGUoKSkpO1xuICAgIGFzc2VydC5vayghdmFsaWRhdGVFbWFpbCh7fSkpO1xuICB9KTtcblxuICBpdCgnZGVlcCBjbG9uZXMnLCBhc3luYygpID0+IHtcbiAgICBjb25zdCBvYmogPSB7XG4gICAgICBhOiAxLFxuICAgICAgYjogeyBjOiAzIH0sXG4gICAgICBkOiBbIDEsIDIsIHsgZTogNSB9XSxcbiAgICB9O1xuICAgIGNvbnN0IGNsb25lID0gYXdhaXQgZGVlcENsb25lKG9iaik7XG4gICAgYXNzZXJ0Lm5vdFN0cmljdEVxdWFsKG9iaiwgY2xvbmUpO1xuICAgIGFzc2VydC5kZWVwU3RyaWN0RXF1YWwob2JqLCBjbG9uZSk7XG4gIH0pO1xuXG4gIGl0KCdjb252ZXJ0cyBwb3NpeCB0byBkYXRlJywgYXN5bmMoKSA9PiB7XG4gICAgY29uc3QgZGF0ZXMgPSBbXG4gICAgICAnNi8yOS8xOTkxJyxcbiAgICAgICcxLzEvMTkwMCcsXG4gICAgICAnMS8xLzMwMzAnLFxuICAgICAgJzEyLzMxLzE4NDUnLFxuICAgICAgJzEyLzMxLzcwODInLFxuICAgICAgJzYvMS8yMDA5JyxcbiAgICAgICc2LzI5LzIwMDknLFxuICAgIF07XG4gICAgZm9yIChjb25zdCBkYXRlIG9mIGRhdGVzKSB7XG4gICAgICBjb25zdCByZXMgPSBwb3NpeFRvRGF0ZSgrKG5ldyBEYXRlKGRhdGUpKSk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwoYCR7cmVzLm1vbnRofS8ke3Jlcy5kYXl9LyR7cmVzLnllYXJ9YCwgZGF0ZSk7XG4gICAgfVxuICB9KTtcblxuICBkZXNjcmliZSgnZGVmZXJyYWJsZSBzaG91bGQnLCAoKSA9PiB7XG4gICAgaXQoJ3Jlc29sdmUnLCBhc3luYygpID0+IHtcbiAgICAgIGxldCBydW5zID0gZmFsc2U7XG4gICAgICBjb25zdCBkZWZlcnJhYmxlID0gbmV3IERlZmVycmVkPG51bWJlcj4oKTtcbiAgICAgIGNvbnN0IHByb21pc2UgPSBkZWZlcnJhYmxlLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBydW5zID0gdHJ1ZTtcbiAgICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKDEsIHJlcyk7XG4gICAgICB9KTtcbiAgICAgIGRlZmVycmFibGUucmVzb2x2ZSgxKTtcbiAgICAgIGF3YWl0IHByb21pc2U7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwodHJ1ZSwgcnVucyk7XG4gICAgfSk7XG5cbiAgICBpdCgncmVqZWN0JywgYXN5bmMoKSA9PiB7XG4gICAgICBsZXQgcnVucyA9IGZhbHNlO1xuICAgICAgY29uc3QgZGVmZXJyYWJsZSA9IG5ldyBEZWZlcnJlZDxudW1iZXI+KCk7XG4gICAgICBjb25zdCBwcm9taXNlID0gZGVmZXJyYWJsZS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIHJ1bnMgPSB0cnVlO1xuICAgICAgICBhc3NlcnQuc3RyaWN0RXF1YWwoJ1Rlc3QnLCBlcnIubWVzc2FnZSk7XG4gICAgICB9KTtcbiAgICAgIGRlZmVycmFibGUucmVqZWN0KG5ldyBFcnJvcignVGVzdCcpKTtcbiAgICAgIGF3YWl0IHByb21pc2U7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwodHJ1ZSwgcnVucyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdzdHJpbmcgbWV0aG9kcyBzaG91bGQnLCAoKSA9PiB7XG4gICAgaXQoJ3J1biB0b0xvd2VyQ2FzZScsICgpID0+IHtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh0b0xvd2VyQ2FzZSgnV09SS1MnKSwgJ3dvcmtzJyk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwodG9Mb3dlckNhc2UoJ3dvcmtzJyksICd3b3JrcycpO1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHRvTG93ZXJDYXNlKCdXb1JreiA0LUEgYzBeXlAxM1ggc1RSaW5nJyksICd3b3JreiA0LWEgYzBeXnAxM3ggc3RyaW5nJyk7XG4gICAgfSk7XG5cbiAgICBpdCgncnVuIHRvVXBwZXJDYXNlJywgKCkgPT4ge1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHRvVXBwZXJDYXNlKCdXT1JLUycpLCAnV09SS1MnKTtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh0b1VwcGVyQ2FzZSgnd29ya3MnKSwgJ1dPUktTJyk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwodG9VcHBlckNhc2UoJ1dvUmt6IDQtQSBjMF5eUDEzWCBzVFJpbmcnKSwgJ1dPUktaIDQtQSBDMF5eUDEzWCBTVFJJTkcnKTtcbiAgICB9KTtcblxuICAgIGl0KCdydW4gdG9TbmFrZUNhc2UnLCAoKSA9PiB7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwodG9TbmFrZUNhc2UoJ1dPUktTJyksICd3b3JrcycpO1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHRvU25ha2VDYXNlKCd3b3JrcycpLCAnd29ya3MnKTtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh0b1NuYWtlQ2FzZSgnV29Sa3ogNC1BIGMwXl5QMTNYIHNUUmluZycpLCAnd29fcmt6XzRfYV9jMF9wXzEzX3hfc190X3JpbmcnKTtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh0b1NuYWtlQ2FzZSgna2ViYWItY2FzZScpLCAna2ViYWJfY2FzZScpO1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHRvU25ha2VDYXNlKCdzbmFrZV9jYXNlJyksICdzbmFrZV9jYXNlJyk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwodG9TbmFrZUNhc2UoJ1RpdGxlIENhc2UnKSwgJ3RpdGxlX2Nhc2UnKTtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh0b1NuYWtlQ2FzZSgnUGFzY2FsQ2FzZScpLCAncGFzY2FsX2Nhc2UnKTtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh0b1NuYWtlQ2FzZSgnY2FtYWxDYXNlJyksICdjYW1hbF9jYXNlJyk7XG4gICAgfSk7XG5cbiAgICBpdCgncnVuIHRvS2ViYWJDYXNlJywgKCkgPT4ge1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHRvS2ViYWJDYXNlKCdXT1JLUycpLCAnd29ya3MnKTtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh0b0tlYmFiQ2FzZSgnd29ya3MnKSwgJ3dvcmtzJyk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwodG9LZWJhYkNhc2UoJ2tlYmFiLWNhc2UnKSwgJ2tlYmFiLWNhc2UnKTtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh0b0tlYmFiQ2FzZSgnc25ha2VfY2FzZScpLCAnc25ha2UtY2FzZScpO1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHRvS2ViYWJDYXNlKCdUaXRsZSBDYXNlJyksICd0aXRsZS1jYXNlJyk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwodG9LZWJhYkNhc2UoJ1Bhc2NhbENhc2UnKSwgJ3Bhc2NhbC1jYXNlJyk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwodG9LZWJhYkNhc2UoJ2NhbWFsQ2FzZScpLCAnY2FtYWwtY2FzZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3J1biB0b1RpdGxlQ2FzZScsICgpID0+IHtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh0b1RpdGxlQ2FzZSgnV09SS1MnKSwgJ1dPUktTJyk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwodG9UaXRsZUNhc2UoJ3dvcmtzJyksICdXb3JrcycpO1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHRvVGl0bGVDYXNlKCdrZWJhYi1jYXNlJyksICdLZWJhYiBDYXNlJyk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwodG9UaXRsZUNhc2UoJ3NuYWtlX2Nhc2UnKSwgJ1NuYWtlIENhc2UnKTtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh0b1RpdGxlQ2FzZSgnVGl0bGUgQ2FzZScpLCAnVGl0bGUgQ2FzZScpO1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHRvVGl0bGVDYXNlKCdQYXNjYWxDYXNlJyksICdQYXNjYWwgQ2FzZScpO1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHRvVGl0bGVDYXNlKCdjYW1hbENhc2UnKSwgJ0NhbWFsIENhc2UnKTtcbiAgICB9KTtcblxuICAgIGl0KCdydW4gdG9QYXNjYWxDYXNlJywgKCkgPT4ge1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHRvUGFzY2FsQ2FzZSgnV09SS1MnKSwgJ1dvcmtzJyk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwodG9QYXNjYWxDYXNlKCd3b3JrcycpLCAnV29ya3MnKTtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh0b1Bhc2NhbENhc2UoJ2tlYmFiLWNhc2UnKSwgJ0tlYmFiQ2FzZScpO1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHRvUGFzY2FsQ2FzZSgnc25ha2VfY2FzZScpLCAnU25ha2VDYXNlJyk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwodG9QYXNjYWxDYXNlKCdUaXRsZSBDYXNlJyksICdUaXRsZUNhc2UnKTtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh0b1Bhc2NhbENhc2UoJ1Bhc2NhbENhc2UnKSwgJ1Bhc2NhbENhc2UnKTtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh0b1Bhc2NhbENhc2UoJ2NhbWFsQ2FzZScpLCAnQ2FtYWxDYXNlJyk7XG4gICAgfSk7XG5cbiAgICBpdCgncnVuIHRvQ2FtZWxDYXNlJywgKCkgPT4ge1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHRvQ2FtZWxDYXNlKCdXT1JLUycpLCAnd29ya3MnKTtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh0b0NhbWVsQ2FzZSgnd29ya3MnKSwgJ3dvcmtzJyk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwodG9DYW1lbENhc2UoJ2tlYmFiLWNhc2UnKSwgJ2tlYmFiQ2FzZScpO1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHRvQ2FtZWxDYXNlKCdzbmFrZV9jYXNlJyksICdzbmFrZUNhc2UnKTtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh0b0NhbWVsQ2FzZSgnVGl0bGUgQ2FzZScpLCAndGl0bGVDYXNlJyk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwodG9DYW1lbENhc2UoJ1Bhc2NhbENhc2UnKSwgJ3Bhc2NhbENhc2UnKTtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh0b0NhbWVsQ2FzZSgnY2FtYWxDYXNlJyksICdjYW1hbENhc2UnKTtcbiAgICB9KTtcblxuICAgIGl0KCdydW4gdG9OYW1lQ2FzZScsICgpID0+IHtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh0b05hbWVDYXNlKCdXT1JLUycpLCAnV29ya3MnKTtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh0b05hbWVDYXNlKCd3b3JrcycpLCAnV29ya3MnKTtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh0b05hbWVDYXNlKCdrZWJhYi1jYXNlJyksICdLZWJhYi1DYXNlJyk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwodG9OYW1lQ2FzZSgnc25ha2VfY2FzZScpLCAnU25ha2VDYXNlJyk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwodG9OYW1lQ2FzZSgnVGl0bGUgQ2FzZScpLCAnVGl0bGUgQ2FzZScpO1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHRvTmFtZUNhc2UoJ1Bhc2NhbENhc2UnKSwgJ1Bhc2NhbENhc2UnKTtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh0b05hbWVDYXNlKCdjYW1hbENhc2UnKSwgJ0NhbWFsQ2FzZScpO1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHRvTmFtZUNhc2UoXCJvJ0ZhcnJlbGxcIiksIFwiTydGYXJyZWxsXCIpO1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHRvTmFtZUNhc2UoJ2VtaWx5IGJha2VyLXdoaXRlJyksICdFbWlseSBCYWtlci1XaGl0ZScpO1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHRvTmFtZUNhc2UoJ0tlbGx5Um9zZSBmbHV0eScpLCAnS2VsbHlSb3NlIEZsdXR5Jyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdMb2NhbCBIb3VycyB0byBVVEMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBjb252ZXJ0IGxvY2FsIGhvdXJzIHRvIHV0YyB3aGlsZSBtYWludGFpbmluZyBtaW51dGVzIGVsYXBzZWQnLCAoKSA9PiB7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwobG9jYWxIb3VyVG9VVEMoMi41KSwgMTAuNSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNvbnZlcnQgbG9jYWwgaG91cnMgdG8gdXRjIHdoaWxlIHdyYXBwaW5nIGZvciB0aGUgMjR0aCBob3VyIG1hcmsnLCAoKSA9PiB7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwobG9jYWxIb3VyVG9VVEMoMjIuNSksIDYuNSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNvbnZlcnQgbG9jYWwgaG91cnMgdG8gdXRjJywgKCkgPT4ge1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKGxvY2FsSG91clRvVVRDKDIyKSwgNik7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNvbnZlcnQgdXRjIGhvdXJzIHRvIGxvY2FsIHdoaWxlIG1haW50YWluaW5nIG1pbnV0ZXMgZWxhcHNlZCcsICgpID0+IHtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh1dGNIb3VyVG9Mb2NhbCgyLjUpLCAxOC41KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY29udmVydCB1dGMgaG91cnMgdG8gbG9jYWwgd2hpbGUgd3JhcHBpbmcgZm9yIHRoZSAyNHRoIGhvdXIgbWFyaycsICgpID0+IHtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh1dGNIb3VyVG9Mb2NhbCgyMi41KSwgMTQuNSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNvbnZlcnQgdXRjIGhvdXJzIHRvIGxvY2FsJywgKCkgPT4ge1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHV0Y0hvdXJUb0xvY2FsKDIyKSwgMTQpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl19