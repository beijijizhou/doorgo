/* global describe, it */
import * as assert from 'assert';
import * as fs from 'fs';
import * as path from 'path';
import { base64UrlDecode, base64UrlEncode, base85UuidDecode, base85UuidEncode, debounce, deepClone, Deferred, isUuid, localHourToUTC, md5, posixToDate, toCamelCase, toKebabCase, toLowerCase, toNameCase, toPascalCase, toSnakeCase, toTitleCase, toUpperCase, utcHourToLocal, uuid, validateEmail, } from '../src/index';
describe('Utils', () => {
    describe('debounce should', () => {
        it('delay a call', async () => {
            const first = Date.now();
            let second = 0;
            await debounce(() => second = Date.now(), 1000)();
            assert.ok(second - first >= 1000);
        });
        it('only call the function once', async () => {
            const first = Date.now();
            let second = 0;
            let count = 0;
            const func = debounce(() => {
                count++;
                second = Date.now();
            }, 1200);
            func();
            func();
            func();
            await func();
            assert.ok(second - first >= 1000);
            assert.strictEqual(count, 1);
        });
        it('no debounce memory leak', async function () {
            this.timeout(120000);
            const func = debounce((arr) => {
                arr[0] = arr[1];
            }, 1);
            const before = process.memoryUsage().heapUsed / 1024 / 1024;
            for (let i = 0; i < 2000; i++) {
                await func(new Array(1000000).fill(1));
            }
            global?.gc?.();
            await new Promise(resolve => setTimeout(resolve, 3000));
            const after = process.memoryUsage().heapUsed / 1024 / 1024;
            assert.ok(after <= before, 'memory usage does not grow with many debounce calls');
        });
    });
    it('runs md5', () => {
        assert.strictEqual(md5('hello'), '5d41402abc4b2a76b9719d911017c592');
        assert.strictEqual(md5('0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'), 'c1906fa4ec71ebdc02c49c5d19908a39');
        assert.strictEqual(md5(fs.readFileSync(path.join(__dirname, '../../../fixtures/share.jpg'), 'binary')), '7b55446ad872973c5db5006905cc92aa');
    });
    it('runs base64Url', () => {
        assert.strictEqual(base64UrlEncode('Adam Miller'), 'QWRhbSBNaWxsZXI');
        assert.strictEqual(base64UrlDecode(base64UrlEncode('Adam Miller')), 'Adam Miller');
        assert.strictEqual(base64UrlEncode('Kelly'), 'S2VsbHk');
        assert.strictEqual(base64UrlDecode(base64UrlEncode('Kelly')), 'Kelly');
    });
    it('runs base85UuidEncode / base85UuidEncode', () => {
        const id = '1d0d0699-7002-4273-b013-2a963852c388';
        const encoded = base85UuidEncode(id);
        assert.strictEqual(isUuid(id), true);
        assert.strictEqual(encoded.length, 20);
        assert.strictEqual(base85UuidDecode(encoded), id);
        for (let i = 0; i < 2000; i++) {
            const id = uuid();
            const encoded = base85UuidEncode(id);
            assert.strictEqual(isUuid(id), true);
            assert.strictEqual(encoded.length, 20);
            assert.strictEqual(base85UuidDecode(encoded), id);
        }
    });
    it('validates emails', () => {
        assert.ok(validateEmail('adam@universe.app'));
        assert.ok(validateEmail('adam+tag@universe.app'));
        assert.ok(!validateEmail('@universe.app'));
        assert.ok(!validateEmail('adam@universe'));
        assert.ok(!validateEmail('adam@universe.'));
        assert.ok(!validateEmail('superduperlongemailaddressthatistechnicallynotallowedsuperduperlongemailaddressthatistechnicallynotallowed@universe.app'));
        assert.ok(!validateEmail('INVALID'));
        assert.ok(!validateEmail(false));
        assert.ok(!validateEmail(100));
        assert.ok(!validateEmail(new Date()));
        assert.ok(!validateEmail({}));
    });
    it('deep clones', async () => {
        const obj = {
            a: 1,
            b: { c: 3 },
            d: [1, 2, { e: 5 }],
        };
        const clone = await deepClone(obj);
        assert.notStrictEqual(obj, clone);
        assert.deepStrictEqual(obj, clone);
    });
    it('converts posix to date', async () => {
        const dates = [
            '6/29/1991',
            '1/1/1900',
            '1/1/3030',
            '12/31/1845',
            '12/31/7082',
            '6/1/2009',
            '6/29/2009',
        ];
        for (const date of dates) {
            const res = posixToDate(+(new Date(date)));
            assert.strictEqual(`${res.month}/${res.day}/${res.year}`, date);
        }
    });
    describe('deferrable should', () => {
        it('resolve', async () => {
            let runs = false;
            const deferrable = new Deferred();
            const promise = deferrable.then((res) => {
                runs = true;
                assert.strictEqual(1, res);
            });
            deferrable.resolve(1);
            await promise;
            assert.strictEqual(true, runs);
        });
        it('reject', async () => {
            let runs = false;
            const deferrable = new Deferred();
            const promise = deferrable.catch((err) => {
                runs = true;
                assert.strictEqual('Test', err.message);
            });
            deferrable.reject(new Error('Test'));
            await promise;
            assert.strictEqual(true, runs);
        });
    });
    describe('string methods should', () => {
        it('run toLowerCase', () => {
            assert.strictEqual(toLowerCase('WORKS'), 'works');
            assert.strictEqual(toLowerCase('works'), 'works');
            assert.strictEqual(toLowerCase('WoRkz 4-A c0^^P13X sTRing'), 'workz 4-a c0^^p13x string');
        });
        it('run toUpperCase', () => {
            assert.strictEqual(toUpperCase('WORKS'), 'WORKS');
            assert.strictEqual(toUpperCase('works'), 'WORKS');
            assert.strictEqual(toUpperCase('WoRkz 4-A c0^^P13X sTRing'), 'WORKZ 4-A C0^^P13X STRING');
        });
        it('run toSnakeCase', () => {
            assert.strictEqual(toSnakeCase('WORKS'), 'works');
            assert.strictEqual(toSnakeCase('works'), 'works');
            assert.strictEqual(toSnakeCase('WoRkz 4-A c0^^P13X sTRing'), 'wo_rkz_4_a_c0_p_13_x_s_t_ring');
            assert.strictEqual(toSnakeCase('kebab-case'), 'kebab_case');
            assert.strictEqual(toSnakeCase('snake_case'), 'snake_case');
            assert.strictEqual(toSnakeCase('Title Case'), 'title_case');
            assert.strictEqual(toSnakeCase('PascalCase'), 'pascal_case');
            assert.strictEqual(toSnakeCase('camalCase'), 'camal_case');
        });
        it('run toKebabCase', () => {
            assert.strictEqual(toKebabCase('WORKS'), 'works');
            assert.strictEqual(toKebabCase('works'), 'works');
            assert.strictEqual(toKebabCase('kebab-case'), 'kebab-case');
            assert.strictEqual(toKebabCase('snake_case'), 'snake-case');
            assert.strictEqual(toKebabCase('Title Case'), 'title-case');
            assert.strictEqual(toKebabCase('PascalCase'), 'pascal-case');
            assert.strictEqual(toKebabCase('camalCase'), 'camal-case');
        });
        it('run toTitleCase', () => {
            assert.strictEqual(toTitleCase('WORKS'), 'WORKS');
            assert.strictEqual(toTitleCase('works'), 'Works');
            assert.strictEqual(toTitleCase('kebab-case'), 'Kebab Case');
            assert.strictEqual(toTitleCase('snake_case'), 'Snake Case');
            assert.strictEqual(toTitleCase('Title Case'), 'Title Case');
            assert.strictEqual(toTitleCase('PascalCase'), 'Pascal Case');
            assert.strictEqual(toTitleCase('camalCase'), 'Camal Case');
        });
        it('run toPascalCase', () => {
            assert.strictEqual(toPascalCase('WORKS'), 'Works');
            assert.strictEqual(toPascalCase('works'), 'Works');
            assert.strictEqual(toPascalCase('kebab-case'), 'KebabCase');
            assert.strictEqual(toPascalCase('snake_case'), 'SnakeCase');
            assert.strictEqual(toPascalCase('Title Case'), 'TitleCase');
            assert.strictEqual(toPascalCase('PascalCase'), 'PascalCase');
            assert.strictEqual(toPascalCase('camalCase'), 'CamalCase');
        });
        it('run toCamelCase', () => {
            assert.strictEqual(toCamelCase('WORKS'), 'works');
            assert.strictEqual(toCamelCase('works'), 'works');
            assert.strictEqual(toCamelCase('kebab-case'), 'kebabCase');
            assert.strictEqual(toCamelCase('snake_case'), 'snakeCase');
            assert.strictEqual(toCamelCase('Title Case'), 'titleCase');
            assert.strictEqual(toCamelCase('PascalCase'), 'pascalCase');
            assert.strictEqual(toCamelCase('camalCase'), 'camalCase');
        });
        it('run toNameCase', () => {
            assert.strictEqual(toNameCase('WORKS'), 'Works');
            assert.strictEqual(toNameCase('works'), 'Works');
            assert.strictEqual(toNameCase('kebab-case'), 'Kebab-Case');
            assert.strictEqual(toNameCase('snake_case'), 'SnakeCase');
            assert.strictEqual(toNameCase('Title Case'), 'Title Case');
            assert.strictEqual(toNameCase('PascalCase'), 'PascalCase');
            assert.strictEqual(toNameCase('camalCase'), 'CamalCase');
            assert.strictEqual(toNameCase("o'Farrell"), "O'Farrell");
            assert.strictEqual(toNameCase('emily baker-white'), 'Emily Baker-White');
            assert.strictEqual(toNameCase('KellyRose fluty'), 'KellyRose Fluty');
        });
    });
    describe('Local Hours to UTC', () => {
        it('should convert local hours to utc while maintaining minutes elapsed', () => {
            assert.strictEqual(localHourToUTC(2.5), 10.5);
        });
        it('should convert local hours to utc while wrapping for the 24th hour mark', () => {
            assert.strictEqual(localHourToUTC(22.5), 6.5);
        });
        it('should convert local hours to utc', () => {
            assert.strictEqual(localHourToUTC(22), 6);
        });
        it('should convert utc hours to local while maintaining minutes elapsed', () => {
            assert.strictEqual(utcHourToLocal(2.5), 18.5);
        });
        it('should convert utc hours to local while wrapping for the 24th hour mark', () => {
            assert.strictEqual(utcHourToLocal(22.5), 14.5);
        });
        it('should convert utc hours to local', () => {
            assert.strictEqual(utcHourToLocal(22), 14);
        });
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi90ZXN0L2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHlCQUF5QjtBQUN6QixPQUFPLEtBQUssTUFBTSxNQUFNLFFBQVEsQ0FBQztBQUNqQyxPQUFPLEtBQUssRUFBRSxNQUFNLElBQUksQ0FBQztBQUN6QixPQUFPLEtBQUssSUFBSSxNQUFNLE1BQU0sQ0FBQztBQUU3QixPQUFPLEVBQ0wsZUFBZSxFQUNmLGVBQWUsRUFDZixnQkFBZ0IsRUFDaEIsZ0JBQWdCLEVBQ2hCLFFBQVEsRUFDUixTQUFTLEVBQ1QsUUFBUSxFQUNSLE1BQU0sRUFDTixjQUFjLEVBQ2QsR0FBRyxFQUNILFdBQVcsRUFDWCxXQUFXLEVBQ1gsV0FBVyxFQUNYLFdBQVcsRUFDWCxVQUFVLEVBQ1YsWUFBWSxFQUNaLFdBQVcsRUFDWCxXQUFXLEVBQ1gsV0FBVyxFQUNYLGNBQWMsRUFDZCxJQUFJLEVBQ0osYUFBYSxHQUNkLE1BQU0sY0FBYyxDQUFDO0FBRXRCLFFBQVEsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFO0lBQ3JCLFFBQVEsQ0FBQyxpQkFBaUIsRUFBRSxHQUFHLEVBQUU7UUFDL0IsRUFBRSxDQUFDLGNBQWMsRUFBRSxLQUFLLElBQUcsRUFBRTtZQUMzQixNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7WUFDekIsSUFBSSxNQUFNLEdBQUcsQ0FBQyxDQUFDO1lBQ2YsTUFBTSxRQUFRLENBQUMsR0FBRyxFQUFFLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUUsRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDO1lBQ2xELE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxHQUFHLEtBQUssSUFBSSxJQUFJLENBQUMsQ0FBQztRQUNwQyxDQUFDLENBQUMsQ0FBQztRQUNILEVBQUUsQ0FBQyw2QkFBNkIsRUFBRSxLQUFLLElBQUcsRUFBRTtZQUMxQyxNQUFN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WUFDMUIsTUFBTSxDQUFDLFdBQVcsQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7WUFDbkQsTUFBTSxDQUFDLFdBQVcsQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7WUFDbkQsTUFBTSxDQUFDLFdBQVcsQ0FBQyxZQUFZLENBQUMsWUFBWSxDQUFDLEVBQUUsV0FBVyxDQUFDLENBQUM7WUFDNUQsTUFBTSxDQUFDLFdBQVcsQ0FBQyxZQUFZLENBQUMsWUFBWSxDQUFDLEVBQUUsV0FBVyxDQUFDLENBQUM7WUFDNUQsTUFBTSxDQUFDLFdBQVcsQ0FBQyxZQUFZLENBQUMsWUFBWSxDQUFDLEVBQUUsV0FBVyxDQUFDLENBQUM7WUFDNUQsTUFBTSxDQUFDLFdBQVcsQ0FBQyxZQUFZLENBQUMsWUFBWSxDQUFDLEVBQUUsWUFBWSxDQUFDLENBQUM7WUFDN0QsTUFBTSxDQUFDLFdBQVcsQ0FBQyxZQUFZLENBQUMsV0FBVyxDQUFDLEVBQUUsV0FBVyxDQUFDLENBQUM7UUFDN0QsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsaUJBQWlCLEVBQUUsR0FBRyxFQUFFO1lBQ3pCLE1BQU0sQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1lBQ2xELE1BQU0sQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1lBQ2xELE1BQU0sQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLFlBQVksQ0FBQyxFQUFFLFdBQVcsQ0FBQyxDQUFDO1lBQzNELE1BQU0sQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLFlBQVksQ0FBQyxFQUFFLFdBQVcsQ0FBQyxDQUFDO1lBQzNELE1BQU0sQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLFlBQVksQ0FBQyxFQUFFLFdBQVcsQ0FBQyxDQUFDO1lBQzNELE1BQU0sQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLFlBQVksQ0FBQyxFQUFFLFlBQVksQ0FBQyxDQUFDO1lBQzVELE1BQU0sQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxFQUFFLFdBQVcsQ0FBQyxDQUFDO1FBQzVELENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLGdCQUFnQixFQUFFLEdBQUcsRUFBRTtZQUN4QixNQUFNLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQztZQUNqRCxNQUFNLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQztZQUNqRCxNQUFNLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxZQUFZLENBQUMsRUFBRSxZQUFZLENBQUMsQ0FBQztZQUMzRCxNQUFNLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxZQUFZLENBQUMsRUFBRSxXQUFXLENBQUMsQ0FBQztZQUMxRCxNQUFNLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxZQUFZLENBQUMsRUFBRSxZQUFZLENBQUMsQ0FBQztZQUMzRCxNQUFNLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxZQUFZLENBQUMsRUFBRSxZQUFZLENBQUMsQ0FBQztZQUMzRCxNQUFNLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxXQUFXLENBQUMsRUFBRSxXQUFXLENBQUMsQ0FBQztZQUN6RCxNQUFNLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxXQUFXLENBQUMsRUFBRSxXQUFXLENBQUMsQ0FBQztZQUN6RCxNQUFNLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxtQkFBbUIsQ0FBQyxFQUFFLG1CQUFtQixDQUFDLENBQUM7WUFDekUsTUFBTSxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsaUJBQWlCLENBQUMsRUFBRSxpQkFBaUIsQ0FBQyxDQUFDO1FBQ3ZFLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMsb0JBQW9CLEVBQUUsR0FBRyxFQUFFO1FBQ2xDLEVBQUUsQ0FBQyxxRUFBcUUsRUFBRSxHQUFHLEVBQUU7WUFDN0UsTUFBTSxDQUFDLFdBQVcsQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDaEQsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMseUVBQXlFLEVBQUUsR0FBRyxFQUFFO1lBQ2pGLE1BQU0sQ0FBQyxXQUFXLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ2hELENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLG1DQUFtQyxFQUFFLEdBQUcsRUFBRTtZQUMzQyxNQUFNLENBQUMsV0FBVyxDQUFDLGNBQWMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUM1QyxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxxRUFBcUUsRUFBRSxHQUFHLEVBQUU7WUFDN0UsTUFBTSxDQUFDLFdBQVcsQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDaEQsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMseUVBQXlFLEVBQUUsR0FBRyxFQUFFO1lBQ2pGLE1BQU0sQ0FBQyxXQUFXLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2pELENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLG1DQUFtQyxFQUFFLEdBQUcsRUFBRTtZQUMzQyxNQUFNLENBQUMsV0FBVyxDQUFDLGNBQWMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUM3QyxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBnbG9iYWwgZGVzY3JpYmUsIGl0ICovXG5pbXBvcnQgKiBhcyBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcbmltcG9ydCAqIGFzIGZzIGZyb20gJ2ZzJztcbmltcG9ydCAqIGFzIHBhdGggZnJvbSAncGF0aCc7XG5cbmltcG9ydCB7XG4gIGJhc2U2NFVybERlY29kZSxcbiAgYmFzZTY0VXJsRW5jb2RlLFxuICBiYXNlODVVdWlkRGVjb2RlLFxuICBiYXNlODVVdWlkRW5jb2RlLFxuICBkZWJvdW5jZSxcbiAgZGVlcENsb25lLFxuICBEZWZlcnJlZCxcbiAgaXNVdWlkLFxuICBsb2NhbEhvdXJUb1VUQyxcbiAgbWQ1LFxuICBwb3NpeFRvRGF0ZSxcbiAgdG9DYW1lbENhc2UsXG4gIHRvS2ViYWJDYXNlLFxuICB0b0xvd2VyQ2FzZSxcbiAgdG9OYW1lQ2FzZSxcbiAgdG9QYXNjYWxDYXNlLFxuICB0b1NuYWtlQ2FzZSxcbiAgdG9UaXRsZUNhc2UsXG4gIHRvVXBwZXJDYXNlLFxuICB1dGNIb3VyVG9Mb2NhbCxcbiAgdXVpZCxcbiAgdmFsaWRhdGVFbWFpbCxcbn0gZnJvbSAnLi4vc3JjL2luZGV4JztcblxuZGVzY3JpYmUoJ1V0aWxzJywgKCkgPT4ge1xuICBkZXNjcmliZSgnZGVib3VuY2Ugc2hvdWxkJywgKCkgPT4ge1xuICAgIGl0KCdkZWxheSBhIGNhbGwnLCBhc3luYygpID0+IHtcbiAgICAgIGNvbnN0IGZpcnN0ID0gRGF0ZS5ub3coKTtcbiAgICAgIGxldCBzZWNvbmQgPSAwO1xuICAgICAgYXdhaXQgZGVib3VuY2UoKCkgPT4gc2Vjb25kID0gRGF0ZS5ub3coKSwgMTAwMCkoKTtcbiAgICAgIGFzc2VydC5vayhzZWNvbmQgLSBmaXJzdCA+PSAxMDAwKTtcbiAgICB9KTtcbiAgICBpdCgnb25seSBjYWxsIHRoZSBmdW5jdGlvbiBvbmNlJywgYXN5bmMoKSA9PiB7XG4gICAgICBjb25zdCBmaXJzdCA9IERhdGUubm93KCk7XG4gICAgICBsZXQgc2Vjb25kID0gMDtcbiAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICBjb25zdCBmdW5jID0gZGVib3VuY2UoKCkgPT4ge1xuICAgICAgICBjb3VudCsrO1xuICAgICAgICBzZWNvbmQgPSBEYXRlLm5vdygpO1xuICAgICAgfSwgMTIwMCk7XG4gICAgICBmdW5jKCk7XG4gICAgICBmdW5jKCk7XG4gICAgICBmdW5jKCk7XG4gICAgICBhd2FpdCBmdW5jKCk7XG4gICAgICBhc3NlcnQub2soc2Vjb25kIC0gZmlyc3QgPj0gMTAwMCk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwoY291bnQsIDEpO1xuICAgIH0pO1xuICAgIGl0KCdubyBkZWJvdW5jZSBtZW1vcnkgbGVhaycsIGFzeW5jIGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy50aW1lb3V0KDEyMDAwMCk7XG4gICAgICBjb25zdCBmdW5jID0gZGVib3VuY2UoKGFycjogbnVtYmVyW10pID0+IHtcbiAgICAgICAgYXJyWzBdID0gYXJyWzFdO1xuICAgICAgfSwgMSk7XG4gICAgICBjb25zdCBiZWZvcmUgPSBwcm9jZXNzLm1lbW9yeVVzYWdlKCkuaGVhcFVzZWQgLyAxMDI0IC8gMTAyNDtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMjAwMDsgaSsrKSB7XG4gICAgICAgIGF3YWl0IGZ1bmMobmV3IEFycmF5KDEwMDAwMDApLmZpbGwoMSkpO1xuICAgICAgfVxuICAgICAgZ2xvYmFsPy5nYz8uKCk7XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMzAwMCkpO1xuICAgICAgY29uc3QgYWZ0ZXIgPSBwcm9jZXNzLm1lbW9yeVVzYWdlKCkuaGVhcFVzZWQgLyAxMDI0IC8gMTAyNDtcbiAgICAgIGFzc2VydC5vayhhZnRlciA8PSBiZWZvcmUsICdtZW1vcnkgdXNhZ2UgZG9lcyBub3QgZ3JvdyB3aXRoIG1hbnkgZGVib3VuY2UgY2FsbHMnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoJ3J1bnMgbWQ1JywgKCkgPT4ge1xuICAgIGFzc2VydC5zdHJpY3RFcXVhbChtZDUoJ2hlbGxvJyksICc1ZDQxNDAyYWJjNGIyYTc2Yjk3MTlkOTExMDE3YzU5MicpO1xuICAgIGFzc2VydC5zdHJpY3RFcXVhbChtZDUoJzAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaMDEyMzQ1Njc4OScpLCAnYzE5MDZmYTRlYzcxZWJkYzAyYzQ5YzVkMTk5MDhhMzknKTtcbiAgICBhc3NlcnQuc3RyaWN0RXF1YWwobWQ1KGZzLnJlYWRGaWxlU3luYyhwYXRoLmpvaW4oX19kaXJuYW1lLCAnLi4vLi4vLi4vZml4dHVyZXMvc2hhcmUuanBnJyksICdiaW5hcnknKSksICc3YjU1NDQ2YWQ4NzI5NzNjNWRiNTAwNjkwNWNjOTJhYScpO1xuICB9KTtcblxuICBpdCgncnVucyBiYXNlNjRVcmwnLCAoKSA9PiB7XG4gICAgYXNzZXJ0LnN0cmljdEVxdWFsKGJhc2U2NFVybEVuY29kZSgnQWRhbSBNaWxsZXInKSwgJ1FXUmhiU0JOYVd4c1pYSScpO1xuICAgIGFzc2VydC5zdHJpY3RFcXVhbChiYXNlNjRVcmxEZWNvZGUoYmFzZTY0VXJsRW5jb2RlKCdBZGFtIE1pbGxlcicpKSwgJ0FkYW0gTWlsbGVyJyk7XG5cbiAgICBhc3NlcnQuc3RyaWN0RXF1YWwoYmFzZTY0VXJsRW5jb2RlKCdLZWxseScpLCAnUzJWc2JIaycpO1xuICAgIGFzc2VydC5zdHJpY3RFcXVhbChiYXNlNjRVcmxEZWNvZGUoYmFzZTY0VXJsRW5jb2RlKCdLZWxseScpKSwgJ0tlbGx5Jyk7XG4gIH0pO1xuXG4gIGl0KCdydW5zIGJhc2U4NVV1aWRFbmNvZGUgLyBiYXNlODVVdWlkRW5jb2RlJywgKCkgPT4ge1xuICAgIGNvbnN0IGlkID0gJzFkMGQwNjk5LTcwMDItNDI3My1iMDEzLTJhOTYzODUyYzM4OCc7XG4gICAgY29uc3QgZW5jb2RlZCA9IGJhc2U4NVV1aWRFbmNvZGUoaWQpO1xuICAgIGFzc2VydC5zdHJpY3RFcXVhbChpc1V1aWQoaWQpLCB0cnVlKTtcbiAgICBhc3NlcnQuc3RyaWN0RXF1YWwoZW5jb2RlZC5sZW5ndGgsIDIwKTtcbiAgICBhc3NlcnQuc3RyaWN0RXF1YWwoYmFzZTg1VXVpZERlY29kZShlbmNvZGVkKSwgaWQpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMjAwMDsgaSsrKSB7XG4gICAgICBjb25zdCBpZCA9IHV1aWQoKTtcbiAgICAgIGNvbnN0IGVuY29kZWQgPSBiYXNlODVVdWlkRW5jb2RlKGlkKTtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbChpc1V1aWQoaWQpLCB0cnVlKTtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbChlbmNvZGVkLmxlbmd0aCwgMjApO1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKGJhc2U4NVV1aWREZWNvZGUoZW5jb2RlZCksIGlkKTtcbiAgICB9XG4gIH0pO1xuXG4gIGl0KCd2YWxpZGF0ZXMgZW1haWxzJywgKCkgPT4ge1xuICAgIGFzc2VydC5vayh2YWxpZGF0ZUVtYWlsKCdhZGFtQHVuaXZlcnNlLmFwcCcpKTtcbiAgICBhc3NlcnQub2sodmFsaWRhdGVFbWFpbCgnYWRhbSt0YWdAdW5pdmVyc2UuYXBwJykpO1xuICAgIGFzc2VydC5vayghdmFsaWRhdGVFbWFpbCgnQHVuaXZlcnNlLmFwcCcpKTtcbiAgICBhc3NlcnQub2soIXZhbGlkYXRlRW1haWwoJ2FkYW1AdW5pdmVyc2UnKSk7XG4gICAgYXNzZXJ0Lm9rKCF2YWxpZGF0ZUVtYWlsKCdhZGFtQHVuaXZlcnNlLicpKTtcbiAgICBhc3NlcnQub2soIXZhbGlkYXRlRW1haWwoJ3N1cGVyZHVwZXJsb25nZW1haWxhZGRyZXNzdGhhdGlzdGVjaG5pY2FsbHlub3RhbGxvd2Vkc3VwZXJkdXBlcmxvbmdlbWFpbGFkZHJlc3N0aGF0aXN0ZWNobmljYWxseW5vdGFsbG93ZWRAdW5pdmVyc2UuYXBwJykpO1xuICAgIGFzc2VydC5vayghdmFsaWRhdGVFbWFpbCgnSU5WQUxJRCcpKTtcbiAgICBhc3NlcnQub2soIXZhbGlkYXRlRW1haWwoZmFsc2UpKTtcbiAgICBhc3NlcnQub2soIXZhbGlkYXRlRW1haWwoMTAwKSk7XG4gICAgYXNzZXJ0Lm9rKCF2YWxpZGF0ZUVtYWlsKG5ldyBEYXRlKCkpKTtcbiAgICBhc3NlcnQub2soIXZhbGlkYXRlRW1haWwoe30pKTtcbiAgfSk7XG5cbiAgaXQoJ2RlZXAgY2xvbmVzJywgYXN5bmMoKSA9PiB7XG4gICAgY29uc3Qgb2JqID0ge1xuICAgICAgYTogMSxcbiAgICAgIGI6IHsgYzogMyB9LFxuICAgICAgZDogWyAxLCAyLCB7IGU6IDUgfV0sXG4gICAgfTtcbiAgICBjb25zdCBjbG9uZSA9IGF3YWl0IGRlZXBDbG9uZShvYmopO1xuICAgIGFzc2VydC5ub3RTdHJpY3RFcXVhbChvYmosIGNsb25lKTtcbiAgICBhc3NlcnQuZGVlcFN0cmljdEVxdWFsKG9iaiwgY2xvbmUpO1xuICB9KTtcblxuICBpdCgnY29udmVydHMgcG9zaXggdG8gZGF0ZScsIGFzeW5jKCkgPT4ge1xuICAgIGNvbnN0IGRhdGVzID0gW1xuICAgICAgJzYvMjkvMTk5MScsXG4gICAgICAnMS8xLzE5MDAnLFxuICAgICAgJzEvMS8zMDMwJyxcbiAgICAgICcxMi8zMS8xODQ1JyxcbiAgICAgICcxMi8zMS83MDgyJyxcbiAgICAgICc2LzEvMjAwOScsXG4gICAgICAnNi8yOS8yMDA5JyxcbiAgICBdO1xuICAgIGZvciAoY29uc3QgZGF0ZSBvZiBkYXRlcykge1xuICAgICAgY29uc3QgcmVzID0gcG9zaXhUb0RhdGUoKyhuZXcgRGF0ZShkYXRlKSkpO1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKGAke3Jlcy5tb250aH0vJHtyZXMuZGF5fS8ke3Jlcy55ZWFyfWAsIGRhdGUpO1xuICAgIH1cbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2RlZmVycmFibGUgc2hvdWxkJywgKCkgPT4ge1xuICAgIGl0KCdyZXNvbHZlJywgYXN5bmMoKSA9PiB7XG4gICAgICBsZXQgcnVucyA9IGZhbHNlO1xuICAgICAgY29uc3QgZGVmZXJyYWJsZSA9IG5ldyBEZWZlcnJlZDxudW1iZXI+KCk7XG4gICAgICBjb25zdCBwcm9taXNlID0gZGVmZXJyYWJsZS50aGVuKChyZXMpID0+IHtcbiAgICAgICAgcnVucyA9IHRydWU7XG4gICAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCgxLCByZXMpO1xuICAgICAgfSk7XG4gICAgICBkZWZlcnJhYmxlLnJlc29sdmUoMSk7XG4gICAgICBhd2FpdCBwcm9taXNlO1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHRydWUsIHJ1bnMpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3JlamVjdCcsIGFzeW5jKCkgPT4ge1xuICAgICAgbGV0IHJ1bnMgPSBmYWxzZTtcbiAgICAgIGNvbnN0IGRlZmVycmFibGUgPSBuZXcgRGVmZXJyZWQ8bnVtYmVyPigpO1xuICAgICAgY29uc3QgcHJvbWlzZSA9IGRlZmVycmFibGUuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBydW5zID0gdHJ1ZTtcbiAgICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKCdUZXN0JywgZXJyLm1lc3NhZ2UpO1xuICAgICAgfSk7XG4gICAgICBkZWZlcnJhYmxlLnJlamVjdChuZXcgRXJyb3IoJ1Rlc3QnKSk7XG4gICAgICBhd2FpdCBwcm9taXNlO1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHRydWUsIHJ1bnMpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnc3RyaW5nIG1ldGhvZHMgc2hvdWxkJywgKCkgPT4ge1xuICAgIGl0KCdydW4gdG9Mb3dlckNhc2UnLCAoKSA9PiB7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwodG9Mb3dlckNhc2UoJ1dPUktTJyksICd3b3JrcycpO1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHRvTG93ZXJDYXNlKCd3b3JrcycpLCAnd29ya3MnKTtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh0b0xvd2VyQ2FzZSgnV29Sa3ogNC1BIGMwXl5QMTNYIHNUUmluZycpLCAnd29ya3ogNC1hIGMwXl5wMTN4IHN0cmluZycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3J1biB0b1VwcGVyQ2FzZScsICgpID0+IHtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh0b1VwcGVyQ2FzZSgnV09SS1MnKSwgJ1dPUktTJyk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwodG9VcHBlckNhc2UoJ3dvcmtzJyksICdXT1JLUycpO1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHRvVXBwZXJDYXNlKCdXb1JreiA0LUEgYzBeXlAxM1ggc1RSaW5nJyksICdXT1JLWiA0LUEgQzBeXlAxM1ggU1RSSU5HJyk7XG4gICAgfSk7XG5cbiAgICBpdCgncnVuIHRvU25ha2VDYXNlJywgKCkgPT4ge1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHRvU25ha2VDYXNlKCdXT1JLUycpLCAnd29ya3MnKTtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh0b1NuYWtlQ2FzZSgnd29ya3MnKSwgJ3dvcmtzJyk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwodG9TbmFrZUNhc2UoJ1dvUmt6IDQtQSBjMF5eUDEzWCBzVFJpbmcnKSwgJ3dvX3Jrel80X2FfYzBfcF8xM194X3NfdF9yaW5nJyk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwodG9TbmFrZUNhc2UoJ2tlYmFiLWNhc2UnKSwgJ2tlYmFiX2Nhc2UnKTtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh0b1NuYWtlQ2FzZSgnc25ha2VfY2FzZScpLCAnc25ha2VfY2FzZScpO1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHRvU25ha2VDYXNlKCdUaXRsZSBDYXNlJyksICd0aXRsZV9jYXNlJyk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwodG9TbmFrZUNhc2UoJ1Bhc2NhbENhc2UnKSwgJ3Bhc2NhbF9jYXNlJyk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwodG9TbmFrZUNhc2UoJ2NhbWFsQ2FzZScpLCAnY2FtYWxfY2FzZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3J1biB0b0tlYmFiQ2FzZScsICgpID0+IHtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh0b0tlYmFiQ2FzZSgnV09SS1MnKSwgJ3dvcmtzJyk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwodG9LZWJhYkNhc2UoJ3dvcmtzJyksICd3b3JrcycpO1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHRvS2ViYWJDYXNlKCdrZWJhYi1jYXNlJyksICdrZWJhYi1jYXNlJyk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwodG9LZWJhYkNhc2UoJ3NuYWtlX2Nhc2UnKSwgJ3NuYWtlLWNhc2UnKTtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh0b0tlYmFiQ2FzZSgnVGl0bGUgQ2FzZScpLCAndGl0bGUtY2FzZScpO1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHRvS2ViYWJDYXNlKCdQYXNjYWxDYXNlJyksICdwYXNjYWwtY2FzZScpO1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHRvS2ViYWJDYXNlKCdjYW1hbENhc2UnKSwgJ2NhbWFsLWNhc2UnKTtcbiAgICB9KTtcblxuICAgIGl0KCdydW4gdG9UaXRsZUNhc2UnLCAoKSA9PiB7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwodG9UaXRsZUNhc2UoJ1dPUktTJyksICdXT1JLUycpO1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHRvVGl0bGVDYXNlKCd3b3JrcycpLCAnV29ya3MnKTtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh0b1RpdGxlQ2FzZSgna2ViYWItY2FzZScpLCAnS2ViYWIgQ2FzZScpO1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHRvVGl0bGVDYXNlKCdzbmFrZV9jYXNlJyksICdTbmFrZSBDYXNlJyk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwodG9UaXRsZUNhc2UoJ1RpdGxlIENhc2UnKSwgJ1RpdGxlIENhc2UnKTtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh0b1RpdGxlQ2FzZSgnUGFzY2FsQ2FzZScpLCAnUGFzY2FsIENhc2UnKTtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh0b1RpdGxlQ2FzZSgnY2FtYWxDYXNlJyksICdDYW1hbCBDYXNlJyk7XG4gICAgfSk7XG5cbiAgICBpdCgncnVuIHRvUGFzY2FsQ2FzZScsICgpID0+IHtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh0b1Bhc2NhbENhc2UoJ1dPUktTJyksICdXb3JrcycpO1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHRvUGFzY2FsQ2FzZSgnd29ya3MnKSwgJ1dvcmtzJyk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwodG9QYXNjYWxDYXNlKCdrZWJhYi1jYXNlJyksICdLZWJhYkNhc2UnKTtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh0b1Bhc2NhbENhc2UoJ3NuYWtlX2Nhc2UnKSwgJ1NuYWtlQ2FzZScpO1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHRvUGFzY2FsQ2FzZSgnVGl0bGUgQ2FzZScpLCAnVGl0bGVDYXNlJyk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwodG9QYXNjYWxDYXNlKCdQYXNjYWxDYXNlJyksICdQYXNjYWxDYXNlJyk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwodG9QYXNjYWxDYXNlKCdjYW1hbENhc2UnKSwgJ0NhbWFsQ2FzZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3J1biB0b0NhbWVsQ2FzZScsICgpID0+IHtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh0b0NhbWVsQ2FzZSgnV09SS1MnKSwgJ3dvcmtzJyk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwodG9DYW1lbENhc2UoJ3dvcmtzJyksICd3b3JrcycpO1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHRvQ2FtZWxDYXNlKCdrZWJhYi1jYXNlJyksICdrZWJhYkNhc2UnKTtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh0b0NhbWVsQ2FzZSgnc25ha2VfY2FzZScpLCAnc25ha2VDYXNlJyk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwodG9DYW1lbENhc2UoJ1RpdGxlIENhc2UnKSwgJ3RpdGxlQ2FzZScpO1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHRvQ2FtZWxDYXNlKCdQYXNjYWxDYXNlJyksICdwYXNjYWxDYXNlJyk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwodG9DYW1lbENhc2UoJ2NhbWFsQ2FzZScpLCAnY2FtYWxDYXNlJyk7XG4gICAgfSk7XG5cbiAgICBpdCgncnVuIHRvTmFtZUNhc2UnLCAoKSA9PiB7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwodG9OYW1lQ2FzZSgnV09SS1MnKSwgJ1dvcmtzJyk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwodG9OYW1lQ2FzZSgnd29ya3MnKSwgJ1dvcmtzJyk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwodG9OYW1lQ2FzZSgna2ViYWItY2FzZScpLCAnS2ViYWItQ2FzZScpO1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHRvTmFtZUNhc2UoJ3NuYWtlX2Nhc2UnKSwgJ1NuYWtlQ2FzZScpO1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHRvTmFtZUNhc2UoJ1RpdGxlIENhc2UnKSwgJ1RpdGxlIENhc2UnKTtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh0b05hbWVDYXNlKCdQYXNjYWxDYXNlJyksICdQYXNjYWxDYXNlJyk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwodG9OYW1lQ2FzZSgnY2FtYWxDYXNlJyksICdDYW1hbENhc2UnKTtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh0b05hbWVDYXNlKFwibydGYXJyZWxsXCIpLCBcIk8nRmFycmVsbFwiKTtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh0b05hbWVDYXNlKCdlbWlseSBiYWtlci13aGl0ZScpLCAnRW1pbHkgQmFrZXItV2hpdGUnKTtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh0b05hbWVDYXNlKCdLZWxseVJvc2UgZmx1dHknKSwgJ0tlbGx5Um9zZSBGbHV0eScpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnTG9jYWwgSG91cnMgdG8gVVRDJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY29udmVydCBsb2NhbCBob3VycyB0byB1dGMgd2hpbGUgbWFpbnRhaW5pbmcgbWludXRlcyBlbGFwc2VkJywgKCkgPT4ge1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKGxvY2FsSG91clRvVVRDKDIuNSksIDEwLjUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjb252ZXJ0IGxvY2FsIGhvdXJzIHRvIHV0YyB3aGlsZSB3cmFwcGluZyBmb3IgdGhlIDI0dGggaG91ciBtYXJrJywgKCkgPT4ge1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKGxvY2FsSG91clRvVVRDKDIyLjUpLCA2LjUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjb252ZXJ0IGxvY2FsIGhvdXJzIHRvIHV0YycsICgpID0+IHtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbChsb2NhbEhvdXJUb1VUQygyMiksIDYpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjb252ZXJ0IHV0YyBob3VycyB0byBsb2NhbCB3aGlsZSBtYWludGFpbmluZyBtaW51dGVzIGVsYXBzZWQnLCAoKSA9PiB7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwodXRjSG91clRvTG9jYWwoMi41KSwgMTguNSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNvbnZlcnQgdXRjIGhvdXJzIHRvIGxvY2FsIHdoaWxlIHdyYXBwaW5nIGZvciB0aGUgMjR0aCBob3VyIG1hcmsnLCAoKSA9PiB7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwodXRjSG91clRvTG9jYWwoMjIuNSksIDE0LjUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjb252ZXJ0IHV0YyBob3VycyB0byBsb2NhbCcsICgpID0+IHtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh1dGNIb3VyVG9Mb2NhbCgyMiksIDE0KTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdfQ==